var h=void 0,l=null;function aa(a){return function(){return this[a]}}var m,n=this;function p(){}
function ba(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function q(a){return a!==h}function s(a){return ba(a)=="array"}function ca(a){var b=ba(a);return b=="array"||b=="object"&&typeof a.length=="number"}function t(a){return typeof a=="string"}function da(a){return ba(a)=="function"}function ea(a){a=ba(a);return a=="object"||a=="array"||a=="function"}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;
function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return ka.apply(l,arguments)}var la=Date.now||function(){return+new Date};
function u(a,b){function c(){}c.prototype=b.prototype;a.ab=b.prototype;a.prototype=new c};function ma(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function na(a){if(!oa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(pa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(qa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ra,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(sa,"&quot;"));return a}var pa=/&/g,qa=/</g,ra=/>/g,sa=/\"/g,oa=/[&<>\"]/;
function ta(a,b){for(var c=0,d=ma(String(a)).split("."),e=ma(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",o=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var r=o.exec(j)||["","",""],E=B.exec(k)||["","",""];if(r[0].length==0&&E[0].length==0)break;c=ua(r[1].length==0?0:parseInt(r[1],10),E[1].length==0?0:parseInt(E[1],10))||ua(r[2].length==0,E[2].length==0)||ua(r[2],E[2])}while(c==0)}return c}
function ua(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var va,wa,xa,ya,za,Aa;function Ba(){return n.navigator?n.navigator.userAgent:l}za=ya=xa=wa=va=!1;var Ca;if(Ca=Ba()){var Da=n.navigator;va=Ca.indexOf("Opera")==0;wa=!va&&Ca.indexOf("MSIE")!=-1;ya=(xa=!va&&Ca.indexOf("WebKit")!=-1)&&Ca.indexOf("Mobile")!=-1;za=!va&&!xa&&Da.product=="Gecko"}var Ea=va,v=wa,Fa=za,w=xa,Ga=ya,Ha,Ia=n.navigator;Ha=Ia&&Ia.platform||"";Aa=Ha.indexOf("Mac")!=-1;var Ja=Ha.indexOf("Win")!=-1,Ka;
a:{var La="",Ma;if(Ea&&n.opera)var Na=n.opera.version,La=typeof Na=="function"?Na():Na;else if(Fa?Ma=/rv\:([^\);]+)(\)|;)/:v?Ma=/MSIE\s+([^\);]+)(\)|;)/:w&&(Ma=/WebKit\/(\S+)/),Ma)var Oa=Ma.exec(Ba()),La=Oa?Oa[1]:"";if(v){var Pa,Qa=n.document;Pa=Qa?Qa.documentMode:h;if(Pa>parseFloat(La)){Ka=String(Pa);break a}}Ka=La}var Ra={};function Sa(a){return Ra[a]||(Ra[a]=ta(Ka,a)>=0)}var Ta={};function Ua(){return Ta[9]||(Ta[9]=v&&document.documentMode&&document.documentMode>=9)};function Va(a,b){for(var c in a)b.call(h,a[c],c,a)}var Wa="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Xa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Wa.length;f++)c=Wa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var x=Array.prototype,Ya=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(t(a))return!t(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Za=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},$a=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=t(a)?
a.split(""):a,j=0;j<d;j++)if(j in g){var k=g[j];b.call(c,k,j,a)&&(e[f++]=k)}return e},ab=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=t(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function bb(a,b){Ya(a,b)>=0||a.push(b)}function cb(a,b){var c=Ya(a,b);c>=0&&x.splice.call(a,c,1)}function db(a){return x.concat.apply(x,arguments)}
function eb(a){if(s(a))return db(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function fb(a){return s(a)?db(a):eb(a)}function gb(a,b,c,d){x.splice.apply(a,hb(arguments,1))}function hb(a,b,c){return arguments.length<=2?x.slice.call(a,b):x.slice.call(a,b,c)};var ib;!v||Ua();var jb=v&&!Sa("8");function kb(){}kb.prototype.Id=!1;kb.prototype.Ba=function(){if(!this.Id)this.Id=!0,this.Z()};kb.prototype.Z=function(){this.Ee&&lb.apply(l,this.Ee)};function lb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ca(d)?lb.apply(l,d):d&&typeof d.Ba=="function"&&d.Ba()}};function mb(a,b){this.type=a;this.currentTarget=this.target=b}u(mb,kb);m=mb.prototype;m.Z=function(){delete this.type;delete this.target;delete this.currentTarget};m.sa=!1;m.vb=!0;m.stopPropagation=function(){this.sa=!0};m.preventDefault=function(){this.vb=!1};function nb(a){nb[" "](a);return a}nb[" "]=p;function ob(a,b){a&&this.Sb(a,b)}u(ob,mb);m=ob.prototype;m.target=l;m.relatedTarget=l;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=!1;m.altKey=!1;m.shiftKey=!1;m.metaKey=!1;m.bf=!1;m.na=l;
m.Sb=function(a,b){var c=this.type=a.type;mb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Fa){var e;a:{try{nb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=l)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.bf=Aa?a.metaKey:a.ctrlKey;this.state=a.state;this.na=a;delete this.vb;delete this.sa};m.stopPropagation=function(){ob.ab.stopPropagation.call(this);this.na.stopPropagation?this.na.stopPropagation():this.na.cancelBubble=!0};
m.preventDefault=function(){ob.ab.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,jb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};m.Z=function(){ob.ab.Z.call(this);this.relatedTarget=this.currentTarget=this.target=this.na=l};function pb(){}var qb=0;m=pb.prototype;m.key=0;m.Ya=!1;m.xd=!1;m.Sb=function(a,b,c,d,e,f){if(da(a))this.Yd=!0;else if(a&&a.handleEvent&&da(a.handleEvent))this.Yd=!1;else throw Error("Invalid listener argument");this.qb=a;this.le=b;this.src=c;this.type=d;this.capture=!!e;this.Fc=f;this.xd=!1;this.key=++qb;this.Ya=!1};m.handleEvent=function(a){return this.Yd?this.qb.call(this.Fc||this.src,a):this.qb.handleEvent.call(this.qb,a)};var rb,sb=(rb="ScriptEngine"in n&&n.ScriptEngine()=="JScript")?n.ScriptEngineMajorVersion()+"."+n.ScriptEngineMinorVersion()+"."+n.ScriptEngineBuildVersion():"0";function y(a,b){this.ce=b;this.Ea=[];if(a>this.ce)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.Ea.push(this.fa?this.fa():{})}u(y,kb);y.prototype.fa=l;y.prototype.Hd=l;y.prototype.getObject=function(){return this.Ea.length?this.Ea.pop():this.fa?this.fa():{}};function tb(a,b){a.Ea.length<a.ce?a.Ea.push(b):ub(a,b)}function ub(a,b){if(a.Hd)a.Hd(b);else if(ea(b))if(da(b.Ba))b.Ba();else for(var c in b)delete b[c]}
y.prototype.Z=function(){y.ab.Z.call(this);for(var a=this.Ea;a.length;)ub(this,a.pop());delete this.Ea};var vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb;
(function(){function a(){return{Y:0,T:0}}function b(){return[]}function c(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new pb}function e(){return new ob}var f=rb&&!(ta(sb,"5.7")>=0),g;Ab=function(a){g=a};if(f){vb=function(){return j.getObject()};wb=function(a){tb(j,a)};xb=function(){return k.getObject()};yb=function(a){tb(k,a)};zb=function(){return o.getObject()};Bb=function(){tb(o,c())};Cb=function(){return B.getObject()};Db=function(a){tb(B,a)};Eb=function(){return r.getObject()};
Fb=function(a){tb(r,a)};var j=new y(0,600);j.fa=a;var k=new y(0,600);k.fa=b;var o=new y(0,600);o.fa=c;var B=new y(0,600);B.fa=d;var r=new y(0,600);r.fa=e}else vb=a,wb=p,xb=b,yb=p,zb=c,Bb=p,Cb=d,Db=p,Eb=e,Fb=p})();var Gb={},z={},Hb={},Ib={};
function A(a,b,c,d,e){if(b)if(s(b)){for(var f=0;f<b.length;f++)A(a,b[f],c,d,e);return l}else{var d=!!d,g=z;b in g||(g[b]=vb());g=g[b];d in g||(g[d]=vb(),g.Y++);var g=g[d],j=fa(a),k;g.T++;if(g[j]){k=g[j];for(f=0;f<k.length;f++)if(g=k[f],g.qb==c&&g.Fc==e){if(g.Ya)break;return k[f].key}}else k=g[j]=xb(),g.Y++;f=zb();f.src=a;g=Cb();g.Sb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Gb[c]=g;Hb[j]||(Hb[j]=xb());Hb[j].push(g);a.addEventListener?(a==n||!a.wc)&&a.addEventListener(b,f,d):a.attachEvent(b in Ib?Ib[b]:
Ib[b]="on"+b,f);return c}else throw Error("Invalid event type");}function Jb(a,b,c,d,e){if(s(b))for(var f=0;f<b.length;f++)Jb(a,b[f],c,d,e);else{d=!!d;a:{f=z;if(b in f&&(f=f[b],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].qb==c&&a[f].capture==d&&a[f].Fc==e){Kb(a[f].key);break}}}
function Kb(a){if(Gb[a]){var b=Gb[a];if(!b.Ya){var c=b.src,d=b.type,e=b.le,f=b.capture;c.removeEventListener?(c==n||!c.wc)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Ib?Ib[d]:Ib[d]="on"+d,e);c=fa(c);e=z[d][f][c];if(Hb[c]){var g=Hb[c];cb(g,b);g.length==0&&delete Hb[c]}b.Ya=!0;e.fe=!0;Lb(d,f,c,e);delete Gb[a]}}}
function Lb(a,b,c,d){if(!d.Wb&&d.fe){for(var e=0,f=0;e<d.length;e++)if(d[e].Ya){var g=d[e].le;g.src=l;Bb(g);Db(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.fe=!1;f==0&&(yb(d),delete z[a][b][c],z[a][b].Y--,z[a][b].Y==0&&(wb(z[a][b]),delete z[a][b],z[a].Y--),z[a].Y==0&&(wb(z[a]),delete z[a]))}}
function Mb(a){var b,c=0,d=b==l;b=!!b;if(a==l)Va(Hb,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Kb(f.key),c++}});else if(a=fa(a),Hb[a])for(var a=Hb[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Kb(f.key),c++}}function Nb(a,b,c,d,e){var f=1,b=fa(b);if(a[b]){a.T--;a=a[b];a.Wb?a.Wb++:a.Wb=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];k&&!k.Ya&&(f&=Ob(k,e)!==!1)}}finally{a.Wb--,Lb(c,d,b,a)}}return Boolean(f)}
function Ob(a,b){var c=a.handleEvent(b);a.xd&&Kb(a.key);return c}
Ab(function(a,b){if(!Gb[a])return!0;var c=Gb[a],d=c.type,e=z;if(!(d in e))return!0;var e=e[d],f,g;ib===h&&(ib=v&&!n.addEventListener);if(ib){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=n;f=j.shift();)if(k[f]!=l)k=k[f];else{j=l;break a}j=k}f=j;j=!0 in e;k=!1 in e;if(j){if(f.keyCode<0||f.returnValue!=h)return!0;a:{var o=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(B){o=!0}if(o||f.returnValue==h)f.returnValue=!0}}o=Eb();o.Sb(f,this);f=!0;try{if(j){for(var r=xb(),E=o.currentTarget;E;E=
E.parentNode)r.push(E);g=e[!0];g.T=g.Y;for(var J=r.length-1;!o.sa&&J>=0&&g.T;J--)o.currentTarget=r[J],f&=Nb(g,r[J],d,!0,o);if(k){g=e[!1];g.T=g.Y;for(J=0;!o.sa&&J<r.length&&g.T;J++)o.currentTarget=r[J],f&=Nb(g,r[J],d,!1,o)}}else f=Ob(c,o)}finally{if(r)r.length=0,yb(r);o.Ba();Fb(o)}return f}d=new ob(b,this);try{f=Ob(c,d)}finally{d.Ba()}return f});function Pb(){}u(Pb,kb);m=Pb.prototype;m.wc=!0;m.Pc=l;m.addEventListener=function(a,b,c,d){A(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Jb(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=z;if(b in c){if(t(a))a=new mb(a,this);else if(a instanceof mb)a.target=a.target||this;else{var d=a,a=new mb(b,this);Xa(a,d)}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.Pc)e.push(f);f=c[!0];f.T=f.Y;for(var g=e.length-1;!a.sa&&g>=0&&f.T;g--)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,!0,a)&&a.vb!=!1}if(!1 in c)if(f=c[!1],f.T=f.Y,b)for(g=0;!a.sa&&g<e.length&&f.T;g++)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,!1,a)&&a.vb!=!1;else for(e=this;!a.sa&&
e&&f.T;e=e.Pc)a.currentTarget=e,d&=Nb(f,e,a.type,!1,a)&&a.vb!=!1;a=Boolean(d)}else a=!0;return a};m.Z=function(){Pb.ab.Z.call(this);Mb(this);this.Pc=l};function Qb(a,b){this.W=rb?[]:"";a!=l&&this.append.apply(this,arguments)}Qb.prototype.set=function(a){this.clear();this.append(a)};rb?(Qb.prototype.uc=0,Qb.prototype.append=function(a,b,c){b==l?this.W[this.uc++]=a:(this.W.push.apply(this.W,arguments),this.uc=this.W.length);return this}):Qb.prototype.append=function(a,b,c){this.W+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.W+=arguments[d];return this};Qb.prototype.clear=function(){rb?this.uc=this.W.length=0:this.W=""};
Qb.prototype.toString=function(){if(rb){var a=this.W.join("");this.clear();a&&this.append(a);return a}else return this.W};v&&Sa(8);var Rb;function Sb(a,b){var c;c=(c=a.className)&&typeof c.split=="function"?c.split(/\s+/):[];var d=hb(arguments,1),e;e=c;for(var f=0,g=0;g<d.length;g++)Ya(e,d[g])>=0||(e.push(d[g]),f++);e=f==d.length;a.className=c.join(" ");return e};function C(a,b){this.width=a;this.height=b}m=C.prototype;m.i=function(){return new C(this.width,this.height)};function Tb(a){return a.width*a.height}m.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};m.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};m.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
m.scale=function(a){this.width*=a;this.height*=a;return this};var Ub=!v||Ua();!Fa&&!v||v&&Ua()||Fa&&Sa("1.9.1");v&&Sa("9");function D(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}D.prototype.i=function(){return new D(this.x,this.y)};function Vb(a){var b=new D(0,0),c=a.x-b.x,a=a.y-b.y;return Math.sqrt(c*c+a*a)};function Wb(a){return a?new Xb(Yb(a)):Rb||(Rb=new Xb)}function Zb(a,b){var c=b&&b!="*"?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!w||$b(document)||Sa("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function ac(a,b){Va(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in bc?a.setAttribute(bc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}
var bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function cc(a){var b=a.document;if(w&&!Sa("500")&&!Ga){typeof a.innerHeight=="undefined"&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new C(a.innerWidth,b)}a=$b(b)?b.documentElement:b.body;return new C(a.clientWidth,a.clientHeight)}function dc(a,b,c){return ec(document,arguments)}
function ec(a,b){var c=b[0],d=b[1];if(!Ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',na(d.name),'"');if(d.type){c.push(' type="',na(d.type),'"');var e={};Xa(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)t(d)?c.className=d:s(d)?Sb.apply(l,[c].concat(d)):ac(c,d);b.length>2&&fc(a,c,b,2);return c}
function fc(a,b,c,d){function e(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ca(f)&&!(ea(f)&&f.nodeType>0)?Za(gc(f)?eb(f):f,e):e(f)}}function $b(a){return a.compatMode=="CSS1Compat"}function hc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function ic(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function F(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function jc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Yb(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Yb(a).createTextNode(b))}}function gc(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return!1}function Xb(a){this.ma=a||n.document||document}m=Xb.prototype;
m.Ed=function(a,b,c){return ec(this.ma,arguments)};m.createElement=function(a){return this.ma.createElement(a)};m.createTextNode=function(a){return this.ma.createTextNode(a)};m.appendChild=function(a,b){a.appendChild(b)};m.append=function(a,b){fc(Yb(a),a,arguments,1)};m.contains=jc;var lc={},mc,nc,oc;function pc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}pc.prototype.i=function(){return new pc(this.top,this.right,this.bottom,this.left)};pc.prototype.contains=function(a){return!this||!a?!1:a instanceof pc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
pc.prototype.expand=function(a,b,c,d){ea(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function qc(a,b){var c;a:{c=Yb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}function rc(a){var b=a.getBoundingClientRect();if(v)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function sc(a){if(v)return a.offsetParent;for(var b=Yb(a),c=qc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=qc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return l}function tc(a,b,c){if(b instanceof C)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=uc(b);a.style.height=uc(c)}
function uc(a){typeof a=="number"&&(a=Math.round(a)+"px");return a}function vc(a){if(qc(a,"display")!="none")return wc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=wc(a);b.display=c;b.position=e;b.visibility=d;return a}function wc(a){var b=a.offsetWidth,c=a.offsetHeight,d=w&&!b&&!c;return(!q(b)||d)&&a.getBoundingClientRect?(a=rc(a),new C(a.right-a.left,a.bottom-a.top)):new C(b,c)}
function xc(a){var b=Wb(h),c=l;if(v)c=b.ma.createStyleSheet(),yc(c,a);else{var d=Zb(b.ma,"head")[0];d||(c=Zb(b.ma,"body")[0],d=b.Ed("head"),c.parentNode.insertBefore(d,c));c=b.Ed("style");yc(c,a);b.appendChild(d,c)}return c}function yc(a,b){v?a.cssText=b:a[w?"innerText":"innerHTML"]=b};var zc,Ac,Bc,Cc,Dc,Ec=Ba();Ac=(zc=w&&Ga&&/(ipod|iphone|ipad)/i.test(Ec))&&da(Object.freeze);Bc=w&&Ga&&/(android)/i.test(Ec);Cc=w&&/playbook/i.test(Ec);Dc=q(document.ontouchmove);(function(){var a=[[],[]],b=[[],[]];mc=function(c,d,e){bb((e?b:a)[d||0],c)};nc=function(){for(var c,d=0;d<2;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.w=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var Fc;var Gc=new Qb;
Gc.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene",
" {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
Fc=Gc.toString();xc(Fc);var G=new function(){this.O=[];this.Qa=!1;this.Wd=0;this.Ac=1E3/30;this.Fa=0};function Hc(a,b){this.B=this.de=a;this.Jc=q(b)?b:-1;this.oa=[]}Hc.prototype.$a=function(a){if(this.oa.length)if(this.B>a)this.B-=a;else{var b=this.de+a-this.B;this.B=this.de-(a-this.B);if(this.B<0)this.B=0;for(var c,a=this.oa.length;--a>=0;)(c=this.oa[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);this.Jc!=-1&&(this.Jc--,this.Jc==0&&G.xa(c[1],c[2]))}};G.O.push(new Hc(0));G.ed=n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame;
G.Af=aa("Ac");G.lf=function(){this.Ac=1E3/60;this.Qa&&(G.Gd(),G.kd())};G.bc=function(a,b,c){c=q(c)?c:this.O[0];bb(c.oa,[1,a,b]);bb(this.O,c);this.Qa||G.kd()};G.xa=function(a,b){for(var c=this.O.length;--c>=0;){for(var d=this.O[c],e=d.oa,f,g=e.length;--g>=0;)f=e[g],f[1]==a&&f[2]==b&&cb(e,f);e.length==0&&c!=0&&cb(this.O,d)}this.O.length==1&&this.O[0].oa.length==0&&G.Gd()};
G.kd=function(){if(!this.Qa)this.Fa=la(),G.ed?n.mozRequestAnimationFrame?(n.mozRequestAnimationFrame(),this.sd=ka(G.Ae,this),n.addEventListener("MozBeforePaint",this.sd,!1)):(this.oc=ka(G.ye,this),n.webkitRequestAnimationFrame(this.oc)):this.Wd=setInterval(ka(G.rf,this),G.Ac),this.Qa=!0};G.Gd=function(){if(this.Qa)G.ed?n.mozRequestAnimationFrame?n.removeEventListener("MozBeforePaint",this.sd,!1):n.webkitCancelRequestAnimationFrame(this.oc):clearInterval(this.Wd),this.Qa=!1};
G.ye=function(a){a||(a=la());G.zc(a-this.Fa);this.Fa=a;n.webkitRequestAnimationFrame(this.oc)};G.Ae=function(a){G.zc(a.timeStamp-this.Fa);this.Fa=a.timeStamp;n.mozRequestAnimationFrame()};G.rf=function(){var a=la(),b=a-this.Fa;b<0&&(b=1);G.zc(b);this.Fa=a};G.zc=function(a){for(var b=this.O.length;--b>=0;)this.O[b].$a(a);if(oc==1&&/Firefox\/4./.test(Ba())&&!lc.xf)G.he?(document.body.style.MozTransform="",G.he=0):(document.body.style.MozTransform="scale(1,1)",G.he=1),oc=0};
G.De=function(a){for(var b,c,d,e,f=this.O.length;--f>=0;){b=this.O[f];for(e=b.oa.length;--e>=0;)d=b.oa[e],c=d[2],da(c.J)&&(c=c.J(),c==a&&(d[0]=!0))}};G.da=function(a,b,c){G.kf(a,b,c)};G.kf=function(a,b,c){G.bc(a,b,new Hc(c,1))};var Ic;function H(){this.ia=[];this.Hc=[];this.gc={};this.Bf=!1;this.q=1;this.Sa=Jc;this.V=0}u(H,Pb);m=H.prototype;m.scope="";m.l=function(a){this.q=a;return this};function I(a,b){a.Sa=b;return a}m.play=function(){this.ke=0;this.Nd=this.V=1;G.bc(this.$a,this);this.dispatchEvent({type:"start"})};m.stop=function(){if(this.V!=0){var a=this.Hc;if(Kc(this)&&this.X)for(var b=a.length;--b>=0;)this.X(a[b]);this.Hc=[];this.gc={};this.V=0;G.xa(this.$a,this);this.dispatchEvent({type:"stop"})}};m.sb=function(){return{}};
function Lc(a,b){var c=fa(b);q(a.gc[c])||(a.Gc(b),a.gc[c]=a.sb(b));return a.gc[c]}m.Gc=function(a){Mc.ac(this,a);this.V=1;bb(this.Hc,a);this.Ab&&!this.Xc&&this.jb&&this.jb()};m.J=function(){return this.ia[0]?this.ia[0].J():l};m.$a=function(a){this.Ab&&!this.Xc&&this.jb&&this.jb();this.Nd&&(delete this.Nd,a=1);this.ke+=a;this.zf=a;a=this.ke/(this.q*1E3);if(isNaN(a)||a>=1)a=1;a=this.Db(a,this.ia);a==1&&this.stop()};
m.Db=function(a,b){a=this.Sa[0](a);isNaN(a)&&(a=1);for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function Kc(a){return a.q>0&&Nc&&a.af&&!Bc&&!Fa}function Oc(a){a.af=q(h)?h:!0;return a}var Mc=new function(){this.h={}};Mc.ac=function(a,b){if(a.scope.length){var c=fa(b);q(this.h[c])||(this.h[c]={});q(this.h[c][a.scope])&&this.h[c][a.scope].stop();this.h[c][a.scope]=a}};Mc.If=function(a){a=fa(a);if(q(this.h[a]))for(var b in this.h[a])this.h[a][b].stop(),delete this.h[a][b]};
(function(){function a(a){var e,f,g,r;for(g=a,f=0;f<8;f++){r=((b*g+c)*g+d)*g-a;if((r>=0?r:0-r)<5.0E-5)return g;e=(3*b*g+2*c)*g+d;if((e>=0?e:0-e)<1.0E-6)break;g-=r/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){r=((b*g+c)*g+d)*g;if((r-a>=0?r-a:0-(r-a))<5.0E-5)break;a>r?e=g:f=g;g=(f-e)*0.5+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;Ic=function(j,k,o,B){return[function(r){d=3*j;c=3*(o-j)-d;b=1-d-c;g=3*k;f=3*(B-k)-g;e=1-g-f;return((e*a(r)+f)*a(r)+g)*a(r)},j,k,o,B]}})();
var Pc=Ic(0,0,1,1),Qc=Ic(0,0,0.58,1),Jc=Ic(0.42,0,0.58,1);function Rc(){}u(Rc,Pb);Rc.prototype.Vd=p;function Sc(a){if(a[0]instanceof Rc)return a[0];s(a)||(a=fb(arguments));if(a.length>2)return new Tc(a);else if(t(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Tc(a[0]);return new Uc(a[0])}Rc.prototype.xb=p;Rc.prototype.wb=p;function Tc(a){this.gb=1;this.cc(a)}u(Tc,Rc);m=Tc.prototype;m.id="color";m.cc=function(a){var b=a;if(t(a))return this.Ka=a,this;arguments.length>2&&(b=arguments);if(b.length>=3)this.Yb=b[0],this.Pb=b[1],this.Fb=b[2];if(b.length==4)this.gb=b[3];this.Ka=this.gb==1?"rgb("+this.Yb+","+this.Pb+","+this.Fb+")":"rgba("+this.Yb+","+this.Pb+","+this.Fb+","+this.gb+")";return this};m.xb=function(a){a.style.background=this.Ka};m.wb=function(a){a.fillStyle=this.Ka};
m.i=function(){var a=new Tc("");a.Yb=this.Yb;a.Pb=this.Pb;a.Fb=this.Fb;a.gb=this.gb;a.Ka=this.Ka;return a};function Vc(a,b){var c=s(a)?a:fb(arguments);this.ka=c[0]||1;c.shift();this.cc.apply(this,c)}u(Vc,Rc);m=Vc.prototype;m.id="stroke";m.xb=function(a){a.style.border=this.ka+"px solid "+this.za.Ka};m.wb=function(a){a.strokeStyle=this.za.Ka;a.lineWidth=this.ka};m.cc=function(a){var b=fb(arguments);b[0]instanceof Tc?this.za=b[0]:(this.za=new Tc("#000"),b.length&&this.za.cc.apply(this.za,b));return this};m.i=function(){var a=new Vc;a.ka=this.ka;a.za=this.za;return a};function Uc(a){a&&da(a.data)&&(a=a.data());if(t(a)){this.Q=a;if(this.Q.length>50)this.Q=this.Q.substr(-50);Wc[this.Q]?this.D=Wc[this.Q]:(this.D=new Image,this.D.src=a)}else{this.Q=a.src;if(this.Q.length>50)this.Q=this.Q.substr(-50);this.D=Wc[this.Q]?Wc[this.Q]:a}this.pb()||A(this.D,"load",this.Pe,!1,this);Wc[this.Q]=this.D}u(Uc,Rc);var Wc={};m=Uc.prototype;m.id="image";
m.Vd=function(a){var b=a.n(),c=this;!b.width&&!b.height&&(this.pb()?a.e(this.D.width,this.D.height):A(this,"load",function(){var a=this.n();!a.width&&!a.height&&this.e(c.D.width,c.D.height)},!1,a));this.pb()||A(this,"load",function(){K(a,4)},!1,this)};m.Pe=function(a){this.dispatchEvent(a)};m.pb=function(){return this.D&&this.D.width&&this.D.height};m.e=function(a,b,c){typeof a=="number"&&(a=new C(a,b),b=c||!1);this.s=a;this.nf=b;return this};
function Xc(a,b){var c=b.n().i();if(a.s)a.nf?(c.width*=a.s.width,c.height*=a.s.height):c=a.s;var d=new D(0,0);if(a.Oc)a.Df?(d.x=c.width*a.Oc.x,d.y=c.height*a.Oc.y):d=a.Oc;return[c,d]}m.xb=function(a,b){a.style.background="url("+this.D.src+")";var c=Xc(this,b),d=c[0],c=c[1],e=Yc(b);a.style[Zc("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.I?b.I.ka:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.Gf&&(a.style.imageRendering="optimizeQuality")};
m.wb=function(a,b){var c=b.n(),d=L(b);if(c.width&&c.height)try{var e=this.D,f=Xc(this,b),g=f[0],j=f[1],k=a.createPattern(e,"repeat"),o=g.width/e.width,B=g.height/e.height;a.save();a.translate(d.left+j.x,d.top+j.y);a.scale(o,B);a.fillStyle=k;a.fillRect(-j.x/o,-j.y/B,c.width/o,c.height/B);a.restore()}catch(r){}};pc.prototype.size=function(){return new C(this.right-this.left,this.bottom-this.top)};function $c(){}$c.prototype.v=p;function M(a){return a.rd?a.rd:a}function ad(a,b){Xa(b,a);b.rd=M(a);return b};var N=new $c;N.Na=function(){};
N.Fe=function(){var a=this.Wa,b=this.Xb(),c=this.aa||1,d=c/a,e;if(this.b){this.Lb&&this.Lb.contains(b)&&(e=Tb(this.Lb.size())/Tb(b.size()))&&e<1.6&&e>0.5?b=this.Lb:this.Hf!=1&&this.f.length!=0&&(this instanceof O||b.expand(12,12,12,12));this.Lb=b;var f=b.size();e=f.i().scale(c).ceil();if(this.b.width!=e.width||this.b.height!=e.height)this.b.width=e.width,this.b.height=e.height,this.$b=1;var g=this.G.i();this.m[2]&&(g=this.m[2]);e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=L(this);this.pc=
(a.left-b.left)*c;this.qc=(a.top-b.top)*c;b=this.n().i();a=this.R;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.g.i();this.m[1]&&(c=this.m[1]);c.x*=d;c.y*=d;c.x-=b.width+this.pc;c.y-=b.height+this.qc;bd(this.b,(this.pc+b.width)/e.width*100,(this.qc+b.height)/e.height*100,!0);!this.P[1]&&!this.P[2]&&!this.P[4]&&(d=-cd(this),q(this.m[4])&&(d=-this.m[4]),dd(this.b,ed(new fd,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));if(this.$b)d=this.b.getContext("2d"),c=this.aa||1,d.clearRect(0,0,e.width,e.height),
d.save(),d.translate(this.pc,this.qc),d.scale(c,c),e=this.n(),g=this.R,d.translate(e.width*g.x,e.height*g.y),this.p.Kd.call(this,d),d.restore(),this.$b=0}};N.update=function(){};
N.Kd=function(a){if(this.r&&(this.j!=this.la&&(this.la&&P.qe.call(this),this.j&&P.ld.call(this)),!this.Ga&&!this.Rb&&!(this.z==0||this.Ic==1))){this.z!=1&&(a.globalAlpha*=this.z);if(this.j){P.wd.call(this.j);var b=this.la,c=this.G;a.save();a.save();a.translate(b.ae.x,b.ae.y);a.rotate(-b.be);this.tb&&a.rotate(cd(this)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.Nc/c.x,0);a.lineTo(b.Nc/c.x,b.Mc/c.y);a.lineTo(0,b.Mc/c.y);a.closePath();a.restore();a.clip()}b=new D(0,0);this.p.v.call(this,a);for(var d=
0,e;e=this.f[d];d++){var f=gd(e,b).i(),g=cd(e),c=e.G;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);g!=0&&a.rotate(-g*Math.PI/180);this.p.Kd.call(e,a);a.restore()}this.z!=1&&(a.globalAlpha/=this.z);this.la&&a.restore()}};function Q(a,b){this.x=a;this.y=b}u(Q,D);Q.prototype.i=function(){return new Q(this.x,this.y)};Q.prototype.scale=function(a){this.x*=a;this.y*=a;return this};Q.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Nc,Zc,hd,id,jd,kd,ld;(function(){var a=w?"Webkit":Fa?"Moz":Ea?"O":v?"ms":"",b=dc("div").style;hd="-"+a.toLowerCase()+"-transform";id=function(a){return b[a]!==h?a:!1};Zc=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return id(b)?b:id(d)?d:id(e)?e:h}})();var md=function(){var a=Zc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=q(d)?d:c;c=(s(c)?c.join(e+" "):c)+e+"/"+((s(d)?d.join(e+" "):d)+e);if(c!=b.Ce)b.style[a]=b.Ce=c}}();
function fd(a){this.ic=[];this.Va=1;this.Ef&&ed(this,a)}fd.prototype.scale=function(a,b){this.ic.push("scale("+a+","+b+")");return this};fd.prototype.rotate=function(a,b){a!=0&&this.ic.push("rotate("+a+(b?b:"deg")+")");return this};fd.prototype.translate=function(a,b,c){var d=1/this.Va,e="translate";if(zc||Cc)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(zc||Cc)e+=","+(c?c:0)*d+"px";this.ic.push(e+")");return this};
function ed(a,b){if(a.Va!=1){var c=1/a.Va;a.scale(c,c);a.Va=1}if(b!=1)a.scale(b,b),a.Va=b;return a}fd.prototype.toString=function(){this.Va!=1&&ed(this,1);return this.ic.join(" ")};var dd=function(){var a=Zc("Transform");return function(b,c){var d=c.toString();if(d!=b.tf)b.style[a]=b.tf=d;oc=1}}(),bd=function(){var a=Zc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.uf)b.style[a]=b.uf=c}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=$a(e,function(a){return a.indexOf(b)==-1});return e.join(",")}var b=Zc("Transition");Nc=!!b&&!Ea;jd=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};kd=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};ld=function(a,b,e){if(a.wf!=b||a.Oe!=e)a.wf=b,a.Oe=e,tc(a,b,e)}})();var P=new $c;P.Na=function(){for(var a=0,b,c=0;b=this.f[c];c++)b=b instanceof R?b.A:b,b==this.b.childNodes[a]?a++:(jc(this.L,b)&&F(b),P.ze(this.L,b,a++))};
P.Ge=function(){var a=this.n(),b=this.Wa,c=this.g,d=this.aa||1;this.m[1]&&(c=this.m[1]);var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.G.i();this.m[2]&&(g=this.m[2].i());e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);ld(this.b,e,f);bd(this.b,this.R.x*100,this.R.y*100,!0);e=this.R.x*a.width*d;f=this.R.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.I?this.I.ka:0;(e-c!=0||f-c!=0)&&this.b==this.L&&this.f.length&&P.We.call(this);this.b!=this.L&&!this.P[1]&&!this.P[2]&&!this.P[4]&&dd(this.L,(new fd).translate(e-
c,f-c));this.j!=this.la&&(this.la&&P.qe.call(this),this.j&&P.ld.call(this));c=ed(new fd,0.1);this.j&&(P.wd.call(this.j),ed(ed(c,0.1).translate(-this.j.Ue-e,-this.j.Ve-f).rotate(this.j.be,"rad").translate(e,f),1));e=-cd(this);q(this.m[4])&&(e=-this.m[4]);c.translate(a,b).scale(g.x,g.y).rotate(e);!this.P[1]&&!this.P[2]&&!this.P[4]&&dd(this.b,c)};
P.update=function(){if(this.b){P.Ge.call(this);if(!this.P[5]){var a=this.z;q(this.m[5])&&(a=this.m[5]);if(this.w&16){var b=this.b.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}this.w&32&&(this.b.style.display=this.Rb?"none":"block");this.Ga||this.p.v.call(this,this.b)}};
P.wd=function(){if(q(this.Zc)&&this.Zc.r){var a=this.Zc,b=L(this),c=new D(b.left,b.top),d=new D(b.right,b.top),e=new D(b.right,b.bottom),b=a.getParent(),c=!this.r?c:b.ba(this.rb(c)),d=!this.r?d:b.ba(this.rb(d)),e=!this.r?e:b.ba(this.rb(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,k=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.Nc=Math.round(Math.sqrt(f*f+g*g));this.Mc=Math.round(Math.sqrt(j*j+k*k));if(M(a.p)==P)f=a.A,tc(f,this.Nc,this.Mc),dd(f,ed(new fd,0.1).translate(c.x,c.y).rotate(-b,
"rad"));M(this.p)==P&&(this.b.style.display="none");this.ae=nd(a,c.i());this.Te=!0;this.Ue=d*c.x-e*c.y;this.Ve=d*c.y+e*c.x;this.be=b}};P.ze=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};P.We=function(){this.L=dc("div");for(var a=document.createDocumentFragment(),b;b=this.b.firstChild;)this.b.removeChild(b),a.appendChild(b);this.L.appendChild(a);this.b.appendChild(this.L)};
P.qe=function(){if(this.b!=this.A){if(M(this.p)==P){F(this.b);var a=this.A,b=a.parentNode;b&&b.replaceChild(this.b,a);this.A=this.b}this.la.Ic=0;this.la=l}};P.ld=function(){if(M(this.p)==P){this.A=dc("div");this.A.style.cssText="position:absolute;overflow:hidden;";bd(this.A,0,0);var a=this.b,b=a.parentNode;b&&b.replaceChild(this.A,a);this.A.appendChild(this.b)}this.j.Ic=1;this.j.Zc=this;this.la=this.j;K(this.j,1)};function R(){this.f=[];this.k=l;this.ja={};this.m={};this.P={};this.$c={};this.r=!1;this.Vc=this.yc=l;this.C={};this.H(1);this.a(0,0);this.e(0,0);this.Wa=1;this.c(0.5,0.5);S(this,0);this.qd=0;K(this,7);this.z=1;od(this);pd(this,M(this.ua[0]));K(this,64)}u(R,Pb);m=R.prototype;m.ua=[P,N];function pd(a,b){if(!a.p||M(a.p)!=b){for(var c=-1,d=0;d<a.ua.length;d++)if(M(a.ua[d])==b){c=d;break}if(c!=-1){a.p=a.ua[d];K(a,64);for(d=0;c=a.f[d];d++)pd(c,b)}}}m.tb=function(){return!(this.k&&M(this.k.p)==N)};
function qd(a){if(a.tb())return a.tb()?rd(a):sd(a),a;else if(a.k)return qd(a.k);return l}function td(a){if(!a.k||a instanceof O)return[];var b=a.k.f.indexOf(a),a=td(a.k);a.push(b);return a}function ud(a,b){if(a==b)return 0;for(var c=td(a),d=td(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}m.wc=!1;
function K(a,b,c,d){b&&!a.w&&mc(a,c,d);a.w|=b;if(b==64)for(c=0;d=a.f[c];c++)d instanceof R&&K(d,64);if(!q(a.w)||!b)a.w=0;if(b&&a.Ga)a.Te=!1,K(a.Ga,-1);return a}m.H=function(a,b){this.G=arguments.length==1&&typeof a=="number"?new Q(a,a):arguments.length==2?new Q(arguments[0],arguments[1]):a;return this.m[2]?this:K(this,2)};m.a=function(a,b){this.g=arguments.length==2?new D(arguments[0],arguments[1]):a;return this.m[1]?this:K(this,1)};
function od(a){if(l!=a.j){if(a.j){var b=a.j;delete b.xc;vd(b,b.getParent());delete a.j.Ga}a.j=l;if(a.j)wd(a.j),a.j.Ga=a;K(a,4)}}m.c=function(a,b){this.R=arguments.length==2?new Q(arguments[0],arguments[1]):a;return K(this,1)};function cd(a){return a.Ia%=360}function S(a,b){a.Ia=b;return a.m[4]?a:K(a,1)}function xd(a,b){a.Rb=b;K(a,32);a.pd=0}m.n=aa("s");
m.e=function(a,b){var c=this.s,d,e;d=arguments.length==2?new C(arguments[0],arguments[1]):a;var f=this.R;if(c&&this.f.length)for(var g=0;g<this.f.length;g++){var j=this.f[g];if(j.Ke){var k=j.qd;if(k!=0){var o=yd(j);e=c.width;var B=o.left+f.x*c.width,r=o.right-o.left,E=e-o.right-f.x*c.width;k&1&&(e-=B);k&2&&(e-=r);k&4&&(e-=E);e!=c.width&&(e=(d.width-e)/(c.width-e),k&1&&(B*=e),k&2&&(r*=e));e=c.height;var E=o.top+f.y*c.height,J=o.bottom-o.top,o=e-o.bottom-f.y*c.height;k&8&&(e-=E);k&16&&(e-=J);k&32&&
(e-=o);e!=c.height&&(e=(d.height-e)/(c.height-e),k&8&&(E*=e),k&16&&(J*=e));k=j.R;j.e(r,J);j.a(B+k.x*r-f.x*d.width,E+k.y*J-f.y*d.height)}}}this.s=d;return K(this,2)};function Yc(a){a.aa||zd(a);return a.aa}function zd(a){var b=q(a.aa)?a.aa:a.Wa;a.k&&a.k.aa&&(b=a.Wa*a.k.aa);if(b!=a.aa){a.aa=b;for(var b=0,c;c=a.f[b];b++)c instanceof R&&zd(c);K(a,2)}}m.Ke=aa("qd");m.ba=function(a){return!this.r?a:nd(this,this.getParent().ba(a))};
function nd(a,b){if(!a.getParent())return l;b.x-=a.g.x;b.y-=a.g.y;b.x/=a.G.x;b.y/=a.G.y;if(a.Ia!=0){var c=b.i(),d=a.Ia*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}m.rb=function(a){return!this.r?a:this.getParent().rb(gd(this,a))};function gd(a,b){if(!a.getParent())return b;var c=b.i();if(a.Ia!=0){var d=-a.Ia*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.G.x;c.y*=a.G.y;c.x+=a.g.x;c.y+=a.g.y;return c}
function T(a,b){a.z=b;var c=a.Rb;a.z==0&&!c?(xd(a,!0),a.pd=1):a.z!=0&&c&&a.pd&&xd(a,!1);if(q(a.m[5]))return a;K(a,16);return a}function rd(a){function b(){this.b=this.A=this.L=dc(c);this.nb&&Sb(this.b,this.nb);this.w|=-1}var c=M(a.p)==N?"canvas":"div";if(a.b){if(a.b.tagName.toLowerCase()!=c){var d=a.A;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.A,d)}}else b.call(a)}function sd(a){a.A&&(F(a.A),delete a.b,delete a.A,delete a.L)}
m.Na=function(){this.w&=-65;this.tb()?rd(this):sd(this);if(this.k&&this.k.w&64)this.k.Na();else if(this.tb()){for(var a=0,b;b=this.f[a];a++)b instanceof R&&b.Na();this.p.Na.call(this)}};
m.update=function(a){var b,c,a=a||0;fa(this);this.w&64&&this.Na();var d=M(this.p)==P||a;if(d){for(var e in this.$c)delete this.m[e],delete this.P[e],b=parseInt(e,10)==5?"opacity":hd,kd(this.b,b),this.b!=this.L&&kd(this.yf,b);b=0;for(e in this.ja)c=this.ja[e],c[3]||(c[3]=1,e==1&&this.cf!=this.g&&(K(this,1,0,!0),b=1),e==2&&this.jf!=this.G&&(K(this,2,0,!0),b=1),e==5&&this.$e!=this.z&&(K(this,16,0,!0),b=1),e==4&&this.hf!=this.Ia&&(K(this,128,0,!0),b=1));if(!b)for(e in this.ja){c=this.ja[e];b=parseInt(e,
10)==5?"opacity":hd;if(M(this.p)==P||b!="opacity")this.m[e]=c[0],jd(this.b,b,c[1],c[2]),this.b!=this.L&&b==hd&&jd(this.L,b,c[1],c[2]);delete this.ja[e]}this.cf=this.g;this.jf=this.G;this.$e=this.z;this.hf=this.Ia;this.$c={}}if(a)this.p.Fe.call(this);else{if(M(this.p)==N){c=qd(this);c.$b=1;if(c==this&&this.w==1&&!this.j)c.$b=0;mc(qd(this),1)}this.p.update.call(this)}if(d)for(e in this.m)this.m[e]&&(this.P[e]=!0);if(this.Aa)for(e=0;e<this.Aa.length;e++)K(this.Aa[e],7);K(this,0,a)};
m.getParent=function(){return this.k?this.k:l};m.appendChild=function(a,b){a instanceof R&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&F(a);a.k=this;if(b==h)try{this.f.push(a)}catch(c){alert(c.message)}else gb(this.f,b,0,a);M(this.p)!=P&&pd(a,M(this.p));a instanceof R&&(zd(a),this.r&&a.ya());return K(this,64)};function Ad(a,b){return b>=0&&a.f.length>b?a.f[b]:l}
m.removeChild=function(a){a=this.f.indexOf(a);if(a>=0&&this.f.length>a){var b=Ad(this,a);b.Ga&&od(b.Ga);b instanceof R?(this.r&&Bd(b),sd(b),b.k=l):F(b);this.f.splice(a,1);a=K(this,64)}else a=this;return a};m.addEventListener=function(a){Dc&&a.substring(0,5)=="mouse"||(q(this.C[a])||(this.C[a]=[0,0]),this.r&&this.C[a][0]==0&&(this.C[a][0]=1,this.J().Ta.ac(this,a)),this.C[a][1]++)};
m.removeEventListener=function(a){Dc&&a.substring(0,5)=="mouse"||(this.r&&this.C[a][1]==1&&(this.C[a][0]=0,this.J().Ta.ta(this,a)),this.C[a][1]--,this.C[a][1]||delete this.C[a])};m.J=function(){return!this.r?l:this.yc};m.S=function(){return!this.r?l:this.Vc};function Bd(a){var b;a.xc||vd(a,a.getParent());for(var c=0;b=a.f[c];c++)b instanceof R&&Bd(b);for(var d in a.C){a.C[d][0]=0;if(!a.J())debugger;a.J().Ta.ta(a,d)}Cd(a.J().Ta,a);a.r=!1;a.yc=l;a.Vc=l}
m.ya=function(){this.r=!0;this.yc=this.k.J();this.Vc=this.k.S();for(var a=0,b;b=this.f[a];a++)b instanceof R&&b.ya();for(var c in this.C)this.C[c][0]=1,this.J().Ta.ac(this,c);this.xc&&wd(this);Cd(this.J().Ta,this)};function wd(a){a.xc=!0;a.r&&Dd(a,a.getParent())}function Dd(a,b){if(!b.Aa)b.Aa=[];bb(b.Aa,a);!b&&!(b.getParent()instanceof O)&&Dd(a,b.getParent())}function vd(a,b){b&&b.Aa&&(cb(b.Aa,a),vd(a,b.getParent()))}
function L(a){var b=a.n(),a=a.R;return new pc(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}function yd(a,b){var c=b||L(a),d=new D(c.left,c.top),e=new D(c.right,c.top),f=new D(c.left,c.bottom),c=new D(c.right,c.bottom),d=gd(a,d),e=gd(a,e),f=gd(a,f),c=gd(a,c);return new pc(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
m.Xb=function(){var a=L(this);a.left==a.right&&this.f.length&&(a=yd(this.f[0],this.f[0].Xb()));for(var b=0,c;c=this.f[b];b++)if(c.Ic!=1){var d=a;c=yd(c,c.Xb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};m.X=function(a){this.$c[a]=1};m.pa=function(a){var b=this.ba(a.Ja);return L(this).contains(b)?(a.position=b,!0):!1};function Ed(a,b){q(b)||alert("undef");bb(b.ia,a);b.play()};N.t={};P.t={};function U(){R.call(this);this.I=this.ob=l}u(U,R);U.prototype.id="sprite";U.prototype.ua=[ad(P,P.t),ad(N,N.t)];U.prototype.d=function(a,b,c,d){this.ob=Sc(fb(arguments));this.ob.Vd(this);K(this,4);return this};U.prototype.ec=function(a){a&&!(a instanceof Vc)&&(a=new Vc(fb(arguments)));this.I=a;K(this,4);return this};P.t.v=function(a){this.ob===l||this.ob.xb(a,this);this.I===l?a.style.border="none":this.I.xb(a,this)};
N.t.v=function(a){var b=this.n(),c=this.ob,d=this.I;if(c||d){var e=L(this);c&&(c.wb(a,this),c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.wb(a,this),this.id=="sprite"||this.id=="label"))c=d.ka/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};function Fd(){H.call(this)}u(Fd,H);Fd.prototype.update=p;function Gd(a){H.call(this);var b=fb(arguments);s(a)&&(b=a);this.h=b.length>2?[b.shift(),new Gd(b)]:b;this.l(this.h[0].q+this.h[1].q)}u(Gd,H);Gd.prototype.Gc=function(a){H.prototype.Gc.call(this,a);this.l(this.h[0].q+this.h[1].q);this.Za=this.h[0].q/this.q;this.qa=-1};Gd.prototype.stop=function(){this.qa!=-1&&this.h[this.qa].stop(this.ia);H.prototype.stop.apply(this,arguments)};
Gd.prototype.Db=function(a,b){if(this.V==0)return a;for(var c=b.length;--c>=0;)Lc(this,b[c]);var d=c=0;a>=this.Za?(c=1,d=this.Za==1?1:(a-this.Za)/(1-this.Za)):(c=0,d=this.Za!=0?a/this.Za:1);if(this.qa==-1&&c==1)this.h[0].V=1,this.h[0].Db(1,b),this.h[0].stop();if(this.qa!=c)this.qa!=-1&&(this.h[this.qa].Db(1,b),this.h[this.qa].stop()),this.h[c].V=1;this.h[c].Db(d,b);this.qa=c;return a};N.eb={};P.eb={};function V(a){U.call(this);Hd(this,a);this.Cc=Id;K(this,8);W(this,14);Jd(this,"#000");this.md="center";K(this,8);this.Pd="400";K(this,8);a=[0,0,0,0];q(h)&&(a[1]=a[3]=h);q(h)&&(a[2]=h);q(h)&&(a[3]=h);this.F=a;K(this,8);this.Re=!1;this.$d=1.15;this.mf(l);this.d(255,255,255,0)}u(V,U);V.prototype.id="label";var Id="Arial";V.prototype.ua=[ad(P.t,P.eb),ad(N.t,N.eb)];
(function(){var a;V.prototype.measureText=function(){q(a)||(a=document.createElement("canvas").getContext("2d"));var b=Kd(this)*this.Da;a.font=this.Da+"px "+this.Cc;var c=a.measureText(this.Ma),c=w?c.width:c.width+1;Ac&&(c+=1);var d=this.I?this.I.ka:0;return new C(this.F[1]+this.F[3]+c+d*2,this.F[0]+this.F[2]+b+d*2)}})();V.prototype.n=function(){var a=R.prototype.n.call(this);return!a||!a.width&&!a.height?this.measureText():a};function Hd(a,b){a.Ma=b+"";K(a,4);delete a.dd;return a}
function W(a,b){a.Da=b;K(a,8);return a}function Jd(a,b){a.Od=b;K(a,8);return a}function Kd(a){var b=Math.abs(a.N.y)+a.U*2;return a.Re?(a.$d+b)/a.Da:a.$d+b/a.Da}V.prototype.mf=function(a,b,c,d){arguments.length==1&&a===l?(this.zb="#ccc",this.U=0,this.dc(0,0)):arguments.length==2?(this.zb=a,this.U=b,this.dc(new Q(0,0))):arguments.length==3?(this.zb=a,this.U=b,this.dc(c)):(this.zb=a,this.U=b,this.dc(c,d));K(this,8)};
V.prototype.dc=function(a,b){this.N=arguments.length==2?new Q(arguments[0],arguments[1]):a;K(this,8)};V.prototype.update=function(){this.w&4&&delete this.Zd;R.prototype.update.apply(this,arguments)};
P.eb.v=function(a){P.t.v.call(this,a);var b=a.style;this.w&4&&kc(a,this.Ma);if(this.w&8)b.lineHeight=Kd(this),b.padding=ab(this.F,function(a){return a*Yc(this)},this).join("px ")+"px",b.color=this.Od,b.fontFamily=this.Cc,b.fontSize=this.Da*Yc(this)+"px",b.fontWeight=this.Pd,b.textAlign=this.md,b.textShadow=this.U||this.N.x||this.N.y?this.zb+" "+this.N.x+"px "+this.N.y+"px "+this.U+"px":""};
N.eb.v=function(a){N.t.v.call(this,a);var b=L(this),c=-b.left-this.F[3]+b.right-this.F[1]+Math.abs(this.N.x)+Math.abs(this.U*2),d=0;if(!this.dd){var d=[],e=this.Ma.length,f=this.Ma.match(Fa?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var j=0;j<f.length;j++){var k=f[j],k=this.Ma.indexOf(k,g)+k.length;d.push(this.Ma.substring(g,k));g=k}g!=e&&d.push(this.Ma.substring(g,e));this.dd=d;d=1}f=this.I?this.I.ka:0;a.save();e=this.md;e=="left"?a.translate(b.left+this.F[3]+f,b.top+this.F[0]+f):e=="right"?a.translate(b.right-
this.F[1]-f,b.top+this.F[0]+f):e=="center"&&a.translate((b.left+this.F[3]+b.right-this.F[1])*0.5,b.top+this.F[0]+f);b=Kd(this);a.fillStyle=this.Od;a.font=this.Pd+" "+this.Da+"px/"+b+" "+this.Cc;a.textAlign=e;a.textBaseline="top";if(this.U||this.N.x||this.N.y)a.shadowColor=this.zb,a.shadowOffsetX=this.N.x,a.shadowOffsetY=this.N.y,a.shadowBlur=this.U;if(d||c!=this.Zd){d=[];e="";f=this.dd;for(j=0;j<f.length;j++)e==""?e=f[j]:(g=a.measureText(ma(e+f[j])),g.width>c?(d.push(ma(e)),e=f[j]):e+=f[j]);d.push(e);
this.Kc=d;this.Zd=c}if(this.Kc){c=b*this.Da;b=(q(this.U)?Math.abs(this.U):0)+(q(this.N)?Math.abs(this.N.y)/2:0);c=w?Math.floor(c):Math.round(c);for(d=0;d<this.Kc.length;d++)a.fillText(this.Kc[d],0,c*d+b-0.5)}a.restore()};N.fb={};P.fb={};function X(){U.call(this);Ld(this,5)}u(X,U);X.prototype.id="roundedrect";X.prototype.ua=[ad(P.t,P.fb),ad(N.t,N.fb)];function Ld(a,b){a.Jf=!1;a.Sc=b;return a}P.fb.v=function(a){this.n();P.t.v.call(this,a);md(a,[this.Sc*this.Wa,this.Sc*this.Wa])};
N.fb.v=function(a){this.n();var b=L(this),c=this.Sc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();N.t.v.call(this,a);this.I&&(a.lineWidth*=2,a.stroke());a.restore()};function Md(a){H.call(this);this.z=a}u(Md,H);Md.prototype.scope="fade";Md.prototype.sb=function(a){var b=a.z;Kc(this)&&(a.ja[5]=[this.z,this.q,this.Sa,0],K(a,16));return{pf:b,B:this.z-b}};Md.prototype.update=function(a,b){if(this.V!=0){var c=Lc(this,b);T(b,c.pf+c.B*a)}};Md.prototype.X=function(a){Kc(this)&&(a.X(5),K(a,16))};function Nd(a,b){this.q=1;this.ra=a;this.M=b;this.He=!1}u(Nd,Pb);Nd.prototype.l=function(a){this.q=a;return this};Nd.prototype.start=function(){this.M.a(new D(0,0));xd(this.M,!1);this.finish()};Nd.prototype.finish=function(){this.dispatchEvent(new mb("end"));this.He=!0};function Od(a,b){Nd.call(this,a,b)}u(Od,Nd);Od.prototype.start=function(){T(this.M,0);xd(this.M,!1);var a=Oc((new Md(0)).l(this.q));A(a,"stop",function(){this.ra&&T(this.ra,1)},!1,this);this.ra&&Ed(this.ra,a);a=(new Md(1)).l(this.q);Ed(this.M,a);A(a,"stop",this.finish,!1,this)};function Pd(a,b){H.call(this);this.kb=arguments.length==2?new D(arguments[0],arguments[1]):a}u(Pd,H);m=Pd.prototype;m.scope="move";m.sb=function(a){Kc(this)&&(a.ja[1]=[new D(a.g.x+this.kb.x,a.g.y+this.kb.y),this.q,this.Sa,0],K(a,1));return{Bb:a.g}};m.jb=function(){if(this.Ab)this.l(this.Ab*Vb(this.kb)/100),this.Xc=1};m.update=function(a,b){if(this.V!=0){var c=Lc(this,b);b.a(c.Bb.x+this.kb.x*a,c.Bb.y+this.kb.y*a)}};m.X=function(a){Kc(this)&&(a.X(1),K(a,1))};function Qd(a,b,c){Nd.call(this,a,b);this.ee=Rd;this.Ze=c||!1}u(Qd,Nd);var Rd=0;Qd.prototype.start=function(){var a=this.M.n(),b=new D(0,0);switch(this.ee){case Rd:this.M.a(-a.width,0);b.x=a.width;break;case 1:this.M.a(0,-a.height);b.y=a.height;break;case 2:this.M.a(a.width,0);b.x=-a.width;break;case 4:this.M.a(0,a.height),b.y=-a.height}xd(this.M,!1);a=(new Pd(b)).l(this.q);this.ra&&!this.Ze&&bb(a.ia,this.ra);bb(a.ia,this.M);A(a,"stop",this.finish,!1,this);a.play()};
Qd.prototype.finish=function(){this.ra&&this.ra.a(0,0);Nd.prototype.finish.call(this)};function Sd(a,b){Qd.call(this,a,b);this.ee=1}u(Sd,Qd);function Td(){this.ff=la()}new Td;Td.prototype.set=function(a){this.ff=a};Td.prototype.reset=function(){this.set(la())};function O(){R.call(this);this.c(0,0);this.nb="lime-scene";rd(this)}u(O,R);O.prototype.S=function(){return this};O.prototype.Xb=function(){return L(this)};function Ud(){O.call(this);this.b.style.cssText="background:rgba(255,255,255,.8)"}u(Ud,O);function Vd(a,b){H.call(this);this.g=arguments.length==2?new D(arguments[0],arguments[1]):a}u(Vd,H);m=Vd.prototype;m.scope="move";m.sb=function(a){var b=a.g,c=new D(this.g.x-b.x,this.g.y-b.y);Kc(this)&&(a.ja[1]=[this.g,this.q,this.Sa,0],K(a,1));return{Bb:b,B:c}};m.jb=function(){if(this.Ab&&this.ia.length){var a=this.ia[0].g;this.l(this.Ab*Vb(new D(this.g.x-a.x,this.g.y-a.y))/100);this.Xc=1}};m.update=function(a,b){if(this.V!=0){var c=Lc(this,b);b.a(c.Bb.x+c.B.x*a,c.Bb.y+c.B.y*a)}};
m.X=function(a){Kc(this)&&(a.X(1),K(a,1))};function Wd(a){this.mb=a;this.identifier=0}Wd.prototype.va=function(a,b,c){for(var a=s(a)?a:[a],d=0;d<a.length;d++)this.mb.va(this,a[d],b);c&&this.event.stopPropagation()};Wd.prototype.ta=function(a){var b=q(a),c=s(a)?a:[a];if(a=this.mb.wa[this.identifier]){var d=this,a=$a(a,function(a){return!q(d.La)||a[0]==d.La&&(!b||Ya(c,a[1])>=0)?(Jb(a[0],a[1],a[2]),!1):!0});a.length?this.mb.wa[this.identifier]=a:delete this.mb.wa[this.identifier]}};Wd.prototype.i=function(){var a=new Wd(this.mb);Xa(a,this);return a};function Xd(a){this.lb=a;this.K={};this.wa={}}Xd.prototype.ac=function(a,b){q(this.K[b])?Ya(this.K[b],a)>=0||(this.K[b].push(a),this.K[b].sort(ud)):(this.K[b]=[a],A(b.substring(0,5)=="touch"&&a!=this.lb?document:b.substring(0,3)=="key"?window:this.lb.b.parentNode,b,this,!1,this))};Xd.prototype.ta=function(a,b){q(this.K[b])&&(cb(this.K[b],a),this.K[b].length||(Jb(this.lb.b.parentNode,b,this,!1,this),delete this.K[b]))};function Cd(a,b){for(var c in a.K){var d=a.K[c];Ya(d,b)>=0&&d.sort(ud)}}
Xd.prototype.va=function(a,b,c){var d=a.identifier;q(this.wa[d])||(this.wa[d]=[]);this.wa[d].push([a.La,b,c]);A(a.La,b,p)};
Xd.prototype.handleEvent=function(a){if(q(this.K[a.type])){for(var b=this.K[a.type].slice(),c=!1,d=0,e=0;!e;){var f=new Wd(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.na.changedTouches[d];f.Ja=new D(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.na.changedTouches.length&&(e=1)}else f.Ja=new D(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(q(this.wa[f.identifier])){for(var g=
this.wa[f.identifier],j=0;j<g.length;j++)if(g[j][1]==a.type||s(g[j][1])&&Ya(g[j][1],a.type)>=0){var k=g[j][0];f.La=k;f.position=k.ba(f.Ja);g[j][2].call(k,f);c=!0}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup")delete f.La,f.ta()}else for(j=0;j<b.length;j++)if(k=b[j],!(Yd(this.lb)!=k.S()&&k!=this.lb)&&!k.Rb&&k.r&&(f.La=k,k.pa(f)||a.type.substring(0,3)=="key"))if(f.La=k,k.dispatchEvent(f),c=!0,f.event.sa)break}c&&a.preventDefault()}};function Zd(a){this.Oa=a||window;this.Ub=A(this.Oa,"resize",this.Ne,!1,this);this.s=cc(this.Oa||window);if(w&&Ja||Ea&&this.Oa.self!=this.Oa.top)this.jc=window.setInterval(ka(this.yd,this),$d)}u(Zd,Pb);var $d=500;m=Zd.prototype;m.Ub=l;m.Oa=l;m.s=l;m.jc=l;m.n=function(){return this.s?this.s.i():l};m.Z=function(){Zd.ab.Z.call(this);if(this.Ub)Kb(this.Ub),this.Ub=l;if(this.jc)window.clearInterval(this.jc),this.jc=l;this.s=this.Oa=l};m.Ne=function(){this.yd()};
m.yd=function(){var a=cc(this.Oa||window);if(!(a==this.s||(!a||!this.s?0:a.width==this.s.width&&a.height==this.s.height)))this.s=a,this.dispatchEvent("resize")};function ae(a,b,c){R.call(this);this.r=!0;this.c(0,0);this.o=[];this.Dd=[];this.nb="lime-director";rd(this);a.appendChild(this.b);if(w&&Ga)this.Cd=document.createElement("div"),Sb(this.Cd,"lime-cover-below"),hc(this.Cd,this.b),this.Bd=document.createElement("div"),Sb(this.Bd,"lime-cover-above"),ic(this.Bd,this.b);a.style.position!="absolute"&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){xc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(Ga&&!n.navigator.of){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Tb()},100)}}var g,a=vc(a);this.e(new C(g=b||a.width||400,c||a.height*g/a.width||400));this.Nb&&F(this.Qd);this.Qe=this.Nb=!1;G.De(this);if(this.Qe)this.Qc=new Ud,
be(this,this.Qc);else if(this.Qc){if(this.o.length)Bd(this.o[this.o.length-1]),this.o[this.o.length-1].k=l,F(this.o[this.o.length-1].b),this.o.pop();delete this.Qc}b=new Zd;A(b,"resize",this.Tb,!1,this);A(n,"orientationchange",this.Tb,!1,this);G.bc(this.$a,this);this.Ta=new Xd(this);A(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},!1,this);A(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1);this.Tb()}u(ae,R);
function Yd(a){return a.o.length?a.o[a.o.length-1]:l}m=ae.prototype;m.J=function(){return this};m.S=function(){return l};m.$a=function(a){if(this.Nb&&(this.Rd++,this.mc+=a,this.mc>100))this.Ie=1E3*this.Rd/this.mc,kc(this.Qd,this.Ie.toFixed(2)),this.mc=this.Rd=0;nc()};
function ce(a,b){var c=de;a.e(c.n().i());var d=b||Nd,e=l;c.o.length&&(e=c.o[c.o.length-1]);for(var f=[],g=c.o.length;--g>=0;)Bd(c.o[g]),f.push(c.o[g].b),c.o[g].k=l;c.o.length=0;c.o.push(a);a.b.style.display="none";c.b.appendChild(a.b);a.k=c;a.ya();d=new d(e,a);A(d,"end",function(){for(var a=f.length;--a>=0;)F(f[a])},!1,c);q(h)&&d.l(h);d.start()}m.Na=function(){this.w&=-65};function be(a,b){b.e(a.n().i());a.o.push(b);a.b.appendChild(b.b);b.k=a;b.ya()}
m.ba=function(a){a=a.i();a.x-=this.Ob.x+this.g.x;a.y-=this.Ob.y+this.g.y;a.x/=this.G.x;a.y/=this.G.y;return a};m.rb=function(a){a=a.i();a.x*=this.G.x;a.y*=this.G.y;a.x+=this.Ob.x+this.g.x;a.y+=this.Ob.y+this.g.y;return a};m.update=function(){R.prototype.update.call(this);for(var a=this.Dd.length;--a>=0;)this.Dd[a].update()};
m.Tb=function(){var a=vc(this.b.parentNode);if(this.b.parentNode==document.body&&(window.scrollTo(0,0),typeof window.innerHeight=="number"))a.height=window.innerHeight;var b;b=this.n().i();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.H(b.width/this.n().width);a.width/a.height<b.width/b.height?this.a(0,(a.height-b.height)/2):this.a((a.width-b.width)/2,0);var c=this.b.parentNode,d,e=Yb(c),f=qc(c,"position"),g=Fa&&e.getBoxObjectFor&&!c.getBoundingClientRect&&f==
"absolute"&&(d=e.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);b=new D(0,0);var j;d=e?e.nodeType==9?e:Yb(e):document;if(j=v)if(j=!Ua())j=Wb(d),j=!$b(j.ma);j=j?d.body:d.documentElement;if(c!=j)if(c.getBoundingClientRect)d=rc(c),e=Wb(e).ma,c=!w&&$b(e)?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new D(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(j),b.x=d.screenX-c.screenX,
b.y=d.screenY-c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(w&&qc(d,"position")=="fixed"){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(Ea||w&&f=="absolute")b.y-=e.body.offsetTop;for(d=c;(d=sc(d))&&d!=e.body&&d!=j;)if(b.x-=d.scrollLeft,!Ea||d.tagName!="TR")b.y-=d.scrollTop}this.Ob=b;if(Ga&&this.b.parentNode==document.body){if(this.ie)b=this.ie,F(b.ownerNode||b.owningElement||b);this.ie=xc("html{height:"+
(a.height+120)+"px;overflow:hidden;}")}};m.pa=function(a){if(a&&a.Ja)a.position=this.ba(a.Ja);return!0};function ee(){R.call(this);this.nb="lime-layer"}u(ee,R);ee.prototype.pa=function(a){for(var b=0,c;c=this.f[b];b++)if(c.pa(a))return a.position=this.ba(a.Ja),!0;return!1};function fe(a,b,c,d,e){this.Pa=b;this.kc=c;this.Ad=d;this.lc=a;this.hd=e||0}
fe.prototype={hb:!0,je:l,execute:function(a){var b;this.hb&&this.Pa&&(a=this.je?this.je.concat(a):a,b=this.Pa.apply(this.Ad,a),this.kc&&this.detach());return b},detach:function(){return this.Xd()?this.lc.remove(this.Pa):l},Xd:function(){return!!this.lc&&!!this.Pa},fd:function(){delete this.lc;delete this.Pa;delete this.Ad},toString:function(){return"[SignalBinding isOnce: "+this.kc+", isBound: "+this.Xd()+", active: "+this.hb+"]"}};function ge(){this.u=[]}
ge.prototype={jd:!0,hb:!0,ue:function(a,b,c,d){var e=this.gd(a);if(e!==-1){if(a=this.u[e],a.kc!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");}else a=new fe(this,a,b,c,d),this.te(a);return a},te:function(a){var b=this.u.length;do--b;while(this.u[b]&&a.hd<=this.u[b].hd);this.u.splice(b+1,0,a)},gd:function(a){for(var b=this.u.length;b--;)if(this.u[b].Pa===a)return b;return-1},add:function(a,b,c){if(typeof a!==
"function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}","add"));return this.ue(a,!1,b,c)},remove:function(a){validateListener(a,"remove");var b=this.gd(a);b!==-1&&(this.u[b].fd(),this.u.splice(b,1));return a},gf:function(){for(var a=this.u.length;a--;)this.u[a].fd();this.u.length=0},Ra:function(a){if(this.hb){var b=Array.prototype.slice.call(arguments),c=this.u.slice(),d=this.u.length;this.jd=!0;do d--;while(c[d]&&this.jd&&c[d].execute(b)!==!1)}},Ba:function(){this.gf();
delete this.u},toString:function(){return"[Signal active: "+this.hb+" numListeners: "+this.u.length+"]"}};function he(a,b){ee.call(this);this.nb="lime-button";if(q(a))this.hc=a,this.appendChild(this.hc),this.Cb=-1,ie(this,je);q(b)&&ke(this,b);var c=this;A(this,["mousedown","touchstart","touchmove"],function(a){ie(c,le);a.va("mousemove",function(a){c.pa(a)?ie(c,le):ie(c,je)});a.va("touchmove",function(a){c.pa(a)||(ie(c,je),a.ta())});a.va(["mouseup","touchend"],function(a){c.pa(a)&&c.dispatchEvent({type:me});ie(this,je)})})}u(he,ee);var je=0,le=1,me="click";
function ke(a,b){a.Bc=b;a.appendChild(b);a.Cb=-1;ie(a,je)}function ie(a,b){if(b!=a.Cb){a.Cb==je&&b==le&&a.dispatchEvent({type:"down"});a.Cb==le&&b==je&&a.dispatchEvent({type:"up"});var c=a.hc;if(q(a.Bc))le==b?c=a.Bc:xd(a.Bc,!0);c!=a.hc&&xd(a.hc,!0);xd(c,!1);a.Cb=b}};var ne,de,oe,pe,Y,qe,re,se;function te(){U.call(this);this.c(0,0);var a=(new U).d("assets/planStudyOver.png").c(0,0),b=(new U).d("assets/planStudyNormal.png").c(0,0),c=(new U).d("assets/planBilliardsOver.png").c(0,0),d=(new U).d("assets/planBilliardsNormal.png").c(0,0);this.re=(new he(b,a)).c(0,0).a(0,0);this.appendChild(this.re);this.ud=(new he(d,c)).c(0,0).a(0,144);this.appendChild(this.ud);A(this.re,"up",this.Me);A(this.ud,"up",this.Le)}u(te,U);
te.prototype.Me=function(a){a.target.S()!==ne&&ce(ne,Od)};te.prototype.Le=function(a){a.target.S()!==oe&&ce(oe,Od)};function ue(a){this.name="Startup";O.call(this);layer=new ee;var b=W((new V("The Bayes Billiard Table Problem")).e(200,2).c(0,0),20).a(20,20),c=(new U).d("assets/startupScene.jpg").c(0,0),d=(new U).c(0,0).a(235,-100).H(1.33,1.33).d("assets/bellpull/pullPull.png"),e=(new te).c(0,0).a(30,100),f=W((new V("Select or Pull")).e(200,1).c(0,0),20).a(20,400),g=this;A(d,["mousedown","touchstart"],function(){a.Ra(g.name)});layer.appendChild(c);layer.appendChild(b);layer.appendChild(d);layer.appendChild(e);layer.appendChild(f);
this.appendChild(layer)}u(ue,O);N.cb={};P.cb={};function ve(){U.call(this)}u(ve,U);ve.prototype.id="circle";ve.prototype.ua=[ad(P.t,P.cb),ad(N.t,N.cb)];ve.prototype.pa=function(a){var b=this.ba(a.Ja),c=this.s,d=this.R,e=c.width*0.5,f=c.height*0.5,g=b.x-c.width*(0.5-d.x),c=b.y-c.height*(0.5-d.y);return g*g/(e*e)+c*c/(f*f)<1?(a.position=b,!0):!1};P.cb.v=function(a){var b=this.n();P.t.v.call(this,a);md(a,b.width*0.5,b.height*0.5)};
N.cb.v=function(a){this.n();var b=this.R,c=L(this),d=(c.right-c.left)*0.5,c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,!1);a.closePath();a.restore();a.clip();N.t.v.call(this,a);this.I&&(a.lineWidth*=2,a.stroke());a.restore()};function we(a){a&&da(a.data)&&(a=a.data());this.Rc=this.Vb=!1;this.ca=document.createElement("audio");this.ca.Ff=!0;this.ca.loop=!1;Fa&&/\.mp3$/.test(a)&&(a=a.replace(/\.mp3$/,".ogg"));this.ca.src=a;this.ca.load();this.Lc=setInterval(ka(this.Se,this),10);this.Vb=!1}we.prototype.Se=function(){if(this.ca.readyState>2)this.Vb=!0,clearTimeout(this.Lc);this.ca.error&&clearTimeout(this.Lc);if(zc&&this.ca.readyState==0)this.Vb=!0,clearTimeout(this.Lc)};we.prototype.pb=aa("Vb");
we.prototype.play=function(){if(this.pb())this.ca.play(),this.Rc=!0};we.prototype.stop=function(){if(this.Rc)this.ca.pause(),this.Rc=!1};function Z(a){H.call(this);this.nd=a}u(Z,H);Z.prototype.scope="rotate";Z.prototype.sb=function(a){var b=cd(a);Kc(this)&&(a.ja[4]=[this.nd,this.q,this.Sa,0],K(a,1));return{qf:b,B:this.nd-b}};Z.prototype.update=function(a,b){if(this.V!=0){var c=Lc(this,b);S(b,c.qf+c.B*a)}};Z.prototype.X=function(a){Kc(this)&&(a.X(4),K(a,1))};function $(a){U.call(this);this.Hb=T(S((new U).d("assets/bell2.png").e(38,31).c(0.65,0.35).H(1,1).a(0,0),0),1);if(q(a))a.Gb=this,A(a,["mousedown","touchstart"],this.pe),A(this.Hb,["mousedown","touchstart"],this.pe);this.Hb.name="Bell1";this.name="Bell";this.appendChild(this.Hb);this.Be=new we("assets/bell.mp3");this.Uc=new we("assets/remoteBell.mp3");this.Ca=Jc}u($,U);$.prototype.pe=function(a){a=q(a)&&q(a.target)?q(a.target.Gb)?a.target.Gb:a.target.getParent():this;a.Uc.play();a.dispatchEvent(new mb("ManualBell"))};
$.prototype.ib=function(a){var b,a=q(a)&&q(a.target)?q(a.target.Gb)?a.target.Gb:a.target.getParent():this;a.Be.play();a.getParent()!==l&&(b=new Gd((new Fd).l(0.5),I((new Z(30)).l(0.2),a.Ca),I((new Z(-30)).l(0.2),a.Ca),I((new Z(20)).l(0.1),a.Ca),I((new Z(-20)).l(0.1),a.Ca),I((new Z(10)).l(0.1),a.Ca),I((new Z(-10)).l(0.1),a.Ca),I((new Z(0)).l(0.05),a.Ca)),Ed(a.Hb,b))};function xe(a,b,c){O.call(this);this.name=a;this.ge=b;this.Ye=c}u(xe,O);function ye(a){q(a.ea)&&T(a.ea,0.1);q(a.ub)&&T(a.ub,1)}xe.prototype.vc=function(){q(this.ea)&&T(this.ea,1);q(this.ub)&&T(this.ub,0)};xe.prototype.Jd=function(a){var b=a.target.S();a.type==="mouseover"?(ye(b),a.va("mouseout",function(a){b.vc();a.ta()}),a.va("mousedown",function(a){b.vc();G.xa(pe,b);b.ge.Ra(b.name);a.ta()})):a.type==="touchstart"&&(ye(b),G.da(b.vc,b,5E3),G.xa(pe,b),b.ge.Ra(b.name))};function ze(a){var b=1+76.18009173/a-86.50532033/(a+1)+24.01409822/(a+2)-1.231739516/(a+3)+0.00120858003/(a+4)-5.36382E-6/(a+5);return(a-0.5)*Math.log(a+4.5)-(a+4.5)+Math.log(b*2.50662827465)}function Ae(a,b,c){for(var d=0,e=1,f=1,g=1,j=0,k=0,o;Math.abs((f-k)/f)>1.0E-5;)k=f,o=-(b+j)*(b+c+j)*a/(b+2*j)/(b+2*j+1),d=f+o*d,e=g+o*e,j+=1,o=j*(c-j)*a/(b+2*j-1)/(b+2*j),f=d+o*f,g=e+o*g,d/=g,e/=g,f/=g,g=1;return f/b};function Be(a){this.ha=0.5;this.Ha=this.ga=0;this.ad=a}Be.prototype.reset=function(){this.ha=Math.random();this.Ha=this.ga=0;this.ad.Ra(this)};function Ce(){var a=Y;a.ga=Y.ga+1;a.ad.Ra(a)}function De(){var a=Y;a.Ha=Y.Ha+1;a.ad.Ra(a)}
function Ee(a,b){var c=a.ga+1,d=a.Ha+1;if(c<=0)throw{name:"betaCDF",message:"alpha must be positive"};else if(d<=0)throw{name:"betaCDF",message:"beta must be positive"};else if(b<=0)c=0;else if(b>=1)c=1;else var e=c+d,f=Math.exp(ze(e)-ze(d)-ze(c)+c*Math.log(b)+d*Math.log(1-b)),c=b<(c+1)/(e+2)?f*Ae(b,c,d):1-f*Ae(1-b,d,c);return c};function Fe(a,b){xe.call(this,"BilliardTable",a,b);this.$=!1;layer=new ee;this.appendChild(layer);this.cd=!1;this.rc=(new U).d("assets/billiardScene.jpg").c(0,0);layer.appendChild(this.rc);this.Ec=(new U).c(0,0).a(112,-50).H(0.5,0.5).d("assets/bellpull/greenPull.png");this.Qb=new $(this.Ec);layer.appendChild(this.Ec);this.Tc=(new U).c(0,0).a(152,-50).H(0.5,0.5).d("assets/bellpull/redPull.png");layer.appendChild(this.Tc);this.Zb=new $(this.Tc);this.se=(new U).c(0,0).a(10,60).H(1,1).d("assets/whiteNote.png");
layer.appendChild(this.se);this.bb=(new $(this.se)).a(30,56);layer.appendChild(this.bb);A(this.bb,"ManualBell",this.ef,!1,this);this.vd=(new U).c(0,0).a(52,60).H(1,1).d("assets/blackNote.png");layer.appendChild(this.vd);this.Jb=(new $(this.vd)).a(73,56);layer.appendChild(this.Jb);A(this.Jb,"ManualBell",this.Xe,!1,this);this.ea=T((new U).c(0,0).a(210,80).d("assets/closedDoor.jpg"),1);layer.appendChild(this.ea);this.Ua=T(Ld((new X).c(0,0).a(30,360).d("#00CC00"),1),0);layer.appendChild(this.Ua);this.Xa=
T(Ld((new X).c(0,0).a(30,360).d("#CC0000"),1),0);layer.appendChild(this.Xa);this.Yc=T(W(Jd((new V("")).c(0.5,0).a(160,300),"#FFF").e(250,2),14),0);layer.appendChild(this.Yc);this.Kb=T(W(Jd((new V("")).c(0.5,0).a(160,370),"#FFF").e(250,1),14),0);layer.appendChild(this.Kb);this.Eb=(new ve).e(10,10).d(255,255,255).a(50,350);layer.appendChild(this.Eb);this.Ib=(new ve).e(10,10).d(0,0,0).a(50,400);layer.appendChild(this.Ib);this.cue=S((new U).d("assets/iCue.png").c(0.5,0).a(-10,320),-90);layer.appendChild(this.cue);
A(this.ea,["mouseover","mousedown","touchstart"],this.Jd)}u(Fe,xe);m=Fe.prototype;m.ya=function(){R.prototype.ya.call(this);this.$=!1;if(this.cd){Ge(this);var a=this.Eb,b=a.g;b.x=30+260*Y.ha;a.a(b);this.fc()}else G.da(this.bb.ib,this.bb,3E3),G.da(this.od,this,3250),this.cd=!0};function He(a){if(!a.me){a.me=!0;a.df=function(){a.me=!1};if(!a.nc)a.nc=new Gd(I(new Pd(0,50),Qc).l(0.5),I(new Pd(0,-50),Qc).l(0.5)),A(a.nc,"stop",a.df);Ed(a,a.nc)}}m.od=function(){Ie(this,this.Eb);G.da(this.xe,this,2100)};
function Ie(a,b){var c=b.g;Ed(a.cue,new Gd(new Vd(c.x-10,c.y),new Pd(-10,0),(new Pd(60,0)).l(0.2),new Vd(-10,c.y)))}m.we=function(){this.$||(Ie(this,this.Ib),G.da(this.ve,this,2100))};m.xe=function(){var a=Je(this,this.Eb),b=this;T(b.Xa,0);T(b.Ua,0);T(b.Yc,0);T(b.Kb,0);A(a,"stop",function(){Y.reset();Y.ha=b.ha;Ge(b);b.fc()})};
function Ge(a){var b=Y.ha,c=b*260,d=(1-b)*260;T(a.Ua.e(c,60),1);T(a.Xa.e(d,60).a(30+c,360),1);T(Hd(a.Yc,"The probability of the black landing in the green zone is "+b.toFixed(2)),1)}m.fc=function(){this.Jb.ib();T(this.Kb,0);G.da(oe.we,oe,250)};
m.ve=function(){var a=Je(this,this.Ib),b=this;this.$||A(a,"stop",function(){if(!b.$&&oe===Yd(de)){var a="In ";b.Ib.g.x>30+260*b.ha?(a+="Red",He(b.Tc),ne.Zb.Uc.play(),De()):(a+="Green",He(b.Ec),ne.Qb.Uc.play(),Ce());G.da(function(){T(Hd(this.Kb,a),1)},b,100);oe===Yd(de)&&G.da(b.fc,b,5E3)}})};
function Je(a,b){var c=Math.floor(2+3*Math.random()),d=Math.random();if(b===a.Eb)a.ha=d;for(var d=30+260*d,e=b.g,f=[],g=290,j=0;j<c;j++)f[j]=I(new Vd(g,e.y),Pc).l(Math.pow(2,j)/Math.pow(2,c-1)),g=g==30?290:30;f[c]=I((new Vd(d,e.y)).l(2),Qc);c=new Gd(f);Ed(b,c);return c}m.Xe=function(){(this.$=!this.$)||this.fc()};m.ef=function(a){this.$=!this.$;if(!this.$)this.bb.ib(),G.da(this.od,this,250),this.cd=!0;G.xa(pe,a.target.S());Y.reset()};function Ke(a,b){xe.call(this,"BackRoom",a,b);this.Ye.add(this.vf,this);layer=new ee;this.appendChild(layer);this.rc=(new U).d("assets/BackRoomScene.jpg").c(0,0);layer.appendChild(this.rc);this.sf=(new U).d("assets/tableTop.jpg").c(0,0).a(0,257);layer.appendChild(this.sf);this.Mb=(new U).d("assets/clock.jpg");this.sc=S((new U).d("assets/clockBigHand.png").a(0,0),90);this.Mb.appendChild(this.sc);this.Wc=S((new U).d("assets/clockSmallHand.png").a(0,0),-30);this.Mb.appendChild(this.Wc);this.zd=(new he(this.Mb,
this.Mb)).c(0,0).a(65,45).H(0.7,0.7);layer.appendChild(this.zd);this.tc=(new U).c(0,0).a(233,-50).H(0.5,0.5).d("assets/bellpull/blackPull.png");this.Jb=new $(this.tc);layer.appendChild(this.tc);this.bd=(new U).c(0,0).a(265,-50).H(0.5,0.5).d("assets/bellpull/whitePull.png");this.bb=new $(this.bd);layer.appendChild(this.bd);this.Xa=Ld((new X).c(0,0).e(40,60),3).d("#CC0000").ec(2,"#000").a(180,60);layer.appendChild(this.Xa);this.oe=Ld((new X).e(30,30),2).d("#EEEEEE").ec(1,"#888888").a(20,40);this.Xa.appendChild(this.oe);
this.ne=W(new V("0"),12);this.oe.appendChild(this.ne);this.Zb=(new $).c(0,0).a(200,56);layer.appendChild(this.Zb);this.Ua=Ld((new X).c(0,0).e(40,60),3).d("#00CC00").ec(2,"#000").a(138,60);this.Ud=Ld((new X).e(30,30),2).d("#EEEEEE").ec(1,"#888888").a(20,40);this.Ua.appendChild(this.Ud);this.Td=W(new V("0"),12);this.Ud.appendChild(this.Td);layer.appendChild(this.Ua);this.Qb=(new $).c(0,0).a(158,56);layer.appendChild(this.Qb);this.ub=T((new U).c(0,0).a(28,68).d("assets/doorOpeningIn.png"),0).H(1,0.99);
layer.appendChild(this.ub);this.ea=T((new U).c(0,0).a(28,80).d("assets/backRoomClosedDoor.jpg"),1).H(1,0.99);layer.appendChild(this.ea);this.Cf=Y;this.Dc=(new R).a(160,420).H(1,-1);layer.appendChild(this.Dc);for(i=0;i<50;i++)this.Dc.appendChild(Ld((new X).e(0,0).a((i-25)*4.4,0),0));this.Md=W(new V("1"),12).e(70,1).a(205,305);layer.appendChild(this.Md);this.Je=Ld((new X).a(205,320).d("#000").e(30,1),0);layer.appendChild(this.Je);this.Fd=W(new V("= 0.5"),12).e(100,1).a(245,315);layer.appendChild(this.Fd);
this.Ld=W(new V("2"),12).e(70,1).a(205,325);layer.appendChild(this.Ld);this.yb=(new R).a(160,422);this.yb.name="shader";layer.appendChild(this.yb);for(i=0;i<50;i++)this.yb.appendChild(Ld((new X).c(0,0).e(4.9,10),0).a((i-25)*4.4,0).d("rgb("+i*200/50+","+(50-i)*200/50+", 0)"));var c=this;pe=function(){Math.random()<Y.ha?Ce():De();var a=c.sc,b=cd(a);S(a,b-6);a=c.Wc;b=cd(a);S(a,b-0.5)};this.td=(new Fd).l(2+3*Math.random());A(this.td,"stop",function(){Math.random()<Y.ha?(Ce(),c.Qb.ib()):(De(),c.Zb.ib());
var a=c.sc,b=cd(a);S(a,b-6);a=c.Wc;b=cd(a);S(a,b-0.5)});A(this.zd,["mousedown","touchstart"],function(a){var b=a.target.S();a.va(["touchend"],function(a){a.ta()});b.Sd?(b.Sd=!1,G.xa(pe,b)):(b.Sd=!0,G.bc(pe,b))});A(this.ea,["mouseover","touchstart"],this.Jd);A(this.bd,["mousedown","touchstart"],Le);A(this.tc,["mousedown","touchstart"],Me)}u(Ke,xe);Ke.prototype.ya=function(){R.prototype.ya.call(this)};function Le(a){G.xa(pe,a.target.S());Y.reset();He(a.target)}
function Me(a){var b=a.target.S();G.xa(pe,b);Ed(b,b.td);He(a.target)}
Ke.prototype.vf=function(a){Hd(this.Td,a.ga);Hd(this.ne,a.Ha);Hd(this.Md,a.ga+" + 1");Hd(this.Ld,a.ga+a.Ha+" + 2");var b=0,c=[];for(i=0;i<this.yb.f.length;i++){rect=Ad(this.yb,i);var d=i/50,e;e=a;var f=d,g=d+0.02,f=Math.min(f,g),g=Math.max(f,g);e=Ee(e,g)-Ee(e,f);c[i]=-e;b=Math.max(e,b);e=Ee(a,d);rect.d("rgb("+Math.round(e*200)+","+Math.round((1-e)*200)+", 0)")}b=Math.max(b,0.3);for(i=0;i<50;i++)f=Ad(this.Dc,i),d=(i-25)*4.4,g=c[i]*80/b,e=Ee(a,i/50),f.c(0,0).a(d,0).e(4.9,-g).d("rgb("+Math.round(e*200)+
","+Math.round((1-e)*200)+", 0)"),Hd(this.Fd,"= "+((a.ga+1)/(a.ga+a.Ha+2)).toFixed(2))};function Ne(a){switch(a){case "Startup":ce(oe,Sd);break;case "BilliardTable":ce(ne,Od);break;case "BackRoom":ce(oe,Od);break;default:alert("unknown last scene")}}
function Oe(){var a=de=new ae(document.body,320,460);a.Nb&&F(a.Qd);a.Nb=!1;qe=new ge;qe.add(Ne);re=new ge;Y=new Be(re);se=new ue(qe);oe=new Fe(qe,re);ne=new Ke(qe,re);G.lf();var a=de,b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=!1;q(localStorage)&&
(b=localStorage.getItem("_lime_visited"));/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.of&&!b&&a.b.parentNode==document.body&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),q(localStorage)&&localStorage.setItem("_lime_visited",!0));ce(se)}var Pe="billiards.start".split("."),Qe=n;!(Pe[0]in Qe)&&Qe.execScript&&Qe.execScript("var "+Pe[0]);for(var Re;Pe.length&&(Re=Pe.shift());)!Pe.length&&q(Oe)?Qe[Re]=Oe:Qe=Qe[Re]?Qe[Re]:Qe[Re]={};
