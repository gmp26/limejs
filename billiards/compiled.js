var h=void 0,l=null;function aa(a){return function(){return this[a]}}var m,n=this;function p(){}
function ba(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function q(a){return a!==h}function s(a){return ba(a)=="array"}function ca(a){var b=ba(a);return b=="array"||b=="object"&&typeof a.length=="number"}function t(a){return typeof a=="string"}function da(a){return ba(a)=="function"}function ea(a){a=ba(a);return a=="object"||a=="array"||a=="function"}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;
function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return ka.apply(l,arguments)}var la=Date.now||function(){return+new Date};
function u(a,b){function c(){}c.prototype=b.prototype;a.$a=b.prototype;a.prototype=new c};function ma(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function na(a){if(!oa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(pa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(qa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ra,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(sa,"&quot;"));return a}var pa=/&/g,qa=/</g,ra=/>/g,sa=/\"/g,oa=/[&<>\"]/;
function ta(a,b){for(var c=0,d=ma(String(a)).split("."),e=ma(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",o=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var r=o.exec(j)||["","",""],E=B.exec(k)||["","",""];if(r[0].length==0&&E[0].length==0)break;c=ua(r[1].length==0?0:parseInt(r[1],10),E[1].length==0?0:parseInt(E[1],10))||ua(r[2].length==0,E[2].length==0)||ua(r[2],E[2])}while(c==0)}return c}
function ua(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var va,wa,xa,ya,za,Aa;function Ba(){return n.navigator?n.navigator.userAgent:l}za=ya=xa=wa=va=!1;var Ca;if(Ca=Ba()){var Da=n.navigator;va=Ca.indexOf("Opera")==0;wa=!va&&Ca.indexOf("MSIE")!=-1;ya=(xa=!va&&Ca.indexOf("WebKit")!=-1)&&Ca.indexOf("Mobile")!=-1;za=!va&&!xa&&Da.product=="Gecko"}var Ea=va,v=wa,Fa=za,w=xa,Ga=ya,Ha,Ia=n.navigator;Ha=Ia&&Ia.platform||"";Aa=Ha.indexOf("Mac")!=-1;var Ja=Ha.indexOf("Win")!=-1,Ka;
a:{var La="",Ma;if(Ea&&n.opera)var Na=n.opera.version,La=typeof Na=="function"?Na():Na;else if(Fa?Ma=/rv\:([^\);]+)(\)|;)/:v?Ma=/MSIE\s+([^\);]+)(\)|;)/:w&&(Ma=/WebKit\/(\S+)/),Ma)var Oa=Ma.exec(Ba()),La=Oa?Oa[1]:"";if(v){var Pa,Qa=n.document;Pa=Qa?Qa.documentMode:h;if(Pa>parseFloat(La)){Ka=String(Pa);break a}}Ka=La}var Ra={};function Sa(a){return Ra[a]||(Ra[a]=ta(Ka,a)>=0)}var Ta={};function Ua(){return Ta[9]||(Ta[9]=v&&document.documentMode&&document.documentMode>=9)};function Va(a,b){for(var c in a)b.call(h,a[c],c,a)}var Wa="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Xa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Wa.length;f++)c=Wa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var x=Array.prototype,Ya=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(t(a))return!t(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Za=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},$a=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=t(a)?
a.split(""):a,j=0;j<d;j++)if(j in g){var k=g[j];b.call(c,k,j,a)&&(e[f++]=k)}return e},ab=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=t(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function bb(a,b){Ya(a,b)>=0||a.push(b)}function cb(a,b){var c=Ya(a,b);c>=0&&x.splice.call(a,c,1)}function db(a){return x.concat.apply(x,arguments)}
function eb(a){if(s(a))return db(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function fb(a){return s(a)?db(a):eb(a)}function gb(a,b,c,d){x.splice.apply(a,hb(arguments,1))}function hb(a,b,c){return arguments.length<=2?x.slice.call(a,b):x.slice.call(a,b,c)};var ib;!v||Ua();var jb=v&&!Sa("8");function kb(){}kb.prototype.Fd=!1;kb.prototype.xa=function(){if(!this.Fd)this.Fd=!0,this.Y()};kb.prototype.Y=function(){this.De&&lb.apply(l,this.De)};function lb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ca(d)?lb.apply(l,d):d&&typeof d.xa=="function"&&d.xa()}};function mb(a,b){this.type=a;this.currentTarget=this.target=b}u(mb,kb);m=mb.prototype;m.Y=function(){delete this.type;delete this.target;delete this.currentTarget};m.ra=!1;m.sb=!0;m.stopPropagation=function(){this.ra=!0};m.preventDefault=function(){this.sb=!1};function nb(a){nb[" "](a);return a}nb[" "]=p;function ob(a,b){a&&this.Pb(a,b)}u(ob,mb);m=ob.prototype;m.target=l;m.relatedTarget=l;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=!1;m.altKey=!1;m.shiftKey=!1;m.metaKey=!1;m.$e=!1;m.ma=l;
m.Pb=function(a,b){var c=this.type=a.type;mb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Fa){var e;a:{try{nb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=l)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.$e=Aa?a.metaKey:a.ctrlKey;this.state=a.state;this.ma=a;delete this.sb;delete this.ra};m.stopPropagation=function(){ob.$a.stopPropagation.call(this);this.ma.stopPropagation?this.ma.stopPropagation():this.ma.cancelBubble=!0};
m.preventDefault=function(){ob.$a.preventDefault.call(this);var a=this.ma;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,jb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};m.Y=function(){ob.$a.Y.call(this);this.relatedTarget=this.currentTarget=this.target=this.ma=l};function pb(){}var qb=0;m=pb.prototype;m.key=0;m.Xa=!1;m.ud=!1;m.Pb=function(a,b,c,d,e,f){if(da(a))this.Vd=!0;else if(a&&a.handleEvent&&da(a.handleEvent))this.Vd=!1;else throw Error("Invalid listener argument");this.nb=a;this.ie=b;this.src=c;this.type=d;this.capture=!!e;this.Dc=f;this.ud=!1;this.key=++qb;this.Xa=!1};m.handleEvent=function(a){return this.Vd?this.nb.call(this.Dc||this.src,a):this.nb.handleEvent.call(this.nb,a)};var rb,sb=(rb="ScriptEngine"in n&&n.ScriptEngine()=="JScript")?n.ScriptEngineMajorVersion()+"."+n.ScriptEngineMinorVersion()+"."+n.ScriptEngineBuildVersion():"0";function y(a,b){this.$d=b;this.Aa=[];if(a>this.$d)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.Aa.push(this.da?this.da():{})}u(y,kb);y.prototype.da=l;y.prototype.Ed=l;y.prototype.getObject=function(){return this.Aa.length?this.Aa.pop():this.da?this.da():{}};function tb(a,b){a.Aa.length<a.$d?a.Aa.push(b):ub(a,b)}function ub(a,b){if(a.Ed)a.Ed(b);else if(ea(b))if(da(b.xa))b.xa();else for(var c in b)delete b[c]}
y.prototype.Y=function(){y.$a.Y.call(this);for(var a=this.Aa;a.length;)ub(this,a.pop());delete this.Aa};var vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb;
(function(){function a(){return{X:0,S:0}}function b(){return[]}function c(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new pb}function e(){return new ob}var f=rb&&!(ta(sb,"5.7")>=0),g;Ab=function(a){g=a};if(f){vb=function(){return j.getObject()};wb=function(a){tb(j,a)};xb=function(){return k.getObject()};yb=function(a){tb(k,a)};zb=function(){return o.getObject()};Bb=function(){tb(o,c())};Cb=function(){return B.getObject()};Db=function(a){tb(B,a)};Eb=function(){return r.getObject()};
Fb=function(a){tb(r,a)};var j=new y(0,600);j.da=a;var k=new y(0,600);k.da=b;var o=new y(0,600);o.da=c;var B=new y(0,600);B.da=d;var r=new y(0,600);r.da=e}else vb=a,wb=p,xb=b,yb=p,zb=c,Bb=p,Cb=d,Db=p,Eb=e,Fb=p})();var Gb={},z={},Hb={},Ib={};
function A(a,b,c,d,e){if(b)if(s(b)){for(var f=0;f<b.length;f++)A(a,b[f],c,d,e);return l}else{var d=!!d,g=z;b in g||(g[b]=vb());g=g[b];d in g||(g[d]=vb(),g.X++);var g=g[d],j=fa(a),k;g.S++;if(g[j]){k=g[j];for(f=0;f<k.length;f++)if(g=k[f],g.nb==c&&g.Dc==e){if(g.Xa)break;return k[f].key}}else k=g[j]=xb(),g.X++;f=zb();f.src=a;g=Cb();g.Pb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Gb[c]=g;Hb[j]||(Hb[j]=xb());Hb[j].push(g);a.addEventListener?(a==n||!a.uc)&&a.addEventListener(b,f,d):a.attachEvent(b in Ib?Ib[b]:
Ib[b]="on"+b,f);return c}else throw Error("Invalid event type");}function Jb(a,b,c,d,e){if(s(b))for(var f=0;f<b.length;f++)Jb(a,b[f],c,d,e);else{d=!!d;a:{f=z;if(b in f&&(f=f[b],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].nb==c&&a[f].capture==d&&a[f].Dc==e){Kb(a[f].key);break}}}
function Kb(a){if(Gb[a]){var b=Gb[a];if(!b.Xa){var c=b.src,d=b.type,e=b.ie,f=b.capture;c.removeEventListener?(c==n||!c.uc)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Ib?Ib[d]:Ib[d]="on"+d,e);c=fa(c);e=z[d][f][c];if(Hb[c]){var g=Hb[c];cb(g,b);g.length==0&&delete Hb[c]}b.Xa=!0;e.ce=!0;Lb(d,f,c,e);delete Gb[a]}}}
function Lb(a,b,c,d){if(!d.Tb&&d.ce){for(var e=0,f=0;e<d.length;e++)if(d[e].Xa){var g=d[e].ie;g.src=l;Bb(g);Db(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.ce=!1;f==0&&(yb(d),delete z[a][b][c],z[a][b].X--,z[a][b].X==0&&(wb(z[a][b]),delete z[a][b],z[a].X--),z[a].X==0&&(wb(z[a]),delete z[a]))}}
function Mb(a){var b,c=0,d=b==l;b=!!b;if(a==l)Va(Hb,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Kb(f.key),c++}});else if(a=fa(a),Hb[a])for(var a=Hb[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Kb(f.key),c++}}function Nb(a,b,c,d,e){var f=1,b=fa(b);if(a[b]){a.S--;a=a[b];a.Tb?a.Tb++:a.Tb=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];k&&!k.Xa&&(f&=Ob(k,e)!==!1)}}finally{a.Tb--,Lb(c,d,b,a)}}return Boolean(f)}
function Ob(a,b){var c=a.handleEvent(b);a.ud&&Kb(a.key);return c}
Ab(function(a,b){if(!Gb[a])return!0;var c=Gb[a],d=c.type,e=z;if(!(d in e))return!0;var e=e[d],f,g;ib===h&&(ib=v&&!n.addEventListener);if(ib){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=n;f=j.shift();)if(k[f]!=l)k=k[f];else{j=l;break a}j=k}f=j;j=!0 in e;k=!1 in e;if(j){if(f.keyCode<0||f.returnValue!=h)return!0;a:{var o=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(B){o=!0}if(o||f.returnValue==h)f.returnValue=!0}}o=Eb();o.Pb(f,this);f=!0;try{if(j){for(var r=xb(),E=o.currentTarget;E;E=
E.parentNode)r.push(E);g=e[!0];g.S=g.X;for(var J=r.length-1;!o.ra&&J>=0&&g.S;J--)o.currentTarget=r[J],f&=Nb(g,r[J],d,!0,o);if(k){g=e[!1];g.S=g.X;for(J=0;!o.ra&&J<r.length&&g.S;J++)o.currentTarget=r[J],f&=Nb(g,r[J],d,!1,o)}}else f=Ob(c,o)}finally{if(r)r.length=0,yb(r);o.xa();Fb(o)}return f}d=new ob(b,this);try{f=Ob(c,d)}finally{d.xa()}return f});function Pb(){}u(Pb,kb);m=Pb.prototype;m.uc=!0;m.Nc=l;m.addEventListener=function(a,b,c,d){A(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Jb(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=z;if(b in c){if(t(a))a=new mb(a,this);else if(a instanceof mb)a.target=a.target||this;else{var d=a,a=new mb(b,this);Xa(a,d)}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.Nc)e.push(f);f=c[!0];f.S=f.X;for(var g=e.length-1;!a.ra&&g>=0&&f.S;g--)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,!0,a)&&a.sb!=!1}if(!1 in c)if(f=c[!1],f.S=f.X,b)for(g=0;!a.ra&&g<e.length&&f.S;g++)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,!1,a)&&a.sb!=!1;else for(e=this;!a.ra&&
e&&f.S;e=e.Nc)a.currentTarget=e,d&=Nb(f,e,a.type,!1,a)&&a.sb!=!1;a=Boolean(d)}else a=!0;return a};m.Y=function(){Pb.$a.Y.call(this);Mb(this);this.Nc=l};function Qb(a,b){this.V=rb?[]:"";a!=l&&this.append.apply(this,arguments)}Qb.prototype.set=function(a){this.clear();this.append(a)};rb?(Qb.prototype.sc=0,Qb.prototype.append=function(a,b,c){b==l?this.V[this.sc++]=a:(this.V.push.apply(this.V,arguments),this.sc=this.V.length);return this}):Qb.prototype.append=function(a,b,c){this.V+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.V+=arguments[d];return this};Qb.prototype.clear=function(){rb?this.sc=this.V.length=0:this.V=""};
Qb.prototype.toString=function(){if(rb){var a=this.V.join("");this.clear();a&&this.append(a);return a}else return this.V};v&&Sa(8);var Rb;function Sb(a,b){var c;c=(c=a.className)&&typeof c.split=="function"?c.split(/\s+/):[];var d=hb(arguments,1),e;e=c;for(var f=0,g=0;g<d.length;g++)Ya(e,d[g])>=0||(e.push(d[g]),f++);e=f==d.length;a.className=c.join(" ");return e};function C(a,b){this.width=a;this.height=b}m=C.prototype;m.i=function(){return new C(this.width,this.height)};function Tb(a){return a.width*a.height}m.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};m.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};m.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
m.scale=function(a){this.width*=a;this.height*=a;return this};var Ub=!v||Ua();!Fa&&!v||v&&Ua()||Fa&&Sa("1.9.1");v&&Sa("9");function D(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}D.prototype.i=function(){return new D(this.x,this.y)};function Vb(a){var b=new D(0,0),c=a.x-b.x,a=a.y-b.y;return Math.sqrt(c*c+a*a)};function Wb(a){return a?new Xb(Yb(a)):Rb||(Rb=new Xb)}function Zb(a,b){var c=b&&b!="*"?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!w||$b(document)||Sa("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function ac(a,b){Va(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in bc?a.setAttribute(bc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}
var bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function cc(a){var b=a.document;if(w&&!Sa("500")&&!Ga){typeof a.innerHeight=="undefined"&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new C(a.innerWidth,b)}a=$b(b)?b.documentElement:b.body;return new C(a.clientWidth,a.clientHeight)}function dc(a,b,c){return ec(document,arguments)}
function ec(a,b){var c=b[0],d=b[1];if(!Ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',na(d.name),'"');if(d.type){c.push(' type="',na(d.type),'"');var e={};Xa(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)t(d)?c.className=d:s(d)?Sb.apply(l,[c].concat(d)):ac(c,d);b.length>2&&fc(a,c,b,2);return c}
function fc(a,b,c,d){function e(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ca(f)&&!(ea(f)&&f.nodeType>0)?Za(gc(f)?eb(f):f,e):e(f)}}function $b(a){return a.compatMode=="CSS1Compat"}function hc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function ic(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function F(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function jc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Yb(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Yb(a).createTextNode(b))}}function gc(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return!1}function Xb(a){this.la=a||n.document||document}m=Xb.prototype;
m.Bd=function(a,b,c){return ec(this.la,arguments)};m.createElement=function(a){return this.la.createElement(a)};m.createTextNode=function(a){return this.la.createTextNode(a)};m.appendChild=function(a,b){a.appendChild(b)};m.append=function(a,b){fc(Yb(a),a,arguments,1)};m.contains=jc;var lc={},mc,nc,oc;function pc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}pc.prototype.i=function(){return new pc(this.top,this.right,this.bottom,this.left)};pc.prototype.contains=function(a){return!this||!a?!1:a instanceof pc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
pc.prototype.expand=function(a,b,c,d){ea(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function qc(a,b){var c;a:{c=Yb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}function rc(a){var b=a.getBoundingClientRect();if(v)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function sc(a){if(v)return a.offsetParent;for(var b=Yb(a),c=qc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=qc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return l}function tc(a,b,c){if(b instanceof C)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=uc(b);a.style.height=uc(c)}
function uc(a){typeof a=="number"&&(a=Math.round(a)+"px");return a}function vc(a){if(qc(a,"display")!="none")return wc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=wc(a);b.display=c;b.position=e;b.visibility=d;return a}function wc(a){var b=a.offsetWidth,c=a.offsetHeight,d=w&&!b&&!c;return(!q(b)||d)&&a.getBoundingClientRect?(a=rc(a),new C(a.right-a.left,a.bottom-a.top)):new C(b,c)}
function xc(a){var b=Wb(h),c=l;if(v)c=b.la.createStyleSheet(),yc(c,a);else{var d=Zb(b.la,"head")[0];d||(c=Zb(b.la,"body")[0],d=b.Bd("head"),c.parentNode.insertBefore(d,c));c=b.Bd("style");yc(c,a);b.appendChild(d,c)}return c}function yc(a,b){v?a.cssText=b:a[w?"innerText":"innerHTML"]=b};var zc,Ac,Bc,Cc,Dc=Ba();zc=w&&Ga&&/(ipod|iphone|ipad)/i.test(Dc);Ac=w&&Ga&&/(android)/i.test(Dc);Bc=w&&/playbook/i.test(Dc);Cc=q(document.ontouchmove);(function(){var a=[[],[]],b=[[],[]];mc=function(c,d,e){bb((e?b:a)[d||0],c)};nc=function(){for(var c,d=0;d<2;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.w=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var Ec;var Fc=new Qb;
Fc.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene",
" {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
Ec=Fc.toString();xc(Ec);var G=new function(){this.O=[];this.Pa=!1;this.Td=0;this.yc=1E3/30;this.Ba=0};function Gc(a,b){this.B=this.ae=a;this.Hc=q(b)?b:-1;this.na=[]}Gc.prototype.Za=function(a){if(this.na.length)if(this.B>a)this.B-=a;else{var b=this.ae+a-this.B;this.B=this.ae-(a-this.B);if(this.B<0)this.B=0;for(var c,a=this.na.length;--a>=0;)(c=this.na[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);this.Hc!=-1&&(this.Hc--,this.Hc==0&&G.La(c[1],c[2]))}};G.O.push(new Gc(0));G.cd=n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame;
G.xf=aa("yc");G.hf=function(){this.yc=1E3/60;this.Pa&&(G.Dd(),G.hd())};G.Zb=function(a,b,c){c=q(c)?c:this.O[0];bb(c.na,[1,a,b]);bb(this.O,c);this.Pa||G.hd()};G.La=function(a,b){for(var c=this.O.length;--c>=0;){for(var d=this.O[c],e=d.na,f,g=e.length;--g>=0;)f=e[g],f[1]==a&&f[2]==b&&cb(e,f);e.length==0&&c!=0&&cb(this.O,d)}this.O.length==1&&this.O[0].na.length==0&&G.Dd()};
G.hd=function(){if(!this.Pa)this.Ba=la(),G.cd?n.mozRequestAnimationFrame?(n.mozRequestAnimationFrame(),this.pd=ka(G.ze,this),n.addEventListener("MozBeforePaint",this.pd,!1)):(this.lc=ka(G.xe,this),n.webkitRequestAnimationFrame(this.lc)):this.Td=setInterval(ka(G.of,this),G.yc),this.Pa=!0};G.Dd=function(){if(this.Pa)G.cd?n.mozRequestAnimationFrame?n.removeEventListener("MozBeforePaint",this.pd,!1):n.webkitCancelRequestAnimationFrame(this.lc):clearInterval(this.Td),this.Pa=!1};
G.xe=function(a){a||(a=la());G.xc(a-this.Ba);this.Ba=a;n.webkitRequestAnimationFrame(this.lc)};G.ze=function(a){G.xc(a.timeStamp-this.Ba);this.Ba=a.timeStamp;n.mozRequestAnimationFrame()};G.of=function(){var a=la(),b=a-this.Ba;b<0&&(b=1);G.xc(b);this.Ba=a};G.xc=function(a){for(var b=this.O.length;--b>=0;)this.O[b].Za(a);if(oc==1&&/Firefox\/4./.test(Ba())&&!lc.uf)G.ee?(document.body.style.MozTransform="",G.ee=0):(document.body.style.MozTransform="scale(1,1)",G.ee=1),oc=0};
G.Ce=function(a){for(var b,c,d,e,f=this.O.length;--f>=0;){b=this.O[f];for(e=b.na.length;--e>=0;)d=b.na[e],c=d[2],da(c.J)&&(c=c.J(),c==a&&(d[0]=!0))}};G.ka=function(a,b,c){G.gf(a,b,c)};G.gf=function(a,b,c){G.Zb(a,b,new Gc(c,1))};var Hc;function H(){this.ga=[];this.Fc=[];this.cc={};this.yf=!1;this.q=1;this.Ra=Ic;this.U=0}u(H,Pb);m=H.prototype;m.scope="";m.l=function(a){this.q=a;return this};function I(a,b){a.Ra=b;return a}m.play=function(){this.he=0;this.Kd=this.U=1;G.Zb(this.Za,this);this.dispatchEvent({type:"start"})};m.stop=function(){if(this.U!=0){var a=this.Fc;if(Jc(this)&&this.W)for(var b=a.length;--b>=0;)this.W(a[b]);this.Fc=[];this.cc={};this.U=0;G.La(this.Za,this);this.dispatchEvent({type:"stop"})}};m.pb=function(){return{}};
function Kc(a,b){var c=fa(b);q(a.cc[c])||(a.Ec(b),a.cc[c]=a.pb(b));return a.cc[c]}m.Ec=function(a){Lc.Yb(this,a);this.U=1;bb(this.Fc,a);this.xb&&!this.Wc&&this.gb&&this.gb()};m.J=function(){return this.ga[0]?this.ga[0].J():l};m.Za=function(a){this.xb&&!this.Wc&&this.gb&&this.gb();this.Kd&&(delete this.Kd,a=1);this.he+=a;this.wf=a;a=this.he/(this.q*1E3);if(isNaN(a)||a>=1)a=1;a=this.Ab(a,this.ga);a==1&&this.stop()};
m.Ab=function(a,b){a=this.Ra[0](a);isNaN(a)&&(a=1);for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function Jc(a){return a.q>0&&Mc&&a.Ze&&!Ac&&!Fa}function Nc(a){a.Ze=q(h)?h:!0;return a}var Lc=new function(){this.h={}};Lc.Yb=function(a,b){if(a.scope.length){var c=fa(b);q(this.h[c])||(this.h[c]={});q(this.h[c][a.scope])&&this.h[c][a.scope].stop();this.h[c][a.scope]=a}};Lc.Ff=function(a){a=fa(a);if(q(this.h[a]))for(var b in this.h[a])this.h[a][b].stop(),delete this.h[a][b]};
(function(){function a(a){var e,f,g,r;for(g=a,f=0;f<8;f++){r=((b*g+c)*g+d)*g-a;if((r>=0?r:0-r)<5.0E-5)return g;e=(3*b*g+2*c)*g+d;if((e>=0?e:0-e)<1.0E-6)break;g-=r/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){r=((b*g+c)*g+d)*g;if((r-a>=0?r-a:0-(r-a))<5.0E-5)break;a>r?e=g:f=g;g=(f-e)*0.5+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;Hc=function(j,k,o,B){return[function(r){d=3*j;c=3*(o-j)-d;b=1-d-c;g=3*k;f=3*(B-k)-g;e=1-g-f;return((e*a(r)+f)*a(r)+g)*a(r)},j,k,o,B]}})();
var Oc=Hc(0,0,1,1),Pc=Hc(0,0,0.58,1),Ic=Hc(0.42,0,0.58,1);function Qc(){}u(Qc,Pb);Qc.prototype.Sd=p;function Rc(a){if(a[0]instanceof Qc)return a[0];s(a)||(a=fb(arguments));if(a.length>2)return new Sc(a);else if(t(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Sc(a[0]);return new Tc(a[0])}Qc.prototype.ub=p;Qc.prototype.tb=p;function Sc(a){this.eb=1;this.$b(a)}u(Sc,Qc);m=Sc.prototype;m.id="color";m.$b=function(a){var b=a;if(t(a))return this.Ha=a,this;arguments.length>2&&(b=arguments);if(b.length>=3)this.Vb=b[0],this.Mb=b[1],this.Db=b[2];if(b.length==4)this.eb=b[3];this.Ha=this.eb==1?"rgb("+this.Vb+","+this.Mb+","+this.Db+")":"rgba("+this.Vb+","+this.Mb+","+this.Db+","+this.eb+")";return this};m.ub=function(a){a.style.background=this.Ha};m.tb=function(a){a.fillStyle=this.Ha};
m.i=function(){var a=new Sc("");a.Vb=this.Vb;a.Mb=this.Mb;a.Db=this.Db;a.eb=this.eb;a.Ha=this.Ha;return a};function Uc(a,b){var c=s(a)?a:fb(arguments);this.ia=c[0]||1;c.shift();this.$b.apply(this,c)}u(Uc,Qc);m=Uc.prototype;m.id="stroke";m.ub=function(a){a.style.border=this.ia+"px solid "+this.va.Ha};m.tb=function(a){a.strokeStyle=this.va.Ha;a.lineWidth=this.ia};m.$b=function(a){var b=fb(arguments);b[0]instanceof Sc?this.va=b[0]:(this.va=new Sc("#000"),b.length&&this.va.$b.apply(this.va,b));return this};m.i=function(){var a=new Uc;a.ia=this.ia;a.va=this.va;return a};function Tc(a){a&&da(a.data)&&(a=a.data());if(t(a)){this.Q=a;if(this.Q.length>50)this.Q=this.Q.substr(-50);Vc[this.Q]?this.D=Vc[this.Q]:(this.D=new Image,this.D.src=a)}else{this.Q=a.src;if(this.Q.length>50)this.Q=this.Q.substr(-50);this.D=Vc[this.Q]?Vc[this.Q]:a}this.mb()||A(this.D,"load",this.Oe,!1,this);Vc[this.Q]=this.D}u(Tc,Qc);var Vc={};m=Tc.prototype;m.id="image";
m.Sd=function(a){var b=a.n(),c=this;!b.width&&!b.height&&(this.mb()?a.g(this.D.width,this.D.height):A(this,"load",function(){var a=this.n();!a.width&&!a.height&&this.g(c.D.width,c.D.height)},!1,a));this.mb()||A(this,"load",function(){K(a,4)},!1,this)};m.Oe=function(a){this.dispatchEvent(a)};m.mb=function(){return this.D&&this.D.width&&this.D.height};m.g=function(a,b,c){typeof a=="number"&&(a=new C(a,b),b=c||!1);this.s=a;this.kf=b;return this};
function Wc(a,b){var c=b.n().i();if(a.s)a.kf?(c.width*=a.s.width,c.height*=a.s.height):c=a.s;var d=new D(0,0);if(a.Mc)a.Af?(d.x=c.width*a.Mc.x,d.y=c.height*a.Mc.y):d=a.Mc;return[c,d]}m.ub=function(a,b){a.style.background="url("+this.D.src+")";var c=Wc(this,b),d=c[0],c=c[1],e=Xc(b);a.style[Yc("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.I?b.I.ia:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.Df&&(a.style.imageRendering="optimizeQuality")};
m.tb=function(a,b){var c=b.n(),d=L(b);if(c.width&&c.height)try{var e=this.D,f=Wc(this,b),g=f[0],j=f[1],k=a.createPattern(e,"repeat"),o=g.width/e.width,B=g.height/e.height;a.save();a.translate(d.left+j.x,d.top+j.y);a.scale(o,B);a.fillStyle=k;a.fillRect(-j.x/o,-j.y/B,c.width/o,c.height/B);a.restore()}catch(r){}};pc.prototype.size=function(){return new C(this.right-this.left,this.bottom-this.top)};function Zc(){}Zc.prototype.v=p;function M(a){return a.od?a.od:a}function $c(a,b){Xa(b,a);b.od=M(a);return b};var N=new Zc;N.Ma=function(){};
N.Ee=function(){var a=this.Va,b=this.Ub(),c=this.$||1,d=c/a,e;if(this.b){this.Ib&&this.Ib.contains(b)&&(e=Tb(this.Ib.size())/Tb(b.size()))&&e<1.6&&e>0.5?b=this.Ib:this.Ef!=1&&this.e.length!=0&&(this instanceof O||b.expand(12,12,12,12));this.Ib=b;var f=b.size();e=f.i().scale(c).ceil();if(this.b.width!=e.width||this.b.height!=e.height)this.b.width=e.width,this.b.height=e.height,this.Xb=1;var g=this.G.i();this.m[2]&&(g=this.m[2]);e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=L(this);this.mc=(a.left-
b.left)*c;this.nc=(a.top-b.top)*c;b=this.n().i();a=this.R;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.f.i();this.m[1]&&(c=this.m[1]);c.x*=d;c.y*=d;c.x-=b.width+this.mc;c.y-=b.height+this.nc;ad(this.b,(this.mc+b.width)/e.width*100,(this.nc+b.height)/e.height*100,!0);!this.P[1]&&!this.P[2]&&!this.P[4]&&(d=-bd(this),q(this.m[4])&&(d=-this.m[4]),cd(this.b,dd(new ed,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));if(this.Xb)d=this.b.getContext("2d"),c=this.$||1,d.clearRect(0,0,e.width,e.height),
d.save(),d.translate(this.mc,this.nc),d.scale(c,c),e=this.n(),g=this.R,d.translate(e.width*g.x,e.height*g.y),this.p.Hd.call(this,d),d.restore(),this.Xb=0}};N.update=function(){};
N.Hd=function(a){if(this.r&&(this.j!=this.ja&&(this.ja&&P.ne.call(this),this.j&&P.jd.call(this)),!this.Ca&&!this.Ob&&!(this.z==0||this.Gc==1))){this.z!=1&&(a.globalAlpha*=this.z);if(this.j){P.td.call(this.j);var b=this.ja,c=this.G;a.save();a.save();a.translate(b.Yd.x,b.Yd.y);a.rotate(-b.Zd);this.qb&&a.rotate(bd(this)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.Lc/c.x,0);a.lineTo(b.Lc/c.x,b.Kc/c.y);a.lineTo(0,b.Kc/c.y);a.closePath();a.restore();a.clip()}b=new D(0,0);this.p.v.call(this,a);for(var d=
0,e;e=this.e[d];d++){var f=fd(e,b).i(),g=bd(e),c=e.G;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);g!=0&&a.rotate(-g*Math.PI/180);this.p.Hd.call(e,a);a.restore()}this.z!=1&&(a.globalAlpha/=this.z);this.ja&&a.restore()}};function Q(a,b){this.x=a;this.y=b}u(Q,D);Q.prototype.i=function(){return new Q(this.x,this.y)};Q.prototype.scale=function(a){this.x*=a;this.y*=a;return this};Q.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Mc,Yc,gd,hd,id,jd,kd;(function(){var a=w?"Webkit":Fa?"Moz":Ea?"O":v?"ms":"",b=dc("div").style;gd="-"+a.toLowerCase()+"-transform";hd=function(a){return b[a]!==h?a:!1};Yc=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return hd(b)?b:hd(d)?d:hd(e)?e:h}})();var ld=function(){var a=Yc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=q(d)?d:c;c=(s(c)?c.join(e+" "):c)+e+"/"+((s(d)?d.join(e+" "):d)+e);if(c!=b.Be)b.style[a]=b.Be=c}}();
function ed(a){this.ec=[];this.Ua=1;this.Bf&&dd(this,a)}ed.prototype.scale=function(a,b){this.ec.push("scale("+a+","+b+")");return this};ed.prototype.rotate=function(a,b){a!=0&&this.ec.push("rotate("+a+(b?b:"deg")+")");return this};ed.prototype.translate=function(a,b,c){var d=1/this.Ua,e="translate";if(zc||Bc)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(zc||Bc)e+=","+(c?c:0)*d+"px";this.ec.push(e+")");return this};
function dd(a,b){if(a.Ua!=1){var c=1/a.Ua;a.scale(c,c);a.Ua=1}if(b!=1)a.scale(b,b),a.Ua=b;return a}ed.prototype.toString=function(){this.Ua!=1&&dd(this,1);return this.ec.join(" ")};var cd=function(){var a=Yc("Transform");return function(b,c){var d=c.toString();if(d!=b.qf)b.style[a]=b.qf=d;oc=1}}(),ad=function(){var a=Yc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.rf)b.style[a]=b.rf=c}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=$a(e,function(a){return a.indexOf(b)==-1});return e.join(",")}var b=Yc("Transition");Mc=!!b&&!Ea;id=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};jd=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};kd=function(a,b,e){if(a.tf!=b||a.Ne!=e)a.tf=b,a.Ne=e,tc(a,b,e)}})();var P=new Zc;P.Ma=function(){for(var a=0,b,c=0;b=this.e[c];c++)b=b instanceof R?b.A:b,b==this.b.childNodes[a]?a++:(jc(this.L,b)&&F(b),P.ye(this.L,b,a++))};
P.Fe=function(){var a=this.n(),b=this.Va,c=this.f,d=this.$||1;this.m[1]&&(c=this.m[1]);var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.G.i();this.m[2]&&(g=this.m[2].i());e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);kd(this.b,e,f);ad(this.b,this.R.x*100,this.R.y*100,!0);e=this.R.x*a.width*d;f=this.R.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.I?this.I.ia:0;(e-c!=0||f-c!=0)&&this.b==this.L&&this.e.length&&P.Ve.call(this);this.b!=this.L&&!this.P[1]&&!this.P[2]&&!this.P[4]&&cd(this.L,(new ed).translate(e-
c,f-c));this.j!=this.ja&&(this.ja&&P.ne.call(this),this.j&&P.jd.call(this));c=dd(new ed,0.1);this.j&&(P.td.call(this.j),dd(dd(c,0.1).translate(-this.j.Te-e,-this.j.Ue-f).rotate(this.j.Zd,"rad").translate(e,f),1));e=-bd(this);q(this.m[4])&&(e=-this.m[4]);c.translate(a,b).scale(g.x,g.y).rotate(e);!this.P[1]&&!this.P[2]&&!this.P[4]&&cd(this.b,c)};
P.update=function(){if(this.b){P.Fe.call(this);if(!this.P[5]){var a=this.z;q(this.m[5])&&(a=this.m[5]);if(this.w&16){var b=this.b.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}this.w&32&&(this.b.style.display=this.Ob?"none":"block");this.Ca||this.p.v.call(this,this.b)}};
P.td=function(){if(q(this.Yc)&&this.Yc.r){var a=this.Yc,b=L(this),c=new D(b.left,b.top),d=new D(b.right,b.top),e=new D(b.right,b.bottom),b=a.getParent(),c=!this.r?c:b.aa(this.ob(c)),d=!this.r?d:b.aa(this.ob(d)),e=!this.r?e:b.aa(this.ob(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,k=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.Lc=Math.round(Math.sqrt(f*f+g*g));this.Kc=Math.round(Math.sqrt(j*j+k*k));if(M(a.p)==P)f=a.A,tc(f,this.Lc,this.Kc),cd(f,dd(new ed,0.1).translate(c.x,c.y).rotate(-b,
"rad"));M(this.p)==P&&(this.b.style.display="none");this.Yd=md(a,c.i());this.Se=!0;this.Te=d*c.x-e*c.y;this.Ue=d*c.y+e*c.x;this.Zd=b}};P.ye=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};P.Ve=function(){this.L=dc("div");for(var a=document.createDocumentFragment(),b;b=this.b.firstChild;)this.b.removeChild(b),a.appendChild(b);this.L.appendChild(a);this.b.appendChild(this.L)};
P.ne=function(){if(this.b!=this.A){if(M(this.p)==P){F(this.b);var a=this.A,b=a.parentNode;b&&b.replaceChild(this.b,a);this.A=this.b}this.ja.Gc=0;this.ja=l}};P.jd=function(){if(M(this.p)==P){this.A=dc("div");this.A.style.cssText="position:absolute;overflow:hidden;";ad(this.A,0,0);var a=this.b,b=a.parentNode;b&&b.replaceChild(this.A,a);this.A.appendChild(this.b)}this.j.Gc=1;this.j.Yc=this;this.ja=this.j;K(this.j,1)};function R(){this.e=[];this.k=l;this.ha={};this.m={};this.P={};this.Zc={};this.r=!1;this.Tc=this.wc=l;this.C={};this.H(1);this.a(0,0);this.g(0,0);this.Va=1;this.c(0.5,0.5);S(this,0);this.nd=0;K(this,7);this.z=1;nd(this);od(this,M(this.sa[0]));K(this,64)}u(R,Pb);m=R.prototype;m.sa=[P,N];function od(a,b){if(!a.p||M(a.p)!=b){for(var c=-1,d=0;d<a.sa.length;d++)if(M(a.sa[d])==b){c=d;break}if(c!=-1){a.p=a.sa[d];K(a,64);for(d=0;c=a.e[d];d++)od(c,b)}}}m.qb=function(){return!(this.k&&M(this.k.p)==N)};
function pd(a){if(a.qb())return a.qb()?qd(a):rd(a),a;else if(a.k)return pd(a.k);return l}function sd(a){if(!a.k||a instanceof O)return[];var b=a.k.e.indexOf(a),a=sd(a.k);a.push(b);return a}function td(a,b){if(a==b)return 0;for(var c=sd(a),d=sd(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}m.uc=!1;
function K(a,b,c,d){b&&!a.w&&mc(a,c,d);a.w|=b;if(b==64)for(c=0;d=a.e[c];c++)d instanceof R&&K(d,64);if(!q(a.w)||!b)a.w=0;if(b&&a.Ca)a.Se=!1,K(a.Ca,-1);return a}m.H=function(a,b){this.G=arguments.length==1&&typeof a=="number"?new Q(a,a):arguments.length==2?new Q(arguments[0],arguments[1]):a;return this.m[2]?this:K(this,2)};m.a=function(a,b){this.f=arguments.length==2?new D(arguments[0],arguments[1]):a;return this.m[1]?this:K(this,1)};
function nd(a){if(l!=a.j){if(a.j){var b=a.j;delete b.vc;ud(b,b.getParent());delete a.j.Ca}a.j=l;if(a.j)vd(a.j),a.j.Ca=a;K(a,4)}}m.c=function(a,b){this.R=arguments.length==2?new Q(arguments[0],arguments[1]):a;return K(this,1)};function bd(a){return a.Fa%=360}function S(a,b){a.Fa=b;return a.m[4]?a:K(a,1)}function wd(a,b){a.Ob=b;K(a,32);a.md=0}m.n=aa("s");
m.g=function(a,b){var c=this.s,d,e;d=arguments.length==2?new C(arguments[0],arguments[1]):a;var f=this.R;if(c&&this.e.length)for(var g=0;g<this.e.length;g++){var j=this.e[g];if(j.Je){var k=j.nd;if(k!=0){var o=xd(j);e=c.width;var B=o.left+f.x*c.width,r=o.right-o.left,E=e-o.right-f.x*c.width;k&1&&(e-=B);k&2&&(e-=r);k&4&&(e-=E);e!=c.width&&(e=(d.width-e)/(c.width-e),k&1&&(B*=e),k&2&&(r*=e));e=c.height;var E=o.top+f.y*c.height,J=o.bottom-o.top,o=e-o.bottom-f.y*c.height;k&8&&(e-=E);k&16&&(e-=J);k&32&&
(e-=o);e!=c.height&&(e=(d.height-e)/(c.height-e),k&8&&(E*=e),k&16&&(J*=e));k=j.R;j.g(r,J);j.a(B+k.x*r-f.x*d.width,E+k.y*J-f.y*d.height)}}}this.s=d;return K(this,2)};function Xc(a){a.$||yd(a);return a.$}function yd(a){var b=q(a.$)?a.$:a.Va;a.k&&a.k.$&&(b=a.Va*a.k.$);if(b!=a.$){a.$=b;for(var b=0,c;c=a.e[b];b++)c instanceof R&&yd(c);K(a,2)}}m.Je=aa("nd");m.aa=function(a){return!this.r?a:md(this,this.getParent().aa(a))};
function md(a,b){if(!a.getParent())return l;b.x-=a.f.x;b.y-=a.f.y;b.x/=a.G.x;b.y/=a.G.y;if(a.Fa!=0){var c=b.i(),d=a.Fa*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}m.ob=function(a){return!this.r?a:this.getParent().ob(fd(this,a))};function fd(a,b){if(!a.getParent())return b;var c=b.i();if(a.Fa!=0){var d=-a.Fa*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.G.x;c.y*=a.G.y;c.x+=a.f.x;c.y+=a.f.y;return c}
function T(a,b){a.z=b;var c=a.Ob;a.z==0&&!c?(wd(a,!0),a.md=1):a.z!=0&&c&&a.md&&wd(a,!1);if(q(a.m[5]))return a;K(a,16);return a}function qd(a){function b(){this.b=this.A=this.L=dc(c);this.kb&&Sb(this.b,this.kb);this.w|=-1}var c=M(a.p)==N?"canvas":"div";if(a.b){if(a.b.tagName.toLowerCase()!=c){var d=a.A;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.A,d)}}else b.call(a)}function rd(a){a.A&&(F(a.A),delete a.b,delete a.A,delete a.L)}
m.Ma=function(){this.w&=-65;this.qb()?qd(this):rd(this);if(this.k&&this.k.w&64)this.k.Ma();else if(this.qb()){for(var a=0,b;b=this.e[a];a++)b instanceof R&&b.Ma();this.p.Ma.call(this)}};
m.update=function(a){var b,c,a=a||0;fa(this);this.w&64&&this.Ma();var d=M(this.p)==P||a;if(d){for(var e in this.Zc)delete this.m[e],delete this.P[e],b=parseInt(e,10)==5?"opacity":gd,jd(this.b,b),this.b!=this.L&&jd(this.vf,b);b=0;for(e in this.ha)c=this.ha[e],c[3]||(c[3]=1,e==1&&this.af!=this.f&&(K(this,1,0,!0),b=1),e==2&&this.ff!=this.G&&(K(this,2,0,!0),b=1),e==5&&this.Ye!=this.z&&(K(this,16,0,!0),b=1),e==4&&this.ef!=this.Fa&&(K(this,128,0,!0),b=1));if(!b)for(e in this.ha){c=this.ha[e];b=parseInt(e,
10)==5?"opacity":gd;if(M(this.p)==P||b!="opacity")this.m[e]=c[0],id(this.b,b,c[1],c[2]),this.b!=this.L&&b==gd&&id(this.L,b,c[1],c[2]);delete this.ha[e]}this.af=this.f;this.ff=this.G;this.Ye=this.z;this.ef=this.Fa;this.Zc={}}if(a)this.p.Ee.call(this);else{if(M(this.p)==N){c=pd(this);c.Xb=1;if(c==this&&this.w==1&&!this.j)c.Xb=0;mc(pd(this),1)}this.p.update.call(this)}if(d)for(e in this.m)this.m[e]&&(this.P[e]=!0);if(this.wa)for(e=0;e<this.wa.length;e++)K(this.wa[e],7);K(this,0,a)};
m.getParent=function(){return this.k?this.k:l};m.appendChild=function(a,b){a instanceof R&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&F(a);a.k=this;b==h?this.e.push(a):gb(this.e,b,0,a);M(this.p)!=P&&od(a,M(this.p));a instanceof R&&(yd(a),this.r&&a.ua());return K(this,64)};function zd(a,b){return b>=0&&a.e.length>b?a.e[b]:l}
m.removeChild=function(a){a=this.e.indexOf(a);if(a>=0&&this.e.length>a){var b=zd(this,a);b.Ca&&nd(b.Ca);b instanceof R?(this.r&&Ad(b),rd(b),b.k=l):F(b);this.e.splice(a,1);a=K(this,64)}else a=this;return a};m.addEventListener=function(a){Cc&&a.substring(0,5)=="mouse"||(q(this.C[a])||(this.C[a]=[0,0]),this.r&&this.C[a][0]==0&&(this.C[a][0]=1,this.J().Sa.Yb(this,a)),this.C[a][1]++)};
m.removeEventListener=function(a){Cc&&a.substring(0,5)=="mouse"||(this.r&&this.C[a][1]==1&&(this.C[a][0]=0,this.J().Sa.Ea(this,a)),this.C[a][1]--,this.C[a][1]||delete this.C[a])};m.J=function(){return!this.r?l:this.wc};m.Z=function(){return!this.r?l:this.Tc};function Ad(a){var b;a.vc||ud(a,a.getParent());for(var c=0;b=a.e[c];c++)b instanceof R&&Ad(b);for(var d in a.C){a.C[d][0]=0;if(!a.J())debugger;a.J().Sa.Ea(a,d)}Bd(a.J().Sa,a);a.r=!1;a.wc=l;a.Tc=l}
m.ua=function(){this.r=!0;this.wc=this.k.J();this.Tc=this.k.Z();for(var a=0,b;b=this.e[a];a++)b instanceof R&&b.ua();for(var c in this.C)this.C[c][0]=1,this.J().Sa.Yb(this,c);this.vc&&vd(this);Bd(this.J().Sa,this)};function vd(a){a.vc=!0;a.r&&Cd(a,a.getParent())}function Cd(a,b){if(!b.wa)b.wa=[];bb(b.wa,a);!b&&!(b.getParent()instanceof O)&&Cd(a,b.getParent())}function ud(a,b){b&&b.wa&&(cb(b.wa,a),ud(a,b.getParent()))}
function L(a){var b=a.n(),a=a.R;return new pc(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}function xd(a,b){var c=b||L(a),d=new D(c.left,c.top),e=new D(c.right,c.top),f=new D(c.left,c.bottom),c=new D(c.right,c.bottom),d=fd(a,d),e=fd(a,e),f=fd(a,f),c=fd(a,c);return new pc(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
m.Ub=function(){var a=L(this);a.left==a.right&&this.e.length&&(a=xd(this.e[0],this.e[0].Ub()));for(var b=0,c;c=this.e[b];b++)if(c.Gc!=1){var d=a;c=xd(c,c.Ub());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};m.W=function(a){this.Zc[a]=1};m.oa=function(a){var b=this.aa(a.Ga);return L(this).contains(b)?(a.position=b,!0):!1};function Dd(a,b){q(b)||alert("undef");bb(b.ga,a);b.play()};N.t={};P.t={};function U(){R.call(this);this.I=this.lb=l}u(U,R);U.prototype.id="sprite";U.prototype.sa=[$c(P,P.t),$c(N,N.t)];U.prototype.d=function(a,b,c,d){this.lb=Rc(fb(arguments));this.lb.Sd(this);K(this,4);return this};U.prototype.bc=function(a){a&&!(a instanceof Uc)&&(a=new Uc(fb(arguments)));this.I=a;K(this,4);return this};P.t.v=function(a){this.lb===l||this.lb.ub(a,this);this.I===l?a.style.border="none":this.I.ub(a,this)};
N.t.v=function(a){var b=this.n(),c=this.lb,d=this.I;if(c||d){var e=L(this);c&&(c.tb(a,this),c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.tb(a,this),this.id=="sprite"||this.id=="label"))c=d.ia/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};function Ed(){H.call(this)}u(Ed,H);Ed.prototype.update=p;function Fd(a){H.call(this);var b=fb(arguments);s(a)&&(b=a);this.h=b.length>2?[b.shift(),new Fd(b)]:b;this.l(this.h[0].q+this.h[1].q)}u(Fd,H);Fd.prototype.Ec=function(a){H.prototype.Ec.call(this,a);this.l(this.h[0].q+this.h[1].q);this.Ya=this.h[0].q/this.q;this.pa=-1};Fd.prototype.stop=function(){this.pa!=-1&&this.h[this.pa].stop(this.ga);H.prototype.stop.apply(this,arguments)};
Fd.prototype.Ab=function(a,b){if(this.U==0)return a;for(var c=b.length;--c>=0;)Kc(this,b[c]);var d=c=0;a>=this.Ya?(c=1,d=this.Ya==1?1:(a-this.Ya)/(1-this.Ya)):(c=0,d=this.Ya!=0?a/this.Ya:1);if(this.pa==-1&&c==1)this.h[0].U=1,this.h[0].Ab(1,b),this.h[0].stop();if(this.pa!=c)this.pa!=-1&&(this.h[this.pa].Ab(1,b),this.h[this.pa].stop()),this.h[c].U=1;this.h[c].Ab(d,b);this.pa=c;return a};N.bb={};P.bb={};function V(a){U.call(this);Gd(this,a);this.Ac=Hd;K(this,8);Id(this,14);Jd(this,"#000");this.kd="center";K(this,8);this.Md="400";K(this,8);a=[0,0,0,0];q(h)&&(a[1]=a[3]=h);q(h)&&(a[2]=h);q(h)&&(a[3]=h);this.F=a;K(this,8);this.Qe=!1;this.Xd=1.15;this.jf(l);this.d(255,255,255,0)}u(V,U);V.prototype.id="label";var Hd="Arial";V.prototype.sa=[$c(P.t,P.bb),$c(N.t,N.bb)];
(function(){var a;V.prototype.measureText=function(){q(a)||(a=document.createElement("canvas").getContext("2d"));var b=Kd(this)*this.za;a.font=this.za+"px "+this.Ac;var c=a.measureText(this.Ka),d=this.I?this.I.ia:0;return new C(this.F[1]+this.F[3]+(w?c.width:c.width+1)+d*2,this.F[0]+this.F[2]+b+d*2)}})();V.prototype.n=function(){var a=R.prototype.n.call(this);return!a||!a.width&&!a.height?this.measureText():a};function Gd(a,b){a.Ka=b+"";K(a,4);delete a.bd;return a}
function Id(a,b){a.za=b;K(a,8);return a}function Jd(a,b){a.Ld=b;K(a,8);return a}function Kd(a){var b=Math.abs(a.N.y)+a.T*2;return a.Qe?(a.Xd+b)/a.za:a.Xd+b/a.za}V.prototype.jf=function(a,b,c,d){arguments.length==1&&a===l?(this.wb="#ccc",this.T=0,this.ac(0,0)):arguments.length==2?(this.wb=a,this.T=b,this.ac(new Q(0,0))):arguments.length==3?(this.wb=a,this.T=b,this.ac(c)):(this.wb=a,this.T=b,this.ac(c,d));K(this,8)};
V.prototype.ac=function(a,b){this.N=arguments.length==2?new Q(arguments[0],arguments[1]):a;K(this,8)};V.prototype.update=function(){this.w&4&&delete this.Wd;R.prototype.update.apply(this,arguments)};
P.bb.v=function(a){P.t.v.call(this,a);var b=a.style;this.w&4&&kc(a,this.Ka);if(this.w&8)b.lineHeight=Kd(this),b.padding=ab(this.F,function(a){return a*Xc(this)},this).join("px ")+"px",b.color=this.Ld,b.fontFamily=this.Ac,b.fontSize=this.za*Xc(this)+"px",b.fontWeight=this.Md,b.textAlign=this.kd,b.textShadow=this.T||this.N.x||this.N.y?this.wb+" "+this.N.x+"px "+this.N.y+"px "+this.T+"px":""};
N.bb.v=function(a){N.t.v.call(this,a);var b=L(this),c=-b.left-this.F[3]+b.right-this.F[1]+Math.abs(this.N.x)+Math.abs(this.T*2),d=0;if(!this.bd){var d=[],e=this.Ka.length,f=this.Ka.match(Fa?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var j=0;j<f.length;j++){var k=f[j],k=this.Ka.indexOf(k,g)+k.length;d.push(this.Ka.substring(g,k));g=k}g!=e&&d.push(this.Ka.substring(g,e));this.bd=d;d=1}f=this.I?this.I.ia:0;a.save();e=this.kd;e=="left"?a.translate(b.left+this.F[3]+f,b.top+this.F[0]+f):e=="right"?a.translate(b.right-
this.F[1]-f,b.top+this.F[0]+f):e=="center"&&a.translate((b.left+this.F[3]+b.right-this.F[1])*0.5,b.top+this.F[0]+f);b=Kd(this);a.fillStyle=this.Ld;a.font=this.Md+" "+this.za+"px/"+b+" "+this.Ac;a.textAlign=e;a.textBaseline="top";if(this.T||this.N.x||this.N.y)a.shadowColor=this.wb,a.shadowOffsetX=this.N.x,a.shadowOffsetY=this.N.y,a.shadowBlur=this.T;if(d||c!=this.Wd){d=[];e="";f=this.bd;for(j=0;j<f.length;j++)e==""?e=f[j]:(g=a.measureText(ma(e+f[j])),g.width>c?(d.push(ma(e)),e=f[j]):e+=f[j]);d.push(e);
this.Ic=d;this.Wd=c}if(this.Ic){c=b*this.za;b=(q(this.T)?Math.abs(this.T):0)+(q(this.N)?Math.abs(this.N.y)/2:0);c=w?Math.floor(c):Math.round(c);for(d=0;d<this.Ic.length;d++)a.fillText(this.Ic[d],0,c*d+b-0.5)}a.restore()};N.cb={};P.cb={};function W(){U.call(this);X(this,5)}u(W,U);W.prototype.id="roundedrect";W.prototype.sa=[$c(P.t,P.cb),$c(N.t,N.cb)];function X(a,b){a.Gf=!1;a.Qc=b;return a}P.cb.v=function(a){this.n();P.t.v.call(this,a);ld(a,[this.Qc*this.Va,this.Qc*this.Va])};
N.cb.v=function(a){this.n();var b=L(this),c=this.Qc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();N.t.v.call(this,a);this.I&&(a.lineWidth*=2,a.stroke());a.restore()};function Ld(a){H.call(this);this.z=a}u(Ld,H);Ld.prototype.scope="fade";Ld.prototype.pb=function(a){var b=a.z;Jc(this)&&(a.ha[5]=[this.z,this.q,this.Ra,0],K(a,16));return{mf:b,B:this.z-b}};Ld.prototype.update=function(a,b){if(this.U!=0){var c=Kc(this,b);T(b,c.mf+c.B*a)}};Ld.prototype.W=function(a){Jc(this)&&(a.W(5),K(a,16))};function Md(a,b){this.q=1;this.qa=a;this.M=b;this.Ge=!1}u(Md,Pb);Md.prototype.l=function(a){this.q=a;return this};Md.prototype.start=function(){this.M.a(new D(0,0));wd(this.M,!1);this.finish()};Md.prototype.finish=function(){this.dispatchEvent(new mb("end"));this.Ge=!0};function Nd(a,b){Md.call(this,a,b)}u(Nd,Md);Nd.prototype.start=function(){T(this.M,0);wd(this.M,!1);var a=Nc((new Ld(0)).l(this.q));A(a,"stop",function(){this.qa&&T(this.qa,1)},!1,this);this.qa&&Dd(this.qa,a);a=(new Ld(1)).l(this.q);Dd(this.M,a);A(a,"stop",this.finish,!1,this)};function Od(a,b){H.call(this);this.hb=arguments.length==2?new D(arguments[0],arguments[1]):a}u(Od,H);m=Od.prototype;m.scope="move";m.pb=function(a){Jc(this)&&(a.ha[1]=[new D(a.f.x+this.hb.x,a.f.y+this.hb.y),this.q,this.Ra,0],K(a,1));return{yb:a.f}};m.gb=function(){if(this.xb)this.l(this.xb*Vb(this.hb)/100),this.Wc=1};m.update=function(a,b){if(this.U!=0){var c=Kc(this,b);b.a(c.yb.x+this.hb.x*a,c.yb.y+this.hb.y*a)}};m.W=function(a){Jc(this)&&(a.W(1),K(a,1))};function Pd(a,b,c){Md.call(this,a,b);this.be=Qd;this.Xe=c||!1}u(Pd,Md);var Qd=0;Pd.prototype.start=function(){var a=this.M.n(),b=new D(0,0);switch(this.be){case Qd:this.M.a(-a.width,0);b.x=a.width;break;case 1:this.M.a(0,-a.height);b.y=a.height;break;case 2:this.M.a(a.width,0);b.x=-a.width;break;case 4:this.M.a(0,a.height),b.y=-a.height}wd(this.M,!1);a=(new Od(b)).l(this.q);this.qa&&!this.Xe&&bb(a.ga,this.qa);bb(a.ga,this.M);A(a,"stop",this.finish,!1,this);a.play()};
Pd.prototype.finish=function(){this.qa&&this.qa.a(0,0);Md.prototype.finish.call(this)};function Rd(a,b){Pd.call(this,a,b);this.be=1}u(Rd,Pd);function Sd(a,b,c,d,e){this.Oa=b;this.hc=c;this.xd=d;this.ic=a;this.fd=e||0}
Sd.prototype={fb:!0,ge:l,execute:function(a){var b;this.fb&&this.Oa&&(a=this.ge?this.ge.concat(a):a,b=this.Oa.apply(this.xd,a),this.hc&&this.detach());return b},detach:function(){return this.Ud()?this.ic.remove(this.Oa):l},Ud:function(){return!!this.ic&&!!this.Oa},dd:function(){delete this.ic;delete this.Oa;delete this.xd},toString:function(){return"[SignalBinding isOnce: "+this.hc+", isBound: "+this.Ud()+", active: "+this.fb+"]"}};function Td(){this.u=[]}
Td.prototype={gd:!0,fb:!0,se:function(a,b,c,d){var e=this.ed(a);if(e!==-1){if(a=this.u[e],a.hc!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");}else a=new Sd(this,a,b,c,d),this.re(a);return a},re:function(a){var b=this.u.length;do--b;while(this.u[b]&&a.fd<=this.u[b].fd);this.u.splice(b+1,0,a)},ed:function(a){for(var b=this.u.length;b--;)if(this.u[b].Oa===a)return b;return-1},add:function(a,b,c){if(typeof a!==
"function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}","add"));return this.se(a,!1,b,c)},remove:function(a){validateListener(a,"remove");var b=this.ed(a);b!==-1&&(this.u[b].dd(),this.u.splice(b,1));return a},df:function(){for(var a=this.u.length;a--;)this.u[a].dd();this.u.length=0},Qa:function(a){if(this.fb){var b=Array.prototype.slice.call(arguments),c=this.u.slice(),d=this.u.length;this.gd=!0;do d--;while(c[d]&&this.gd&&c[d].execute(b)!==!1)}},xa:function(){this.df();
delete this.u},toString:function(){return"[Signal active: "+this.fb+" numListeners: "+this.u.length+"]"}};function Ud(){this.cf=la()}new Ud;Ud.prototype.set=function(a){this.cf=a};Ud.prototype.reset=function(){this.set(la())};function O(){R.call(this);this.c(0,0);this.kb="lime-scene";qd(this)}u(O,R);O.prototype.Z=function(){return this};O.prototype.Ub=function(){return L(this)};function Vd(){O.call(this);this.b.style.cssText="background:rgba(255,255,255,.8)"}u(Vd,O);function Wd(a,b){H.call(this);this.f=arguments.length==2?new D(arguments[0],arguments[1]):a}u(Wd,H);m=Wd.prototype;m.scope="move";m.pb=function(a){var b=a.f,c=new D(this.f.x-b.x,this.f.y-b.y);Jc(this)&&(a.ha[1]=[this.f,this.q,this.Ra,0],K(a,1));return{yb:b,B:c}};m.gb=function(){if(this.xb&&this.ga.length){var a=this.ga[0].f;this.l(this.xb*Vb(new D(this.f.x-a.x,this.f.y-a.y))/100);this.Wc=1}};m.update=function(a,b){if(this.U!=0){var c=Kc(this,b);b.a(c.yb.x+c.B.x*a,c.yb.y+c.B.y*a)}};
m.W=function(a){Jc(this)&&(a.W(1),K(a,1))};function Xd(a){this.jb=a;this.identifier=0}Xd.prototype.Ia=function(a,b,c){for(var a=s(a)?a:[a],d=0;d<a.length;d++)this.jb.Ia(this,a[d],b);c&&this.event.stopPropagation()};Xd.prototype.Ea=function(a){var b=q(a),c=s(a)?a:[a];if(a=this.jb.ta[this.identifier]){var d=this,a=$a(a,function(a){return!q(d.Ja)||a[0]==d.Ja&&(!b||Ya(c,a[1])>=0)?(Jb(a[0],a[1],a[2]),!1):!0});a.length?this.jb.ta[this.identifier]=a:delete this.jb.ta[this.identifier]}};Xd.prototype.i=function(){var a=new Xd(this.jb);Xa(a,this);return a};function Yd(a){this.ib=a;this.K={};this.ta={}}Yd.prototype.Yb=function(a,b){q(this.K[b])?Ya(this.K[b],a)>=0||(this.K[b].push(a),this.K[b].sort(td)):(this.K[b]=[a],A(b.substring(0,5)=="touch"&&a!=this.ib?document:b.substring(0,3)=="key"?window:this.ib.b.parentNode,b,this,!1,this))};Yd.prototype.Ea=function(a,b){q(this.K[b])&&(cb(this.K[b],a),this.K[b].length||(Jb(this.ib.b.parentNode,b,this,!1,this),delete this.K[b]))};function Bd(a,b){for(var c in a.K){var d=a.K[c];Ya(d,b)>=0&&d.sort(td)}}
Yd.prototype.Ia=function(a,b,c){var d=a.identifier;q(this.ta[d])||(this.ta[d]=[]);this.ta[d].push([a.Ja,b,c]);A(a.Ja,b,p)};
Yd.prototype.handleEvent=function(a){if(q(this.K[a.type])){for(var b=this.K[a.type].slice(),c=!1,d=0,e=0;!e;){var f=new Xd(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.ma.changedTouches[d];f.Ga=new D(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.ma.changedTouches.length&&(e=1)}else f.Ga=new D(a.clientX,a.clientY),e=1;if(q(this.ta[f.identifier])){for(var g=this.ta[f.identifier],j=0;j<g.length;j++)if(g[j][1]==a.type||s(g[j][1])&&Ya(g[j][1],a.type)>=0){var k=g[j][0];
f.Ja=k;f.position=k.aa(f.Ga);g[j][2].call(k,f);c=!0}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup")delete f.Ja,f.Ea()}else for(j=0;j<b.length;j++)if(k=b[j],!(Zd(this.ib)!=k.Z()&&k!=this.ib)&&!k.Ob&&k.r&&(f.Ja=k,k.oa(f)||a.type.substring(0,3)=="key"))if(f.Ja=k,k.dispatchEvent(f),c=!0,f.event.ra)break}c&&a.preventDefault()}};function $d(a){this.Na=a||window;this.Rb=A(this.Na,"resize",this.Me,!1,this);this.s=cc(this.Na||window);if(w&&Ja||Ea&&this.Na.self!=this.Na.top)this.gc=window.setInterval(ka(this.vd,this),ae)}u($d,Pb);var ae=500;m=$d.prototype;m.Rb=l;m.Na=l;m.s=l;m.gc=l;m.n=function(){return this.s?this.s.i():l};m.Y=function(){$d.$a.Y.call(this);if(this.Rb)Kb(this.Rb),this.Rb=l;if(this.gc)window.clearInterval(this.gc),this.gc=l;this.s=this.Na=l};m.Me=function(){this.vd()};
m.vd=function(){var a=cc(this.Na||window);if(!(a==this.s||(!a||!this.s?0:a.width==this.s.width&&a.height==this.s.height)))this.s=a,this.dispatchEvent("resize")};function be(a,b,c){R.call(this);this.r=!0;this.c(0,0);this.o=[];this.Ad=[];this.kb="lime-director";qd(this);a.appendChild(this.b);if(w&&Ga)this.zd=document.createElement("div"),Sb(this.zd,"lime-cover-below"),hc(this.zd,this.b),this.yd=document.createElement("div"),Sb(this.yd,"lime-cover-above"),ic(this.yd,this.b);a.style.position!="absolute"&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){xc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(Ga&&!n.navigator.lf){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Qb()},100)}}var g,a=vc(a);this.g(new C(g=b||a.width||400,c||a.height*g/a.width||400));this.Kb&&F(this.Nd);this.Pe=this.Kb=!1;G.Ce(this);if(this.Pe)this.Oc=new Vd,
ce(this,this.Oc);else if(this.Oc){if(this.o.length)Ad(this.o[this.o.length-1]),this.o[this.o.length-1].k=l,F(this.o[this.o.length-1].b),this.o.pop();delete this.Oc}b=new $d;A(b,"resize",this.Qb,!1,this);A(n,"orientationchange",this.Qb,!1,this);G.Zb(this.Za,this);this.Sa=new Yd(this);A(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},!1,this);A(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1);this.Qb()}u(be,R);
function Zd(a){return a.o.length?a.o[a.o.length-1]:l}m=be.prototype;m.J=function(){return this};m.Z=function(){return l};m.Za=function(a){if(this.Kb&&(this.Od++,this.jc+=a,this.jc>100))this.He=1E3*this.Od/this.jc,kc(this.Nd,this.He.toFixed(2)),this.jc=this.Od=0;nc()};
function de(a,b){var c=ee;a.g(c.n().i());var d=b||Md,e=l;c.o.length&&(e=c.o[c.o.length-1]);for(var f=[],g=c.o.length;--g>=0;)Ad(c.o[g]),f.push(c.o[g].b),c.o[g].k=l;c.o.length=0;c.o.push(a);a.b.style.display="none";c.b.appendChild(a.b);a.k=c;a.ua();d=new d(e,a);A(d,"end",function(){for(var a=f.length;--a>=0;)F(f[a])},!1,c);q(h)&&d.l(h);d.start()}m.Ma=function(){this.w&=-65};function ce(a,b){b.g(a.n().i());a.o.push(b);a.b.appendChild(b.b);b.k=a;b.ua()}
m.aa=function(a){a=a.i();a.x-=this.Lb.x+this.f.x;a.y-=this.Lb.y+this.f.y;a.x/=this.G.x;a.y/=this.G.y;return a};m.ob=function(a){a=a.i();a.x*=this.G.x;a.y*=this.G.y;a.x+=this.Lb.x+this.f.x;a.y+=this.Lb.y+this.f.y;return a};m.update=function(){R.prototype.update.call(this);for(var a=this.Ad.length;--a>=0;)this.Ad[a].update()};
m.Qb=function(){var a=vc(this.b.parentNode);if(this.b.parentNode==document.body&&(window.scrollTo(0,0),typeof window.innerHeight=="number"))a.height=window.innerHeight;var b;b=this.n().i();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.H(b.width/this.n().width);a.width/a.height<b.width/b.height?this.a(0,(a.height-b.height)/2):this.a((a.width-b.width)/2,0);var c=this.b.parentNode,d,e=Yb(c),f=qc(c,"position"),g=Fa&&e.getBoxObjectFor&&!c.getBoundingClientRect&&f==
"absolute"&&(d=e.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);b=new D(0,0);var j;d=e?e.nodeType==9?e:Yb(e):document;if(j=v)if(j=!Ua())j=Wb(d),j=!$b(j.la);j=j?d.body:d.documentElement;if(c!=j)if(c.getBoundingClientRect)d=rc(c),e=Wb(e).la,c=!w&&$b(e)?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new D(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(j),b.x=d.screenX-c.screenX,
b.y=d.screenY-c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(w&&qc(d,"position")=="fixed"){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(Ea||w&&f=="absolute")b.y-=e.body.offsetTop;for(d=c;(d=sc(d))&&d!=e.body&&d!=j;)if(b.x-=d.scrollLeft,!Ea||d.tagName!="TR")b.y-=d.scrollTop}this.Lb=b;if(Ga&&this.b.parentNode==document.body){if(this.fe)b=this.fe,F(b.ownerNode||b.owningElement||b);this.fe=xc("html{height:"+
(a.height+120)+"px;overflow:hidden;}")}};m.oa=function(a){if(a&&a.Ga)a.position=this.aa(a.Ga);return!0};function fe(){R.call(this);this.kb="lime-layer"}u(fe,R);fe.prototype.oa=function(a){for(var b=0,c;c=this.e[b];b++)if(c.oa(a))return a.position=this.aa(a.Ga),!0;return!1};function ge(a,b){fe.call(this);this.kb="lime-button";if(q(a))this.dc=a,this.appendChild(this.dc),this.zb=-1,he(this,ie);q(b)&&je(this,b);var c=this;A(this,["mousedown","touchstart","touchmove"],function(a){he(c,ke);a.Ia("mousemove",function(a){c.oa(a)?he(c,ke):he(c,ie)});a.Ia("touchmove",function(a){c.oa(a)||(he(c,ie),a.Ea())});a.Ia(["mouseup","touchend"],function(a){c.oa(a)&&c.dispatchEvent({type:le});he(this,ie)})})}u(ge,fe);var ie=0,ke=1,le="click";
function je(a,b){a.zc=b;a.appendChild(b);a.zb=-1;he(a,ie)}function he(a,b){if(b!=a.zb){a.zb==ie&&b==ke&&a.dispatchEvent({type:"down"});a.zb==ke&&b==ie&&a.dispatchEvent({type:"up"});var c=a.dc;if(q(a.zc))ke==b?c=a.zc:wd(a.zc,!0);c!=a.dc&&wd(a.dc,!0);wd(c,!1);a.zb=b}};var me,ee,ne,oe,Y,pe,qe,re;function se(){U.call(this);this.c(0,0);var a=(new U).d("assets/planStudyOver.png").c(0,0),b=(new U).d("assets/planStudyNormal.png").c(0,0),c=(new U).d("assets/planBilliardsOver.png").c(0,0),d=(new U).d("assets/planBilliardsNormal.png").c(0,0);this.oe=(new ge(b,a)).c(0,0).a(0,0);this.appendChild(this.oe);this.rd=(new ge(d,c)).c(0,0).a(0,144);this.appendChild(this.rd);A(this.oe,"up",this.Le);A(this.rd,"up",this.Ke)}u(se,U);
se.prototype.Le=function(a){a.target.Z()!==me&&de(me,Nd)};se.prototype.Ke=function(a){a.target.Z()!==ne&&de(ne,Nd)};function te(a){this.name="Startup";O.call(this);layer=new fe;var b=Id((new V("The Bayes Billiard Table Problem")).g(200,2).c(0,0),24).a(20,20),c=(new U).d("assets/startupScene.jpg").c(0,0),d=(new U).c(0,0).a(235,-100).H(1.33,1.33).d("assets/bellpull/pullPull.png"),e=(new se).c(0,0).a(30,100),f=Id((new V("Select or Pull")).g(200,1).c(0,0),24).a(20,400),g=this;A(d,["mousedown","touchstart"],function(){a.Qa(g.name)});layer.appendChild(c);layer.appendChild(b);layer.appendChild(d);layer.appendChild(e);
layer.appendChild(f);this.appendChild(layer)}u(te,O);N.ab={};P.ab={};function ue(){U.call(this)}u(ue,U);ue.prototype.id="circle";ue.prototype.sa=[$c(P.t,P.ab),$c(N.t,N.ab)];ue.prototype.oa=function(a){var b=this.aa(a.Ga),c=this.s,d=this.R,e=c.width*0.5,f=c.height*0.5,g=b.x-c.width*(0.5-d.x),c=b.y-c.height*(0.5-d.y);return g*g/(e*e)+c*c/(f*f)<1?(a.position=b,!0):!1};P.ab.v=function(a){var b=this.n();P.t.v.call(this,a);ld(a,b.width*0.5,b.height*0.5)};
N.ab.v=function(a){this.n();var b=this.R,c=L(this),d=(c.right-c.left)*0.5,c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,!1);a.closePath();a.restore();a.clip();N.t.v.call(this,a);this.I&&(a.lineWidth*=2,a.stroke());a.restore()};function ve(a){a&&da(a.data)&&(a=a.data());this.Pc=this.Sb=!1;this.ba=document.createElement("audio");this.ba.Cf=!0;this.ba.loop=!1;Fa&&/\.mp3$/.test(a)&&(a=a.replace(/\.mp3$/,".ogg"));this.ba.src=a;this.ba.load();this.Jc=setInterval(ka(this.Re,this),10);this.Sb=!1}ve.prototype.Re=function(){if(this.ba.readyState>2)this.Sb=!0,clearTimeout(this.Jc);this.ba.error&&clearTimeout(this.Jc);if(zc&&this.ba.readyState==0)this.Sb=!0,clearTimeout(this.Jc)};ve.prototype.mb=aa("Sb");
ve.prototype.play=function(){if(this.mb())this.ba.play(),this.Pc=!0};ve.prototype.stop=function(){if(this.Pc)this.ba.pause(),this.Pc=!1};function Z(a){H.call(this);this.ld=a}u(Z,H);Z.prototype.scope="rotate";Z.prototype.pb=function(a){var b=bd(a);Jc(this)&&(a.ha[4]=[this.ld,this.q,this.Ra,0],K(a,1));return{nf:b,B:this.ld-b}};Z.prototype.update=function(a,b){if(this.U!=0){var c=Kc(this,b);S(b,c.nf+c.B*a)}};Z.prototype.W=function(a){Jc(this)&&(a.W(4),K(a,1))};function $(a){U.call(this);this.Fb=T(S((new U).d("assets/bell2.png").g(38,31).c(0.65,0.35).H(1,1).a(0,0),0),1);if(q(a))a.Eb=this,A(a,["mousedown","touchstart"],this.me),A(this.Fb,["mousedown","touchstart"],this.me);this.Fb.name="Bell1";this.name="Bell";this.appendChild(this.Fb);this.Ae=new ve("assets/bell.mp3");this.Sc=new ve("assets/remoteBell.mp3");this.ya=Ic}u($,U);$.prototype.me=function(a){(q(a)&&q(a.target)?q(a.target.Eb)?a.target.Eb:a.target.getParent():this).Sc.play()};
$.prototype.Cb=function(a){var b,a=q(a)&&q(a.target)?q(a.target.Eb)?a.target.Eb:a.target.getParent():this;a.Ae.play();a.getParent()!==l&&(b=new Fd((new Ed).l(0.5),I((new Z(30)).l(0.2),a.ya),I((new Z(-30)).l(0.2),a.ya),I((new Z(20)).l(0.1),a.ya),I((new Z(-20)).l(0.1),a.ya),I((new Z(10)).l(0.1),a.ya),I((new Z(-10)).l(0.1),a.ya),I((new Z(0)).l(0.05),a.ya)),Dd(a.Fb,b))};function we(a,b,c){O.call(this);this.name=a;this.de=b;this.We=c}u(we,O);function xe(a){q(a.ca)&&T(a.ca,0.1);q(a.rb)&&T(a.rb,1)}we.prototype.tc=function(){q(this.ca)&&T(this.ca,1);q(this.rb)&&T(this.rb,0)};we.prototype.Gd=function(a){var b=a.target.Z();a.type==="mouseover"?(xe(b),a.Ia("mouseout",function(a){b.tc();a.Ea()}),a.Ia("mousedown",function(a){b.tc();G.La(oe,b);b.de.Qa(b.name);a.Ea()})):a.type==="touchstart"&&(xe(b),G.ka(b.tc,b,5E3),G.La(oe,b),b.de.Qa(b.name))};function ye(a){var b=1+76.18009173/a-86.50532033/(a+1)+24.01409822/(a+2)-1.231739516/(a+3)+0.00120858003/(a+4)-5.36382E-6/(a+5);return(a-0.5)*Math.log(a+4.5)-(a+4.5)+Math.log(b*2.50662827465)}function ze(a,b,c){for(var d=0,e=1,f=1,g=1,j=0,k=0,o;Math.abs((f-k)/f)>1.0E-5;)k=f,o=-(b+j)*(b+c+j)*a/(b+2*j)/(b+2*j+1),d=f+o*d,e=g+o*e,j+=1,o=j*(c-j)*a/(b+2*j-1)/(b+2*j),f=d+o*f,g=e+o*g,d/=g,e/=g,f/=g,g=1;return f/b};function Ae(a){this.fa=0.5;this.Da=this.ea=0;this.$c=a}Ae.prototype.reset=function(){this.fa=Math.random();this.Da=this.ea=0;this.$c.Qa(this)};function Be(){var a=Y;a.ea=Y.ea+1;a.$c.Qa(a)}function Ce(){var a=Y;a.Da=Y.Da+1;a.$c.Qa(a)}
function De(a,b){var c=a.ea+1,d=a.Da+1;if(c<=0)throw{name:"betaCDF",message:"alpha must be positive"};else if(d<=0)throw{name:"betaCDF",message:"beta must be positive"};else if(b<=0)c=0;else if(b>=1)c=1;else var e=c+d,f=Math.exp(ye(e)-ye(d)-ye(c)+c*Math.log(b)+d*Math.log(1-b)),c=b<(c+1)/(e+2)?f*ze(b,c,d):1-f*ze(1-b,d,c);return c};function Ee(a,b){we.call(this,"BilliardTable",a,b);layer=new fe;this.appendChild(layer);this.qe=!1;this.oc=(new U).d("assets/billiardScene.jpg").c(0,0);layer.appendChild(this.oc);this.Cc=(new U).c(0,0).a(112,-50).H(0.5,0.5).d("assets/bellpull/greenPull.png");this.Nb=new $(this.Cc);layer.appendChild(this.Cc);this.Rc=(new U).c(0,0).a(152,-50).H(0.5,0.5).d("assets/bellpull/redPull.png");layer.appendChild(this.Rc);this.Wb=new $(this.Rc);this.pe=(new U).c(0,0).a(10,60).H(1,1).d("assets/whiteNote.png");
layer.appendChild(this.pe);this.fc=(new $(this.pe)).a(30,56);layer.appendChild(this.fc);this.sd=(new U).c(0,0).a(52,60).H(1,1).d("assets/blackNote.png");layer.appendChild(this.sd);this.qc=(new $(this.sd)).a(73,56);layer.appendChild(this.qc);this.ca=T((new U).c(0,0).a(210,80).d("assets/closedDoor.jpg"),1);layer.appendChild(this.ca);this.Ta=T(X((new W).c(0,0).a(30,360).d("#00CC00"),1),0);layer.appendChild(this.Ta);this.Wa=T(X((new W).c(0,0).a(30,360).d("#CC0000"),1),0);layer.appendChild(this.Wa);this.Xc=
T(Id(Jd((new V("")).c(0.5,0).a(160,300),"#FFF").g(250,2),14),0);layer.appendChild(this.Xc);this.Hb=T(Id(Jd((new V("")).c(0.5,0).a(160,370),"#000").g(250,1),14),0);layer.appendChild(this.Hb);this.Bb=(new ue).g(10,10).d(255,255,255).a(50,350);layer.appendChild(this.Bb);this.Gb=(new ue).g(10,10).d(0,0,0).a(50,400);layer.appendChild(this.Gb);this.cue=S((new U).d("assets/iCue.png").c(0.5,0).a(-10,320),-90);layer.appendChild(this.cue);A(this.ca,["mouseover","mousedown","touchstart"],this.Gd)}u(Ee,we);
m=Ee.prototype;m.ua=function(){R.prototype.ua.call(this);if(this.qe){Fe(this);var a=this.Bb,b=a.f;b.x=30+260*Y.fa;a.a(b);this.Uc()}else G.ka(this.fc.Cb,this.fc,3E3),G.ka(this.we,this,3250),this.qe=!0};function Ge(a){if(!a.je){a.je=!0;a.bf=function(){a.je=!1};if(!a.kc)a.kc=new Fd(I(new Od(0,50),Pc).l(0.5),I(new Od(0,-50),Pc).l(0.5)),A(a.kc,"stop",a.bf);Dd(a,a.kc)}}m.we=function(){He(this,this.Bb);G.ka(this.ve,this,2100)};
function He(a,b){var c=b.f;Dd(a.cue,new Fd(new Wd(c.x-10,c.y),new Od(-10,0),(new Od(60,0)).l(0.2),new Wd(-10,c.y)))}m.ue=function(){He(this,this.Gb);G.ka(this.te,this,2100)};m.ve=function(){var a=Ie(this,this.Bb),b=this;T(b.Wa,0);T(b.Ta,0);T(b.Xc,0);T(b.Hb,0);A(a,"stop",function(){Y.reset();Y.fa=b.fa;Fe(b);b.Uc()})};function Fe(a){var b=Y.fa,c=b*260,d=(1-b)*260;T(a.Ta.g(c,60),1);T(a.Wa.g(d,60).a(30+c,360),1);T(Gd(a.Xc,"The probability of the black landing in the green zone is "+b.toFixed(2)),1)}
m.Uc=function(){this.qc.Cb();T(this.Hb,0);G.ka(ne.ue,ne,250)};m.te=function(){var a=Ie(this,this.Gb),b=this;A(a,"stop",function(){if(ne===Zd(ee)){var a="In ";b.Gb.f.x>30+260*b.fa?(a+="Red",Ge(b.Rc),me.Wb.Sc.play(),Ce()):(a+="Green",Ge(b.Cc),me.Nb.Sc.play(),Be());G.ka(function(){T(Gd(this.Hb,a),1)},b,100);ne===Zd(ee)&&G.ka(b.Uc,b,5E3)}})};
function Ie(a,b){var c=Math.floor(2+3*Math.random()),d=Math.random();if(b===a.Bb)a.fa=d;for(var d=30+260*d,e=b.f,f=[],g=290,j=0;j<c;j++)f[j]=I(new Wd(g,e.y),Oc).l(Math.pow(2,j)/Math.pow(2,c-1)),g=g==30?290:30;f[c]=I((new Wd(d,e.y)).l(2),Pc);c=new Fd(f);Dd(b,c);return c};function Je(a,b){we.call(this,"BackRoom",a,b);this.We.add(this.sf,this);layer=new fe;this.appendChild(layer);this.oc=(new U).d("assets/BackRoomScene.jpg").c(0,0);layer.appendChild(this.oc);this.pf=(new U).d("assets/tableTop.jpg").c(0,0).a(0,257);layer.appendChild(this.pf);this.Jb=(new U).d("assets/clock.jpg");this.pc=S((new U).d("assets/clockBigHand.png").a(0,0),90);this.Jb.appendChild(this.pc);this.Vc=S((new U).d("assets/clockSmallHand.png").a(0,0),-30);this.Jb.appendChild(this.Vc);this.wd=(new ge(this.Jb,
this.Jb)).c(0,0).a(65,45).H(0.7,0.7);layer.appendChild(this.wd);this.rc=(new U).c(0,0).a(233,-50).H(0.5,0.5).d("assets/bellpull/blackPull.png");this.qc=new $(this.rc);layer.appendChild(this.rc);this.ad=(new U).c(0,0).a(265,-50).H(0.5,0.5).d("assets/bellpull/whitePull.png");this.fc=new $(this.ad);layer.appendChild(this.ad);this.Wa=X((new W).c(0,0).g(40,60),3).d("#CC0000").bc(2,"#000").a(138,60);layer.appendChild(this.Wa);this.le=X((new W).g(30,30),2).d("#EEEEEE").bc(1,"#888888").a(20,40);this.Wa.appendChild(this.le);
this.ke=new V("0");this.le.appendChild(this.ke);this.Wb=(new $).c(0,0).a(158,56);layer.appendChild(this.Wb);this.Ta=X((new W).c(0,0).g(40,60),3).d("#00CC00").bc(2,"#000").a(180,60);this.Rd=X((new W).g(30,30),2).d("#EEEEEE").bc(1,"#888888").a(20,40);this.Ta.appendChild(this.Rd);this.Qd=new V("0");this.Rd.appendChild(this.Qd);layer.appendChild(this.Ta);this.Nb=(new $).c(0,0).a(200,56);layer.appendChild(this.Nb);this.rb=T((new U).c(0,0).a(28,68).d("assets/doorOpeningIn.png"),0).H(1,0.99);layer.appendChild(this.rb);
this.ca=T((new U).c(0,0).a(28,80).d("assets/backRoomClosedDoor.jpg"),1).H(1,0.99);layer.appendChild(this.ca);this.zf=Y;this.Bc=(new R).a(160,420).H(1,-1);layer.appendChild(this.Bc);for(i=0;i<50;i++)this.Bc.appendChild(X((new W).g(0,0).a((i-25)*4.4,0),0));this.Jd=Id(new V("1"),12).a(205,305);layer.appendChild(this.Jd);this.Ie=X((new W).a(205,315).d("#000").g(30,1),0);layer.appendChild(this.Ie);this.Cd=Id(new V("= 0.5"),12).a(245,315);layer.appendChild(this.Cd);this.Id=Id(new V("2"),12).a(205,325);
layer.appendChild(this.Id);this.vb=(new R).a(160,422);this.vb.name="shader";layer.appendChild(this.vb);for(i=0;i<50;i++)this.vb.appendChild(X((new W).c(0,0).g(4.9,10),0).a((i-25)*4.4,0).d("rgb("+i*200/50+","+(50-i)*200/50+", 0)"));var c=this;oe=function(){Math.random()<Y.fa?Be():Ce();var a=c.pc,b=bd(a);S(a,b-6);a=c.Vc;b=bd(a);S(a,b-0.5)};this.qd=(new Ed).l(2+3*Math.random());A(this.qd,"stop",function(){Math.random()<Y.fa?(Be(),c.Nb.Cb()):(Ce(),c.Wb.Cb());var a=c.pc,b=bd(a);S(a,b-6);a=c.Vc;b=bd(a);
S(a,b-0.5)});A(this.wd,["mousedown","touchstart"],function(a){a=a.target.Z();a.Pd?(a.Pd=!1,G.La(oe,a)):(a.Pd=!0,G.Zb(oe,a))});A(this.ca,["mouseover","touchstart"],this.Gd);A(this.ad,["mousedown","touchstart"],Ke);A(this.rc,["mousedown","touchstart"],Le)}u(Je,we);Je.prototype.ua=function(){R.prototype.ua.call(this)};function Ke(a){G.La(oe,a.target.Z());Y.reset();Ge(a.target)}function Le(a){var b=a.target.Z();G.La(oe,b);Dd(b,b.qd);Ge(a.target)}
Je.prototype.sf=function(a){Gd(this.Qd,a.ea);Gd(this.ke,a.Da);Gd(this.Jd,a.ea+" + 1");Gd(this.Id,a.ea+a.Da+" + 2");var b=0,c=[];for(i=0;i<this.vb.e.length;i++){rect=zd(this.vb,i);var d=i/50,e;e=a;var f=d,g=d+0.02,f=Math.min(f,g),g=Math.max(f,g);e=De(e,g)-De(e,f);c[i]=-e;b=Math.max(e,b);e=De(a,d);rect.d("rgb("+Math.round(e*200)+","+Math.round((1-e)*200)+", 0)")}b=Math.max(b,0.3);for(i=0;i<50;i++)f=zd(this.Bc,i),d=(i-25)*4.4,g=c[i]*80/b,e=De(a,i/50),f.c(0,0).a(d,0).g(4.9,-g).d("rgb("+Math.round(e*200)+
","+Math.round((1-e)*200)+", 0)"),Gd(this.Cd,"= "+((a.ea+1)/(a.ea+a.Da+2)).toFixed(2))};function Me(a){switch(a){case "Startup":de(ne,Rd);break;case "BilliardTable":de(me,Nd);break;case "BackRoom":de(ne,Nd);break;default:alert("unknown last scene")}}
function Ne(){var a=ee=new be(document.body,320,460);a.Kb&&F(a.Nd);a.Kb=!1;pe=new Td;pe.add(Me);qe=new Td;Y=new Ae(qe);re=new te(pe);ne=new Ee(pe,qe);me=new Je(pe,qe);G.hf();var a=ee,b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=!1;q(localStorage)&&
(b=localStorage.getItem("_lime_visited"));/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.lf&&!b&&a.b.parentNode==document.body&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),q(localStorage)&&localStorage.setItem("_lime_visited",!0));de(re)}var Oe="billiards.start".split("."),Pe=n;!(Oe[0]in Pe)&&Pe.execScript&&Pe.execScript("var "+Oe[0]);for(var Qe;Oe.length&&(Qe=Oe.shift());)!Oe.length&&q(Ne)?Pe[Qe]=Ne:Pe=Pe[Qe]?Pe[Qe]:Pe[Qe]={};
