var g=void 0,k=null;function l(a){return function(){return this[a]}}var n,p=this;function r(){}
function aa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function s(a){return a!==g}function t(a){return a!=k}function u(a){return aa(a)=="array"}function ba(a){var b=aa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function v(a){return typeof a=="string"}function ca(a){return typeof a=="number"}function da(a){return aa(a)=="function"}function ea(a){a=aa(a);return a=="object"||a=="array"||a=="function"}function fa(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function ka(a,b,c){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return ka.apply(k,arguments)}function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.pb=b.prototype;a.prototype=new c};function na(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function oa(a){if(!pa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(qa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(ra,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(sa,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(ta,"&quot;"));return a}var qa=/&/g,ra=/</g,sa=/>/g,ta=/\"/g,pa=/[&<>\"]/;
function ua(a,b){for(var c=0,d=na(String(a)).split("."),e=na(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",j=e[h]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var o=m.exec(i)||["","",""],G=q.exec(j)||["","",""];if(o[0].length==0&&G[0].length==0)break;c=va(o[1].length==0?0:parseInt(o[1],10),G[1].length==0?0:parseInt(G[1],10))||va(o[2].length==0,G[2].length==0)||va(o[2],G[2])}while(c==0)}return c}
function va(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var wa,xa,ya,za,Aa,Ba,Ca;function Da(){return p.navigator?p.navigator.userAgent:k}function Ea(){return p.navigator}Aa=za=ya=xa=wa=!1;var Fa;if(Fa=Da()){var Ga=Ea();wa=Fa.indexOf("Opera")==0;xa=!wa&&Fa.indexOf("MSIE")!=-1;za=(ya=!wa&&Fa.indexOf("WebKit")!=-1)&&Fa.indexOf("Mobile")!=-1;Aa=!wa&&!ya&&Ga.product=="Gecko"}var Ha=wa,x=xa,y=Aa,z=ya,Ia=za,Ja,Ka=Ea();Ja=Ka&&Ka.platform||"";Ba=Ja.indexOf("Mac")!=-1;Ca=Ja.indexOf("Win")!=-1;var La=!!Ea()&&(Ea().appVersion||"").indexOf("X11")!=-1,Ma;
a:{var Na="",Oa;if(Ha&&p.opera)var Pa=p.opera.version,Na=typeof Pa=="function"?Pa():Pa;else if(y?Oa=/rv\:([^\);]+)(\)|;)/:x?Oa=/MSIE\s+([^\);]+)(\)|;)/:z&&(Oa=/WebKit\/(\S+)/),Oa)var Qa=Oa.exec(Da()),Na=Qa?Qa[1]:"";if(x){var Ra,Sa=p.document;Ra=Sa?Sa.documentMode:g;if(Ra>parseFloat(Na)){Ma=String(Ra);break a}}Ma=Na}var Ta={};function Ua(a){return Ta[a]||(Ta[a]=ua(Ma,a)>=0)}var Va={};function Wa(){return Va[9]||(Va[9]=x&&document.documentMode&&document.documentMode>=9)};function Xa(a,b){for(var c in a)b.call(g,a[c],c,a)}var Ya="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Za(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];d.Sf&&!isNaN(d.position.x)&&isNaN(a.Sf.x)&&console.log("bad extend");for(var f=0;f<Ya.length;f++)c=Ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var A=Array.prototype,$a=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:c<0?Math.max(0,a.length+c):c;if(v(a))return!v(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ab=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},bb=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=v(a)?
a.split(""):a,i=0;i<d;i++)if(i in h){var j=h[i];b.call(c,j,i,a)&&(e[f++]=j)}return e},cb=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};function db(a,b){$a(a,b)>=0||a.push(b)}function eb(a,b){var c=$a(a,b);c>=0&&A.splice.call(a,c,1)}function fb(a){return A.concat.apply(A,arguments)}
function gb(a){if(u(a))return fb(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function hb(a){return u(a)?fb(a):gb(a)}function ib(a,b,c,d){A.splice.apply(a,jb(arguments,1))}function jb(a,b,c){return arguments.length<=2?A.slice.call(a,b):A.slice.call(a,b,c)};var kb;!x||Wa();var lb=x&&!Ua("8");function mb(){}mb.prototype.we=!1;mb.prototype.cb=function(){if(!this.we)this.we=!0,this.ra()};mb.prototype.ra=function(){this.qf&&nb.apply(k,this.qf)};function nb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ba(d)?nb.apply(k,d):d&&typeof d.cb=="function"&&d.cb()}};function ob(a,b){this.type=a;this.currentTarget=this.target=b}w(ob,mb);n=ob.prototype;n.ra=function(){delete this.type;delete this.target;delete this.currentTarget};n.Ra=!1;n.pc=!0;n.stopPropagation=function(){this.Ra=!0};n.preventDefault=function(){this.pc=!1};function pb(a){pb[" "](a);return a}pb[" "]=r;function qb(a,b){a&&this.Ac(a,b)}w(qb,ob);n=qb.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.Qf=!1;n.Na=k;
n.Ac=function(a,b){var c=this.type=a.type;ob.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(y){var e;a:{try{pb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=k)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==g?a.offsetX:a.layerX;this.offsetY=a.offsetY!==g?a.offsetY:a.layerY;this.clientX=a.clientX!==g?a.clientX:a.pageX;this.clientY=a.clientY!==g?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Qf=Ba?a.metaKey:a.ctrlKey;this.state=a.state;this.Na=a;delete this.pc;delete this.Ra};n.stopPropagation=function(){qb.pb.stopPropagation.call(this);this.Na.stopPropagation?this.Na.stopPropagation():this.Na.cancelBubble=!0};
n.preventDefault=function(){qb.pb.preventDefault.call(this);var a=this.Na;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,lb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};n.ra=function(){qb.pb.ra.call(this);this.relatedTarget=this.currentTarget=this.target=this.Na=k};function rb(){}var sb=0;n=rb.prototype;n.key=0;n.Gb=!1;n.le=!1;n.Ac=function(a,b,c,d,e,f){if(da(a))this.Fe=!0;else if(a&&a.handleEvent&&da(a.handleEvent))this.Fe=!1;else throw Error("Invalid listener argument");this.kc=a;this.Qe=b;this.src=c;this.type=d;this.capture=!!e;this.sd=f;this.le=!1;this.key=++sb;this.Gb=!1};n.handleEvent=function(a){return this.Fe?this.kc.call(this.sd||this.src,a):this.kc.handleEvent.call(this.kc,a)};var tb,ub=(tb="ScriptEngine"in p&&p.ScriptEngine()=="JScript")?p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion():"0";function B(a,b){this.Ie=b;this.fb=[];if(a>this.Ie)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.fb.push(this.ya?this.ya():{})}w(B,mb);B.prototype.ya=k;B.prototype.ve=k;B.prototype.getObject=function(){return this.fb.length?this.fb.pop():this.ya?this.ya():{}};function vb(a,b){a.fb.length<a.Ie?a.fb.push(b):wb(a,b)}function wb(a,b){if(a.ve)a.ve(b);else if(ea(b))if(da(b.cb))b.cb();else for(var c in b)delete b[c]}
B.prototype.ra=function(){B.pb.ra.call(this);for(var a=this.fb;a.length;)wb(this,a.pop());delete this.fb};var xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb;
(function(){function a(){return{qa:0,ja:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new rb}function e(){return new qb}var f=tb&&!(ua(ub,"5.7")>=0),h;Cb=function(a){h=a};if(f){xb=function(){return i.getObject()};yb=function(a){vb(i,a)};zb=function(){return j.getObject()};Ab=function(a){vb(j,a)};Bb=function(){return m.getObject()};Db=function(){vb(m,c())};Eb=function(){return q.getObject()};Fb=function(a){vb(q,a)};Gb=function(){return o.getObject()};
Hb=function(a){vb(o,a)};var i=new B(0,600);i.ya=a;var j=new B(0,600);j.ya=b;var m=new B(0,600);m.ya=c;var q=new B(0,600);q.ya=d;var o=new B(0,600);o.ya=e}else xb=a,yb=r,zb=b,Ab=r,Bb=c,Db=r,Eb=d,Fb=r,Gb=e,Hb=r})();var Ib={},C={},Jb={},Kb={};
function D(a,b,c,d,e){if(b)if(u(b)){for(var f=0;f<b.length;f++)D(a,b[f],c,d,e);return k}else{var d=!!d,h=C;b in h||(h[b]=xb());h=h[b];d in h||(h[d]=xb(),h.qa++);var h=h[d],i=fa(a),j;h.ja++;if(h[i]){j=h[i];for(f=0;f<j.length;f++)if(h=j[f],h.kc==c&&h.sd==e){if(h.Gb)break;return j[f].key}}else j=h[i]=zb(),h.qa++;f=Bb();f.src=a;h=Eb();h.Ac(c,f,a,b,d,e);c=h.key;f.key=c;j.push(h);Ib[c]=h;Jb[i]||(Jb[i]=zb());Jb[i].push(h);a.addEventListener?(a==p||!a.gd)&&a.addEventListener(b,f,d):a.attachEvent(b in Kb?
Kb[b]:Kb[b]="on"+b,f);return c}else throw Error("Invalid event type");}function Lb(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Lb(a,b[f],c,d,e);else{d=!!d;a:{f=C;if(b in f&&(f=f[b],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].kc==c&&a[f].capture==d&&a[f].sd==e){Mb(a[f].key);break}}}
function Mb(a){if(Ib[a]){var b=Ib[a];if(!b.Gb){var c=b.src,d=b.type,e=b.Qe,f=b.capture;c.removeEventListener?(c==p||!c.gd)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Kb?Kb[d]:Kb[d]="on"+d,e);c=fa(c);e=C[d][f][c];if(Jb[c]){var h=Jb[c];eb(h,b);h.length==0&&delete Jb[c]}b.Gb=!0;e.Ke=!0;Nb(d,f,c,e);delete Ib[a]}}}
function Nb(a,b,c,d){if(!d.Dc&&d.Ke){for(var e=0,f=0;e<d.length;e++)if(d[e].Gb){var h=d[e].Qe;h.src=k;Db(h);Fb(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Ke=!1;f==0&&(Ab(d),delete C[a][b][c],C[a][b].qa--,C[a][b].qa==0&&(yb(C[a][b]),delete C[a][b],C[a].qa--),C[a].qa==0&&(yb(C[a]),delete C[a]))}}
function Ob(a){var b,c=0,d=b==k;b=!!b;if(a==k)Xa(Jb,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Mb(f.key),c++}});else if(a=fa(a),Jb[a])for(var a=Jb[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Mb(f.key),c++}}function Pb(a,b,c,d,e){var f=1,b=fa(b);if(a[b]){a.ja--;a=a[b];a.Dc?a.Dc++:a.Dc=1;try{for(var h=a.length,i=0;i<h;i++){var j=a[i];j&&!j.Gb&&(f&=Qb(j,e)!==!1)}}finally{a.Dc--,Nb(c,d,b,a)}}return Boolean(f)}
function Qb(a,b){var c=a.handleEvent(b);a.le&&Mb(a.key);return c}
Cb(function(a,b){if(!Ib[a])return!0;var c=Ib[a],d=c.type,e=C;if(!(d in e))return!0;var e=e[d],f,h;kb===g&&(kb=x&&!p.addEventListener);if(kb){var i;if(!(i=b))a:{i="window.event".split(".");for(var j=p;f=i.shift();)if(t(j[f]))j=j[f];else{i=k;break a}i=j}f=i;i=!0 in e;j=!1 in e;if(i){if(f.keyCode<0||f.returnValue!=g)return!0;a:{var m=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(q){m=!0}if(m||f.returnValue==g)f.returnValue=!0}}m=Gb();m.Ac(f,this);f=!0;try{if(i){for(var o=zb(),G=m.currentTarget;G;G=
G.parentNode)o.push(G);h=e[!0];h.ja=h.qa;for(var L=o.length-1;!m.Ra&&L>=0&&h.ja;L--)m.currentTarget=o[L],f&=Pb(h,o[L],d,!0,m);if(j){h=e[!1];h.ja=h.qa;for(L=0;!m.Ra&&L<o.length&&h.ja;L++)m.currentTarget=o[L],f&=Pb(h,o[L],d,!1,m)}}else f=Qb(c,m)}finally{if(o)o.length=0,Ab(o);m.cb();Hb(m)}return f}d=new qb(b,this);try{f=Qb(c,d)}finally{d.cb()}return f});function Rb(){}w(Rb,mb);n=Rb.prototype;n.gd=!0;n.Jd=k;n.addEventListener=function(a,b,c,d){D(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Lb(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=C;if(b in c){if(v(a))a=new ob(a,this);else if(a instanceof ob)a.target=a.target||this;else{var d=a,a=new ob(b,this);d.type&&Za(a,d);t(a.position)&&isNaN(a.position.x)&&console.log("e NaN")}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.Jd)e.push(f);f=c[!0];f.ja=f.qa;for(var h=e.length-1;!a.Ra&&h>=0&&f.ja;h--)a.currentTarget=e[h],d&=Pb(f,e[h],a.type,!0,a)&&a.pc!=!1}if(!1 in c)if(f=c[!1],f.ja=f.qa,b)for(h=0;!a.Ra&&h<e.length&&f.ja;h++)a.currentTarget=
e[h],d&=Pb(f,e[h],a.type,!1,a)&&a.pc!=!1;else for(e=this;!a.Ra&&e&&f.ja;e=e.Jd)a.currentTarget=e,d&=Pb(f,e,a.type,!1,a)&&a.pc!=!1;a=Boolean(d)}else a=!0;return a};n.ra=function(){Rb.pb.ra.call(this);Ob(this);this.Jd=k};function Sb(a,b){this.oa=tb?[]:"";a!=k&&this.append.apply(this,arguments)}tb?(Sb.prototype.cd=0,Sb.prototype.append=function(a,b,c){b==k?this.oa[this.cd++]=a:(this.oa.push.apply(this.oa,arguments),this.cd=this.oa.length);return this}):Sb.prototype.append=function(a,b,c){this.oa+=a;if(b!=k)for(var d=1;d<arguments.length;d++)this.oa+=arguments[d];return this};Sb.prototype.clear=function(){tb?this.cd=this.oa.length=0:this.oa=""};
Sb.prototype.toString=function(){if(tb){var a=this.oa.join("");this.clear();a&&this.append(a);return a}else return this.oa};x&&Ua(8);var Tb;function Ub(a,b){var c;c=(c=a.className)&&typeof c.split=="function"?c.split(/\s+/):[];var d=jb(arguments,1),e;e=c;for(var f=0,h=0;h<d.length;h++)$a(e,d[h])>=0||(e.push(d[h]),f++);e=f==d.length;a.className=c.join(" ");return e};function E(a,b){this.width=a;this.height=b}n=E.prototype;n.d=function(){return new E(this.width,this.height)};function Vb(a){return a.width*a.height}n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a){this.width*=a;this.height*=a;return this};function Wb(a,b){return a.scale(a.width/a.height>b.width/b.height?b.width/a.width:b.height/a.height)};var Xb=!x||Wa();!y&&!x||x&&Wa()||y&&Ua("1.9.1");x&&Ua("9");function F(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}F.prototype.d=function(){return new F(this.x,this.y)};function Yb(a){return a?new Zb($b(a)):Tb||(Tb=new Zb)}function ac(a,b){var c=b&&b!="*"?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!z||bc(document)||Ua("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function cc(a,b){Xa(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in dc?a.setAttribute(dc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}
var dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function ec(a){var b=a.document;if(z&&!Ua("500")&&!Ia){typeof a.innerHeight=="undefined"&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new E(a.innerWidth,b)}a=bc(b)?b.documentElement:b.body;return new E(a.clientWidth,a.clientHeight)}function fc(a,b,c){return gc(document,arguments)}
function gc(a,b){var c=b[0],d=b[1];if(!Xb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',oa(d.name),'"');if(d.type){c.push(' type="',oa(d.type),'"');var e={};Za(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)v(d)?c.className=d:u(d)?Ub.apply(k,[c].concat(d)):cc(c,d);b.length>2&&hc(a,c,b,2);return c}
function hc(a,b,c,d){function e(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ba(f)&&!(ea(f)&&f.nodeType>0)?ab(ic(f)?gb(f):f,e):e(f)}}function bc(a){return a.compatMode=="CSS1Compat"}function jc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function kc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function H(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function lc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function $b(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function mc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild($b(a).createTextNode(b))}}function ic(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return!1}function Zb(a){this.Ma=a||p.document||document}n=Zb.prototype;
n.se=function(a,b,c){return gc(this.Ma,arguments)};n.createElement=function(a){return this.Ma.createElement(a)};n.createTextNode=function(a){return this.Ma.createTextNode(a)};n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a,b){hc($b(a),a,arguments,1)};n.contains=lc;var nc={},oc,pc,qc;function rc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}rc.prototype.d=function(){return new rc(this.top,this.right,this.bottom,this.left)};rc.prototype.contains=function(a){return!this||!a?!1:a instanceof rc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
rc.prototype.expand=function(a,b,c,d){ea(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function sc(a,b){var c;a:{c=$b(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:k)||a.style[b]}function tc(a,b){var c,d,e=y&&(Ba||La)&&Ua("1.9");b instanceof F?(c=b.x,d=b.y):(c=b,d=g);a.style.left=uc(c,e);a.style.top=uc(d,e)}
function vc(a){var b=a.getBoundingClientRect();if(x)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function wc(a){if(x)return a.offsetParent;for(var b=$b(a),c=sc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=sc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return k}
function xc(a){var b,c=$b(a),d=sc(a,"position"),e=y&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new F(0,0),h;b=c?c.nodeType==9?c:$b(c):document;if(h=x)if(h=!Wa())h=Yb(b),h=!bc(h.Ma);h=h?b.body:b.documentElement;if(a==h)return f;if(a.getBoundingClientRect)b=vc(a),c=Yb(c).Ma,a=!z&&bc(c)?c.documentElement:c.body,c=c.parentWindow||c.defaultView,a=new F(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop),f.x=b.left+a.x,f.y=b.top+
a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(z&&sc(b,"position")=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Ha||z&&d=="absolute")f.y-=c.body.offsetTop;for(b=a;(b=wc(b))&&b!=c.body&&b!=h;)if(f.x-=b.scrollLeft,!Ha||b.tagName!="TR")f.y-=b.scrollTop}return f}
function yc(a,b,c){if(b instanceof E)c=b.height,b=b.width;else if(c==g)throw Error("missing height argument");a.style.width=uc(b,!0);a.style.height=uc(c,!0)}function uc(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}function zc(a){if(sc(a,"display")!="none")return Ac(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Ac(a);b.display=c;b.position=e;b.visibility=d;return a}
function Ac(a){var b=a.offsetWidth,c=a.offsetHeight,d=z&&!b&&!c;return(!s(b)||d)&&a.getBoundingClientRect?(a=vc(a),new E(a.right-a.left,a.bottom-a.top)):new E(b,c)}function Bc(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}
function Cc(a){var b=Yb(g),c=k;if(x)c=b.Ma.createStyleSheet(),Dc(c,a);else{var d=ac(b.Ma,"head")[0];d||(c=ac(b.Ma,"body")[0],d=b.se("head"),c.parentNode.insertBefore(d,c));c=b.se("style");Dc(c,a);b.appendChild(d,c)}return c}function Dc(a,b){x?a.cssText=b:a[z?"innerText":"innerHTML"]=b};var Ec,Fc,Gc,Hc,Ic,Jc=Da();Fc=(Ec=z&&Ia&&/(ipod|iphone|ipad)/i.test(Jc))&&da(Object.freeze);Gc=z&&Ia&&/(android)/i.test(Jc);Hc=z&&/playbook/i.test(Jc);Ic=s(document.ontouchmove);(function(){var a=[[],[]],b=[[],[]];oc=function(c,d,e){db((e?b:a)[d||0],c)};pc=function(){for(var c,d=0;d<2;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.C=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var Kc;var Lc=new Sb;
Lc.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene",
" {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
Kc=Lc.toString();Cc(Kc);var I=new function(){this.fa=[];this.wb=!1;this.De=0;this.ld=1E3/30;this.ib=0};function Mc(a,b){this.s=this.Je=a;this.Bd=s(b)?b:-1;this.Oa=[]}Mc.prototype.Mb=function(a){if(this.Oa.length)if(this.s>a)this.s-=a;else{var b=this.Je+a-this.s;this.s=this.Je-(a-this.s);if(this.s<0)this.s=0;for(var c,a=this.Oa.length;--a>=0;)(c=this.Oa[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);this.Bd!=-1&&(this.Bd--,this.Bd==0&&I.Sc(c[1],c[2]))}};I.fa.push(new Mc(0));I.Zd=p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame;
I.yg=l("ld");I.cg=function(){this.ld=1E3/60;this.wb&&(I.ue(),I.de())};I.Jc=function(a,b,c){c=s(c)?c:this.fa[0];db(c.Oa,[1,a,b]);db(this.fa,c);this.wb||I.de()};I.Sc=function(a,b){for(var c=this.fa.length;--c>=0;){for(var d=this.fa[c],e=d.Oa,f,h=e.length;--h>=0;)f=e[h],f[1]==a&&f[2]==b&&eb(e,f);e.length==0&&c!=0&&eb(this.fa,d)}this.fa.length==1&&this.fa[0].Oa.length==0&&I.ue()};
I.de=function(){if(!this.wb)this.ib=ma(),I.Zd?p.mozRequestAnimationFrame?(p.mozRequestAnimationFrame(),this.he=ka(I.ef,this),p.addEventListener("MozBeforePaint",this.he,!1)):(this.Zc=ka(I.cf,this),p.webkitRequestAnimationFrame(this.Zc)):this.De=setInterval(ka(I.lg,this),I.ld),this.wb=!0};I.ue=function(){if(this.wb)I.Zd?p.mozRequestAnimationFrame?p.removeEventListener("MozBeforePaint",this.he,!1):p.webkitCancelRequestAnimationFrame(this.Zc):clearInterval(this.De),this.wb=!1};
I.cf=function(a){a||(a=ma());I.kd(a-this.ib);this.ib=a;p.webkitRequestAnimationFrame(this.Zc)};I.ef=function(a){I.kd(a.timeStamp-this.ib);this.ib=a.timeStamp;p.mozRequestAnimationFrame()};I.lg=function(){var a=ma(),b=a-this.ib;b<0&&(b=1);I.kd(b);this.ib=a};I.kd=function(a){for(var b=this.fa.length;--b>=0;)this.fa[b].Mb(a);if(qc==1&&/Firefox\/4./.test(Da())&&!nc.tg)I.Me?(document.body.style.MozTransform="",I.Me=0):(document.body.style.MozTransform="scale(1,1)",I.Me=1),qc=0};
I.hf=function(a){for(var b,c,d,e,f=this.fa.length;--f>=0;){b=this.fa[f];for(e=b.Oa.length;--e>=0;)d=b.Oa[e],c=d[2],da(c.T)&&(c=c.T(),c==a&&(d[0]=!0))}};I.ug=function(a,b,c){I.Se(a,b,c,1)};I.Se=function(a,b,c,d){I.Jc(a,b,new Mc(c,d))};var Nc;function J(){this.qb=[];this.vd=[];this.Qc={};this.zg=!1;this.K=1;this.bc=Oc;this.Y=0}w(J,Rb);n=J.prototype;n.scope="";n.z=function(a){this.K=a;return this};function Pc(a,b){a.bc=b;return a}n.play=function(){this.Pe=0;this.ze=this.Y=1;I.Jc(this.Mb,this);this.dispatchEvent({type:"start"})};n.stop=function(){if(this.Y!=0){var a=this.vd;if(Qc(this)&&this.Ja)for(var b=a.length;--b>=0;)this.Ja(a[b]);this.vd=[];this.Qc={};this.Y=0;I.Sc(this.Mb,this);this.dispatchEvent({type:"stop"})}};n.Ec=function(){return{}};
function Rc(a,b){var c=fa(b);s(a.Qc[c])||(a.gc(b),a.Qc[c]=a.Ec(b));return a.Qc[c]}n.gc=function(a){Sc.Ic(this,a);this.Y=1;db(this.vd,a);this.Rd&&!this.Ue&&this.wc&&this.wc()};n.T=function(){return this.qb[0]?this.qb[0].T():k};n.Mb=function(a){this.Rd&&!this.Ue&&this.wc&&this.wc();this.ze&&(delete this.ze,a=1);this.Pe+=a;this.xg=a;a=this.Pe/(this.K*1E3);if(isNaN(a)||a>=1)a=1;a=this.Va(a,this.qb);a==1&&this.stop()};
n.Va=function(a,b){a=this.bc[0](a);isNaN(a)&&(a=1);for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function Qc(a){return a.K>0&&Tc&&a.Pf&&!Gc&&!y}function Uc(a){a.Pf=s(g)?g:!0;return a}var Sc=new function(){this.n={}};Sc.Ic=function(a,b){if(a.scope.length){var c=fa(b);s(this.n[c])||(this.n[c]={});s(this.n[c][a.scope])&&this.n[c][a.scope].stop();this.n[c][a.scope]=a}};Sc.uc=function(a){a=fa(a);if(s(this.n[a]))for(var b in this.n[a])this.n[a][b].stop(),delete this.n[a][b]};
(function(){function a(a){var e,f,h,o;for(h=a,f=0;f<8;f++){o=((b*h+c)*h+d)*h-a;if((o>=0?o:0-o)<5.0E-5)return h;e=(3*b*h+2*c)*h+d;if((e>=0?e:0-e)<1.0E-6)break;h-=o/e}e=0;f=1;h=a;if(h<e)return e;if(h>f)return f;for(;e<f;){o=((b*h+c)*h+d)*h;if((o-a>=0?o-a:0-(o-a))<5.0E-5)break;a>o?e=h:f=h;h=(f-e)*0.5+e}return h}var b=0,c=0,d=0,e=0,f=0,h=0;Nc=function(i,j,m,q){return[function(o){d=3*i;c=3*(m-i)-d;b=1-d-c;h=3*j;f=3*(q-j)-h;e=1-h-f;return((e*a(o)+f)*a(o)+h)*a(o)},i,j,m,q]}})();var Oc=Nc(0.42,0,0.58,1);var Vc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Wc(a){var b={},a=String(a),c=a.charAt(0)=="#"?a:"#"+a;if(Xc.test(c))return b.td=Yc(c),b.type="hex",b;else{a:{var d=a.match(Zc);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=$c(e.toString(16));a=$c(a.toString(16));
c=$c(c.toString(16));b.td="#"+e+a+c;b.type="rgb";return b}else if(Vc&&(c=Vc[a.toLowerCase()]))return b.td=c,b.type="named",b}throw Error(a+" is not a valid color string");}var ad=/#(.)(.)(.)/;function Yc(a){if(!Xc.test(a))throw Error("'"+a+"' is not a valid hex color");a.length==4&&(a=a.replace(ad,"#$1$1$2$2$3$3"));return a.toLowerCase()}function bd(a,b,c){c<0?c+=1:c>1&&(c-=1);if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
var Xc=/^#(?:[0-9a-f]{3}){1,2}$/i,Zc=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function $c(a){return a.length==1?"0"+a:a};function cd(){}w(cd,Rb);cd.prototype.ud=r;function dd(a){if(a[0]instanceof cd)return a[0];u(a)||(a=hb(arguments));if(a.length>2)return new ed(a);else if(v(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new ed(a[0]);return new fd(a[0])}cd.prototype.Jb=r;cd.prototype.Ib=r;function ed(a){this.Ya=1;this.Da(a)}w(ed,cd);n=ed.prototype;n.id="color";function gd(a,b){return hd(a,2,b)}
function hd(a,b,c){var c=c||0.1,d,e=k;if(ca(a.Fb)&&ca(a.Ab)&&ca(a.xb))e=[a.Fb,a.Ab,a.xb,a.Ya];else if(v(a.ea)){var f=Wc(a.ea);if(f.type!="named")e=f.td,e=Yc(e),e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)];e.push(1)}d=e;if(!d)return a;d.pop();e=d[0]/255;f=d[1]/255;d=d[2]/255;var h=Math.max(e,f,d),i=Math.min(e,f,d),j=0,m=0,q=0.5*(h+i);h!=i&&(h==e?j=60*(f-d)/(h-i):h==f?j=60*(d-e)/(h-i)+120:h==d&&(j=60*(e-f)/(h-i)+240),m=0<q&&q<=0.5?(h-i)/(2*q):(h-i)/(2-2*q));d=
[Math.round(j+360)%360,m,q];d[b]+=c;d[b]>1&&(d[b]=1);b=d[1];c=d[2];h=f=e=0;d=d[0]/360;b==0?e=f=h=c*255:(i=h=0,i=c<0.5?c*(1+b):c+b-b*c,h=2*c-i,e=255*bd(h,i,d+1/3),f=255*bd(h,i,d),h=255*bd(h,i,d-1/3));d=[Math.round(e),Math.round(f),Math.round(h)];d.push(a.Ya);return a.Da(d)}
n.Da=function(a){var b=a;if(v(a))return this.ea=a,this;arguments.length>2&&(b=arguments);if(b.length>=3)this.Fb=b[0],this.Ab=b[1],this.xb=b[2];if(b.length==4)this.Ya=b[3];this.ea=this.Ya==1?"rgb("+this.Fb+","+this.Ab+","+this.xb+")":"rgba("+this.Fb+","+this.Ab+","+this.xb+","+this.Ya+")";return this};n.Jb=function(a){a.style.background=this.ea};n.Ib=function(a){a.fillStyle=this.ea};n.d=function(){var a=new ed("");a.Fb=this.Fb;a.Ab=this.Ab;a.xb=this.xb;a.Ya=this.Ya;a.ea=this.ea;return a};function id(a,b){var c=u(a)?a:hb(arguments);this.ma=c[0]||1;c.shift();this.Da.apply(this,c)}w(id,cd);n=id.prototype;n.id="stroke";n.Jb=function(a){a.style.border=this.ma+"px solid "+this.Za.ea};n.Ib=function(a){a.strokeStyle=this.Za.ea;a.lineWidth=this.ma};n.Da=function(a){var b=hb(arguments);b[0]instanceof ed?this.Za=b[0]:(this.Za=new ed("#000"),b.length&&this.Za.Da.apply(this.Za,b));return this};n.d=function(){var a=new id;a.ma=this.ma;a.Za=this.Za;return a};function fd(a){a&&da(a.data)&&(a=a.data());if(v(a)){this.ia=a;if(this.ia.length>50)this.ia=this.ia.substr(-50);jd[this.ia]?this.U=jd[this.ia]:(this.U=new Image,this.U.src=a)}else{this.ia=a.src;if(this.ia.length>50)this.ia=this.ia.substr(-50);this.U=jd[this.ia]?jd[this.ia]:a}kd(this)||D(this.U,"load",this.Ef,!1,this);jd[this.ia]=this.U}w(fd,cd);var jd={};n=fd.prototype;n.id="image";
n.ud=function(a){var b=a.f(),c=this;!b.width&&!b.height&&(kd(this)?a.c(this.U.width,this.U.height):D(this,"load",function(){var a=this.f();!a.width&&!a.height&&this.c(c.U.width,c.U.height)},!1,a));kd(this)||D(this,"load",function(){K(a,4)},!1,this)};n.Ef=function(a){this.dispatchEvent(a)};function kd(a){return a.U&&a.U.width&&a.U.height}n.c=function(a,b,c){ca(a)&&(a=new E(a,b),b=c||!1);this.I=a;this.eg=b;return this};
function ld(a,b){var c=b.f().d();if(a.I)a.eg?(c.width*=a.I.width,c.height*=a.I.height):c=a.I;var d=new F(0,0);if(a.Hd)a.Bg?(d.x=c.width*a.Hd.x,d.y=c.height*a.Hd.y):d=a.Hd;return[c,d]}n.Jb=function(a,b){a.style.background="url("+this.U.src+")";var c=ld(this,b),d=c[0],c=c[1],e=md(b);a.style[nd("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.F?b.F.ma:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.Fg&&(a.style.imageRendering="optimizeQuality")};
n.Ib=function(a,b){var c=b.f(),d=M(b);if(c.width&&c.height)try{var e=this.U,f=ld(this,b),h=f[0],i=f[1],j=a.createPattern(e,"repeat"),m=h.width/e.width,q=h.height/e.height;a.save();a.translate(d.left+i.x,d.top+i.y);a.scale(m,q);a.fillStyle=j;a.fillRect(-i.x/m,-i.y/q,c.width/m,c.height/q);a.restore()}catch(o){}};rc.prototype.size=function(){return new E(this.right-this.left,this.bottom-this.top)};function od(){}od.prototype.i=r;function N(a){return a.ge?a.ge:a}function pd(a,b){Za(b,a);b.ge=N(a);return b};var O=new od;O.sb=function(){};
O.tf=function(){var a=this.Eb,b=this.lc(),c=this.sa||1,d=c/a,e;if(this.a){this.vc&&this.vc.contains(b)&&(e=Vb(this.vc.size())/Vb(b.size()))&&e<1.6&&e>0.5?b=this.vc:this.Hg!=1&&this.h.length!=0&&(this instanceof P||b.expand(12,12,12,12));this.vc=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.Hc=1;var h=this.D.d();this.q[2]&&(h=this.q[2]);e.width!=0?h.scale(f.width*d/e.width):h.scale(1/a);a=M(this);this.ad=
(a.left-b.left)*c;this.bd=(a.top-b.top)*c;b=this.f().d();a=this.na;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.j.d();this.q[1]&&(c=this.q[1]);c.x*=d;c.y*=d;c.x-=b.width+this.ad;c.y-=b.height+this.bd;qd(this.a,(this.ad+b.width)/e.width*100,(this.bd+b.height)/e.height*100,!0);!this.ha[1]&&!this.ha[2]&&!this.ha[4]&&(d=-(this.ta%=360),s(this.q[4])&&(d=-this.q[4]),rd(this.a,sd(new td,0.1).translate(c.x,c.y).scale(h.x,h.y).rotate(d)));if(this.Hc)d=this.a.getContext("2d"),c=this.sa||1,d.clearRect(0,0,
e.width,e.height),d.save(),d.translate(this.ad,this.bd),d.scale(c,c),e=this.f(),h=this.na,d.translate(e.width*h.x,e.height*h.y),this.u.xe.call(this,d),d.restore(),this.Hc=0}};O.update=function(){};
O.xe=function(a){if(this.w&&(this.o!=this.Ia&&(this.Ia&&Q.Re.call(this),this.o&&Q.ee.call(this)),!this.kb&&!this.zc&&!(this.L==0||this.xd==1))){this.L!=1&&(a.globalAlpha*=this.L);if(this.o){Q.ke.call(this.o);var b=this.Ia,c=this.D;a.save();a.save();a.translate(b.Ge.x,b.Ge.y);a.rotate(-b.He);this.mc&&a.rotate((this.ta%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.Ed/c.x,0);a.lineTo(b.Ed/c.x,b.Dd/c.y);a.lineTo(0,b.Dd/c.y);a.closePath();a.restore();a.clip()}b=new F(0,0);this.u.i.call(this,
a);for(var d=0,e;e=this.h[d];d++){var f=ud(e,b).d(),h=e.ta%=360,c=e.D;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);h!=0&&a.rotate(-h*Math.PI/180);this.u.xe.call(e,a);a.restore()}this.L!=1&&(a.globalAlpha/=this.L);this.Ia&&a.restore()}};function R(a,b){this.x=a;this.y=b}w(R,F);R.prototype.d=function(){return new R(this.x,this.y)};R.prototype.scale=function(a){this.x*=a;this.y*=a;return this};R.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Tc,nd,vd,wd,xd,yd,zd;(function(){var a=z?"Webkit":y?"Moz":Ha?"O":x?"ms":"",b=fc("div").style;vd="-"+a.toLowerCase()+"-transform";wd=function(a){return b[a]!==g?a:!1};nd=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return wd(b)?b:wd(d)?d:wd(e)?e:g}})();var Ad=function(){var a=nd("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=s(d)?d:c;c=(u(c)?c.join(e+" "):c)+e+"/"+((u(d)?d.join(e+" "):d)+e);if(c!=b.ff)b.style[a]=b.ff=c}}();
function td(a){this.Tc=[];this.Db=1;this.Cg&&sd(this,a)}td.prototype.scale=function(a,b){this.Tc.push("scale("+a+","+b+")");return this};td.prototype.rotate=function(a,b){a!=0&&this.Tc.push("rotate("+a+(b?b:"deg")+")");return this};td.prototype.translate=function(a,b,c){var d=1/this.Db,e="translate";if(Ec||Hc)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(Ec||Hc)e+=","+(c?c:0)*d+"px";this.Tc.push(e+")");return this};
function sd(a,b){if(a.Db!=1){var c=1/a.Db;a.scale(c,c);a.Db=1}if(b!=1)a.scale(b,b),a.Db=b;return a}td.prototype.toString=function(){this.Db!=1&&sd(this,1);return this.Tc.join(" ")};var rd=function(){var a=nd("Transform");return function(b,c){var d=c.toString();if(d!=b.pg)b.style[a]=b.pg=d;qc=1}}(),qd=function(){var a=nd("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.qg)b.style[a]=b.qg=c}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=bb(e,function(a){return a.indexOf(b)==-1});return e.join(",")}var b=nd("Transition");Tc=!!b&&!Ha;xd=function(c,d,e,f){if(b){var h=a(c.style[b],d);h.length&&(h+=", ");h+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=h}};yd=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};zd=function(a,b,e){if(a.sg!=b||a.Df!=e)a.sg=b,a.Df=e,yc(a,b,e)}})();var Q=new od;Q.sb=function(){for(var a=0,b,c=0;b=this.h[c];c++)b=b instanceof S?b.N:b,b==this.a.childNodes[a]?a++:(lc(this.aa,b)&&H(b),Q.df(this.aa,b,a++))};
Q.uf=function(){var a=this.f(),b=this.Eb,c=this.j,d=this.sa||1;this.q[1]&&(c=this.q[1]);var e=Math.round(a.width*d),f=Math.round(a.height*d),h=this.D.d();this.q[2]&&(h=this.q[2].d());e!=0?h.scale(a.width/(e*b/d)):h.scale(1/b);zd(this.a,e,f);qd(this.a,this.na.x*100,this.na.y*100,!0);e=this.na.x*a.width*d;f=this.na.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.F?this.F.ma:0;(e-c!=0||f-c!=0)&&this.a==this.aa&&this.h.length&&Q.Mf.call(this);this.a!=this.aa&&!this.ha[1]&&!this.ha[2]&&!this.ha[4]&&rd(this.aa,
(new td).translate(e-c,f-c));this.o!=this.Ia&&(this.Ia&&Q.Re.call(this),this.o&&Q.ee.call(this));c=sd(new td,0.1);this.o&&(Q.ke.call(this.o),sd(sd(c,0.1).translate(-this.o.Kf-e,-this.o.Lf-f).rotate(this.o.He,"rad").translate(e,f),1));e=-(this.ta%=360);s(this.q[4])&&(e=-this.q[4]);c.translate(a,b).scale(h.x,h.y).rotate(e);!this.ha[1]&&!this.ha[2]&&!this.ha[4]&&rd(this.a,c)};
Q.update=function(){if(this.a){Q.uf.call(this);if(!this.ha[5]){var a=this.L;s(this.q[5])&&(a=this.q[5]);this.C&16&&Bc(this.a,a)}this.C&32&&(this.a.style.display=this.zc?"none":"block");this.kb||this.u.i.call(this,this.a)}};
Q.ke=function(){if(s(this.Td)&&this.Td.w){var a=this.Td,b=M(this),c=new F(b.left,b.top),d=new F(b.right,b.top),e=new F(b.right,b.bottom),b=a.getParent(),c=!this.w?c:b.va(this.Bb(c)),d=!this.w?d:b.va(this.Bb(d)),e=!this.w?e:b.va(this.Bb(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,h=c.y-d.y,i=e.x-d.x,j=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.Ed=Math.round(Math.sqrt(f*f+h*h));this.Dd=Math.round(Math.sqrt(i*i+j*j));if(N(a.u)==Q)f=a.N,yc(f,this.Ed,this.Dd),rd(f,sd(new td,0.1).translate(c.x,c.y).rotate(-b,
"rad"));N(this.u)==Q&&(this.a.style.display="none");this.Ge=Bd(a,c.d());this.Jf=!0;this.Kf=d*c.x-e*c.y;this.Lf=d*c.y+e*c.x;this.He=b}};Q.df=function(a,b,c){c==g||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};Q.Mf=function(){this.aa=fc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.aa.appendChild(a);this.a.appendChild(this.aa)};
Q.Re=function(){if(this.a!=this.N){if(N(this.u)==Q){H(this.a);var a=this.N,b=a.parentNode;b&&b.replaceChild(this.a,a);this.N=this.a}this.Ia.xd=0;this.Ia=k}};Q.ee=function(){if(N(this.u)==Q){this.N=fc("div");this.N.style.cssText="position:absolute;overflow:hidden;";qd(this.N,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.N,a);this.N.appendChild(this.a)}this.o.xd=1;this.o.Td=this;this.Ia=this.o;K(this.o,1)};function S(){this.h=[];this.p=k;this.Ua={};this.q={};this.ha={};this.Wd={};this.w=!1;this.Md=this.jd=k;this.R={};this.A(1);this.b(0,0);this.c(0,0);this.Eb=1;this.ob(0.5,0.5);Cd(this,0);this.$c=0;K(this,7);this.L=1;Dd(this,k);Ed(this,N(this.Fa[0]));K(this,64)}w(S,Rb);n=S.prototype;n.Fa=[Q,O];function Ed(a,b){if(!a.u||N(a.u)!=b){for(var c=-1,d=0;d<a.Fa.length;d++)if(N(a.Fa[d])==b){c=d;break}if(c!=-1){a.u=a.Fa[d];K(a,64);for(d=0;c=a.h[d];d++)Ed(c,b)}}}n.mc=function(){return!(this.p&&N(this.p.u)==O)};
function Fd(a){if(a.mc())return a.mc()?Gd(a):Hd(a),a;else if(a.p)return Fd(a.p);return k}function Id(a){if(!a.p||a instanceof P)return[];var b=a.p.h.indexOf(a),a=Id(a.p);a.push(b);return a}function Jd(a,b){if(a==b)return 0;for(var c=Id(a),d=Id(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}n.gd=!1;
function K(a,b,c,d){b&&!a.C&&oc(a,c,d);a.C|=b;if(b==64)for(c=0;d=a.h[c];c++)d instanceof S&&K(d,64);if(!s(a.C)||!b)a.C=0;if(b&&a.kb)a.Jf=!1,K(a.kb,-1);return a}n.A=function(a,b){this.D=arguments.length==1&&ca(a)?new R(a,a):arguments.length==2?new R(arguments[0],arguments[1]):a;return this.q[2]?this:K(this,2)};n.b=function(a,b){this.j=arguments.length==2?new F(arguments[0],arguments[1]):a;return this.q[1]?this:K(this,1)};
function Dd(a,b){if(b!=a.o){if(a.o){var c=a.o;delete c.hd;Kd(c,c.getParent());delete a.o.kb}a.o=b;if(a.o)Ld(a.o),a.o.kb=a;K(a,4)}}n.ob=function(a,b){this.na=arguments.length==2?new R(arguments[0],arguments[1]):a;return K(this,1)};function Cd(a,b){a.ta=b;a.q[4]||K(a,1)}function T(a,b){a.zc=b;K(a,32);a.fe=0}n.f=l("I");
n.c=function(a,b){var c=this.I,d,e;d=arguments.length==2?new E(arguments[0],arguments[1]):a;var f=this.na;if(c&&this.h.length)for(var h=0;h<this.h.length;h++){var i=this.h[h];if(i.Af){var j=i.$c;if(j!=0){var m=Md(i);e=c.width;var q=m.left+f.x*c.width,o=m.right-m.left,G=e-m.right-f.x*c.width;j&1&&(e-=q);j&2&&(e-=o);j&4&&(e-=G);e!=c.width&&(e=(d.width-e)/(c.width-e),j&1&&(q*=e),j&2&&(o*=e));e=c.height;var G=m.top+f.y*c.height,L=m.bottom-m.top,m=e-m.bottom-f.y*c.height;j&8&&(e-=G);j&16&&(e-=L);j&32&&
(e-=m);e!=c.height&&(e=(d.height-e)/(c.height-e),j&8&&(G*=e),j&16&&(L*=e));j=i.na;i.c(o,L);i.b(q+j.x*o-f.x*d.width,G+j.y*L-f.y*d.height)}}}this.I=d;return K(this,2)};function md(a){a.sa||Nd(a);return a.sa}function Nd(a){var b=s(a.sa)?a.sa:a.Eb;a.p&&a.p.sa&&(b=a.Eb*a.p.sa);if(b!=a.sa){a.sa=b;for(var b=0,c;c=a.h[b];b++)c instanceof S&&Nd(c);K(a,2)}}n.Af=l("$c");n.va=function(a){return!this.w?a:Bd(this,this.getParent().va(a))};
function Bd(a,b){if(!a.getParent())return k;b.x-=a.j.x;b.y-=a.j.y;b.x/=a.D.x;b.y/=a.D.y;if(a.ta!=0){var c=b.d(),d=a.ta*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}n.Bb=function(a){return!this.w?a:this.getParent().Bb(ud(this,a))};function ud(a,b){if(!a.getParent())return b;var c=b.d();if(a.ta!=0){var d=-a.ta*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.D.x;c.y*=a.D.y;c.x+=a.j.x;c.y+=a.j.y;return c}
function Od(a,b){a.L=b;var c=a.zc;a.L==0&&!c?(T(a,!0),a.fe=1):a.L!=0&&c&&a.fe&&T(a,!1);if(s(a.q[5]))return a;K(a,16);return a}function Gd(a){function b(){this.a=this.N=this.aa=fc(c);this.Yb&&Ub(this.a,this.Yb);this.C|=-1}var c=N(a.u)==O?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.N;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.N,d)}}else b.call(a)}function Hd(a){a.N&&(H(a.N),delete a.a,delete a.N,delete a.aa)}
n.sb=function(){this.C&=-65;this.mc()?Gd(this):Hd(this);if(this.p&&this.p.C&64)this.p.sb();else if(this.mc()){for(var a=0,b;b=this.h[a];a++)b instanceof S&&b.sb();this.u.sb.call(this)}};
n.update=function(a){var b,c,a=a||0;fa(this);this.C&64&&this.sb();var d=N(this.u)==Q||a;if(d){for(var e in this.Wd)delete this.q[e],delete this.ha[e],b=parseInt(e,10)==5?"opacity":vd,yd(this.a,b),this.a!=this.aa&&yd(this.vg,b);b=0;for(e in this.Ua)c=this.Ua[e],c[3]||(c[3]=1,e==1&&this.Rf!=this.j&&(K(this,1,0,!0),b=1),e==2&&this.Zf!=this.D&&(K(this,2,0,!0),b=1),e==5&&this.Of!=this.L&&(K(this,16,0,!0),b=1),e==4&&this.Xf!=this.ta&&(K(this,128,0,!0),b=1));if(!b)for(e in this.Ua){c=this.Ua[e];b=parseInt(e,
10)==5?"opacity":vd;if(N(this.u)==Q||b!="opacity")this.q[e]=c[0],xd(this.a,b,c[1],c[2]),this.a!=this.aa&&b==vd&&xd(this.aa,b,c[1],c[2]);delete this.Ua[e]}this.Rf=this.j;this.Zf=this.D;this.Of=this.L;this.Xf=this.ta;this.Wd={}}if(a)this.u.tf.call(this);else{if(N(this.u)==O){c=Fd(this);c.Hc=1;if(c==this&&this.C==1&&!this.o)c.Hc=0;oc(Fd(this),1)}this.u.update.call(this)}if(d)for(e in this.q)this.q[e]&&(this.ha[e]=!0);if(this.ab)for(e=0;e<this.ab.length;e++)K(this.ab[e],7);K(this,0,a)};
n.getParent=function(){return this.p?this.p:k};n.appendChild=function(a,b){a instanceof S&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&H(a);a.p=this;if(b==g)try{this.h.push(a)}catch(c){alert(c.message)}else ib(this.h,b,0,a);N(this.u)!=Q&&Ed(a,N(this.u));a instanceof S&&(Nd(a),this.w&&Pd(a));return K(this,64)};
n.removeChild=function(a){a=this.h.indexOf(a);if(a>=0&&this.h.length>a){var b=a>=0&&this.h.length>a?this.h[a]:k;b.kb&&Dd(b.kb,k);b instanceof S?(this.w&&Qd(b),Hd(b),b.p=k):H(b);this.h.splice(a,1);a=K(this,64)}else a=this;return a};n.addEventListener=function(a){Ic&&a.substring(0,5)=="mouse"||(s(this.R[a])||(this.R[a]=[0,0]),this.w&&this.R[a][0]==0&&(this.R[a][0]=1,this.T().zb.Ic(this,a)),this.R[a][1]++)};
n.removeEventListener=function(a){Ic&&a.substring(0,5)=="mouse"||(this.w&&this.R[a][1]==1&&(this.R[a][0]=0,this.T().zb.Ca(this,a)),this.R[a][1]--,this.R[a][1]||delete this.R[a])};n.T=function(){return!this.w?k:this.jd};n.yc=function(){return!this.w?k:this.Md};function Qd(a){var b;a.hd||Kd(a,a.getParent());for(var c=0;b=a.h[c];c++)b instanceof S&&Qd(b);for(var d in a.R){a.R[d][0]=0;if(!a.T())debugger;a.T().zb.Ca(a,d)}Rd(a.T().zb,a);a.w=!1;a.jd=k;a.Md=k}
function Pd(a){a.w=!0;a.jd=a.p.T();a.Md=a.p.yc();for(var b=0,c;c=a.h[b];b++)c instanceof S&&Pd(c);for(var d in a.R)a.R[d][0]=1,a.T().zb.Ic(a,d);a.hd&&Ld(a);Rd(a.T().zb,a)}function Ld(a){a.hd=!0;a.w&&Sd(a,a.getParent())}function Sd(a,b){if(!b.ab)b.ab=[];db(b.ab,a);!b&&!(b.getParent()instanceof P)&&Sd(a,b.getParent())}function Kd(a,b){b&&b.ab&&(eb(b.ab,a),Kd(a,b.getParent()))}function M(a){var b=a.f(),a=a.na;return new rc(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function Md(a,b){var c=b||M(a),d=new F(c.left,c.top),e=new F(c.right,c.top),f=new F(c.left,c.bottom),c=new F(c.right,c.bottom),d=ud(a,d),e=ud(a,e),f=ud(a,f),c=ud(a,c);return new rc(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
n.lc=function(){var a=M(this);a.left==a.right&&this.h.length&&(a=Md(this.h[0],this.h[0].lc()));for(var b=0,c;c=this.h[b];b++)if(c.xd!=1){var d=a;c=Md(c,c.lc());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};n.Ja=function(a){this.Wd[a]=1};n.hb=function(a){var b=this.va(a.ua);return M(this).contains(b)?(a.position=b,!0):!1};function Td(a,b){s(b)||alert("undef");db(b.qb,a);b.play()};O.r={};Q.r={};function U(){S.call(this);this.F=this.dc=k}w(U,S);U.prototype.id="sprite";U.prototype.Fa=[pd(Q,Q.r),pd(O,O.r)];U.prototype.m=function(a,b,c,d){this.dc=dd(hb(arguments));this.dc.ud(this);K(this,4);return this};U.prototype.Pc=function(a){a&&!(a instanceof id)&&(a=new id(hb(arguments)));this.F=a;K(this,4);return this};Q.r.i=function(a){this.dc===k||this.dc.Jb(a,this);this.F===k?a.style.border="none":this.F.Jb(a,this)};
O.r.i=function(a){var b=this.f(),c=this.dc,d=this.F;if(c||d){var e=M(this);c&&(c.Ib(a,this),c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.Ib(a,this),this.id=="sprite"||this.id=="label"))c=d.ma/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};function Ud(){J.call(this)}w(Ud,J);Ud.prototype.update=r;function Vd(a){J.call(this);var b=hb(arguments);u(a)&&(b=a);this.n=b.length>2?[b.shift(),new Vd(b)]:b;this.z(this.n[0].K+this.n[1].K)}w(Vd,J);Vd.prototype.gc=function(a){J.prototype.gc.call(this,a);this.z(this.n[0].K+this.n[1].K);this.Lb=this.n[0].K/this.K;this.Qa=-1};Vd.prototype.stop=function(){this.Qa!=-1&&this.n[this.Qa].stop(this.qb);J.prototype.stop.apply(this,arguments)};
Vd.prototype.Va=function(a,b){if(this.Y==0)return a;for(var c=b.length;--c>=0;)Rc(this,b[c]);var d=c=0;a>=this.Lb?(c=1,d=this.Lb==1?1:(a-this.Lb)/(1-this.Lb)):(c=0,d=this.Lb!=0?a/this.Lb:1);if(this.Qa==-1&&c==1)this.n[0].Y=1,this.n[0].Va(1,b),this.n[0].stop();if(this.Qa!=c)this.Qa!=-1&&(this.n[this.Qa].Va(1,b),this.n[this.Qa].stop()),this.n[c].Y=1;this.n[c].Va(d,b);this.Qa=c;return a};function Wd(a){J.call(this);var b=hb(arguments);u(a)&&(b=a);b.length>2?(this.Cb=b.shift(),this.Nb=new Wd(b)):(this.Cb=b[0],this.Nb=b[1]);var b=this.Cb.K,c=this.Nb.K;this.z(Math.max(b,c));var d=new Ud;if(b>c)this.Nb=new Vd(this.Nb,d.z(b-c));else if(b<c)this.Cb=new Vd(this.Cb,d.z(c-b))}w(Wd,J);Wd.prototype.gc=function(a){J.prototype.gc.call(this,a);this.Cb.Y=1;this.Nb.Y=1};Wd.prototype.Va=function(a,b){if(this.Y!=0){for(var c=b.length;--c>=0;)Rc(this,b[c]);this.Cb.Va(a,b);this.Nb.Va(a,b);return a}};O.Pb={};Q.Pb={};function V(a){U.call(this);this.wa(a);this.Lc(Xd);this.O(14);this.Ea("#000");this.nb("center");this.Nd("400");this.Nc(0);this.Od(1.15);this.dg(k);this.m(255,255,255,0)}w(V,U);V.prototype.id="label";var Xd="Arial";V.prototype.Fa=[pd(Q.r,Q.Pb),pd(O.r,O.Pb)];
(function(){var a;V.prototype.measureText=function(){s(a)||(a=document.createElement("canvas").getContext("2d"));var b=this.gb()*this.S;a.font=this.S+"px "+this.eb;var c=a.measureText(this.v),c=z?c.width:c.width+1;Fc&&(c+=1);var d=this.F?this.F.ma:0;return new E(this.g[1]+this.g[3]+c+d*2,this.g[0]+this.g[2]+b+d*2)}})();n=V.prototype;n.f=function(){var a=S.prototype.f.call(this);return!a||!a.width&&!a.height?this.measureText():a};n.wa=function(a){this.v=a+"";K(this,4);delete this.ub;return this};
n.Nd=function(a){this.fc=a;K(this,8);return this};n.Lc=function(a){this.eb=a;K(this,8);return this};n.O=function(a){this.S=a;K(this,8);return this};n.Ea=function(a){this.ec=a;K(this,8);return this};n.Nc=function(a,b,c,d){a=[a,a,a,a];s(b)&&(a[1]=a[3]=b);s(c)&&(a[2]=c);s(d)&&(a[3]=d);this.g=a;K(this,8);return this};n.Od=function(a,b){this.Cd=b||!1;this.jc=a};n.gb=function(){var a=Math.abs(this.da.y)+this.la*2;return this.Cd?(this.jc+a)/this.S:this.jc+a/this.S};n.nb=function(a){this.Sb=a;K(this,8);return this};
n.dg=function(a,b,c,d){arguments.length==1&&a===k?(this.sc="#ccc",this.la=0,this.Oc(0,0)):arguments.length==2?(this.sc=a,this.la=b,this.Oc(new R(0,0))):arguments.length==3?(this.sc=a,this.la=b,this.Oc(c)):(this.sc=a,this.la=b,this.Oc(c,d));K(this,8)};n.Oc=function(a,b){this.da=arguments.length==2?new R(arguments[0],arguments[1]):a;K(this,8)};
n.dd=function(){var a=[],b=this.v.length,c=this.v.match(y?/[\s\.]+/g:/[\s-\.]+/g),d=0;if(c)for(var e=0;e<c.length;e++){var f=c[e],f=this.v.indexOf(f,d)+f.length;a.push(this.v.substring(d,f));d=f}d!=b&&a.push(this.v.substring(d,b));return a};n.Xd=function(a,b){for(var c=[],d="",e=this.ub,f,h=0;h<e.length;h++)d==""?d=e[h]:(f=a.measureText(na(d+e[h])),f.width>b?(c.push(na(d)),d=e[h]):d+=e[h]);c.push(d);return c};n.update=function(){this.C&4&&delete this.ic;S.prototype.update.apply(this,arguments)};
Q.Pb.i=function(a){Q.r.i.call(this,a);var b=a.style;this.C&4&&mc(a,this.v);if(this.C&8)b.lineHeight=this.gb(),b.padding=cb(this.g,function(a){return a*md(this)},this).join("px ")+"px",b.color=this.ec,b.fontFamily=this.eb,b.fontSize=this.S*md(this)+"px",b.fontWeight=this.fc,b.textAlign=this.Sb,b.textShadow=this.la||this.da.x||this.da.y?this.sc+" "+this.da.x+"px "+this.da.y+"px "+this.la+"px":""};
O.Pb.i=function(a){O.r.i.call(this,a);var b=M(this),c=-b.left-this.g[3]+b.right-this.g[1]+Math.abs(this.da.x)+Math.abs(this.la*2),d=0;if(!this.ub)this.ub=this.dd(),d=1;var e=this.F?this.F.ma:0;a.save();var f=this.Sb;f=="left"?a.translate(b.left+this.g[3]+e,b.top+this.g[0]+e):f=="right"?a.translate(b.right-this.g[1]-e,b.top+this.g[0]+e):f=="center"&&a.translate((b.left+this.g[3]+b.right-this.g[1])*0.5,b.top+this.g[0]+e);b=this.gb();a.fillStyle=this.ec;a.font=this.fc+" "+this.S+"px/"+b+" "+this.eb;
a.textAlign=f;a.textBaseline="top";if(this.la||this.da.x||this.da.y)a.shadowColor=this.sc,a.shadowOffsetX=this.da.x,a.shadowOffsetY=this.da.y,a.shadowBlur=this.la;if(d||c!=this.ic)this.jb=this.Xd(a,c),this.ic=c;if(this.jb){c=b*this.S;d=(s(this.la)?Math.abs(this.la):0)+(s(this.da)?Math.abs(this.da.y)/2:0);c=z?Math.floor(c):Math.round(c);for(f=0;f<this.jb.length;f++)a.fillText(this.jb[f],0,c*f+d-0.5)}a.restore()};O.Qb={};Q.Qb={};function W(){U.call(this);Yd(this,5)}w(W,U);W.prototype.id="roundedrect";W.prototype.Fa=[pd(Q.r,Q.Qb),pd(O.r,O.Qb)];function Yd(a,b){a.Ig=!1;a.Ld=b;return a}Q.Qb.i=function(a){this.f();Q.r.i.call(this,a);Ad(a,[this.Ld*this.Eb,this.Ld*this.Eb])};
O.Qb.i=function(a){this.f();var b=M(this),c=this.Ld,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();O.r.i.call(this,a);this.F&&(a.lineWidth*=2,a.stroke());a.restore()};function Zd(a){J.call(this);this.L=a}w(Zd,J);Zd.prototype.scope="fade";Zd.prototype.Ec=function(a){var b=a.L;Qc(this)&&(a.Ua[5]=[this.L,this.K,this.bc,0],K(a,16));return{ig:b,s:this.L-b}};Zd.prototype.update=function(a,b){if(this.Y!=0){var c=Rc(this,b);Od(b,c.ig+c.s*a)}};Zd.prototype.Ja=function(a){Qc(this)&&(a.Ja(5),K(a,16))};function $d(a,b){this.K=1;this.Dg=a;this.Ce=b;this.xf=!1}w($d,Rb);$d.prototype.z=function(a){this.K=a;return this};$d.prototype.start=function(){this.Ce.b(new F(0,0));T(this.Ce,!1);this.finish()};$d.prototype.finish=function(){this.dispatchEvent(new ob("end"));this.xf=!0};function ae(a,b){J.call(this);this.D=arguments.length==1&&ca(a)?new R(a,a):arguments.length==2?new R(arguments[0],arguments[1]):a}w(ae,J);ae.prototype.scope="scale";ae.prototype.Ec=function(a){var b=a.D,c=new R(this.D.x-b.x,this.D.y-b.y);Qc(this)&&(a.Ua[2]=[new R(b.x+c.x,b.y+c.y),this.K,this.bc,0],K(a,2));return{We:b,s:c}};ae.prototype.update=function(a,b){if(this.Y!=0){var c=Rc(this,b);b.A(c.We.x+c.s.x*a,c.We.y+c.s.y*a)}};ae.prototype.Ja=function(a){Qc(this)&&(a.Ja(2),K(a,2))};function be(a,b){J.call(this);this.j=arguments.length==2?new F(arguments[0],arguments[1]):a}w(be,J);n=be.prototype;n.scope="move";n.Ec=function(a){var b=a.j,c=new F(this.j.x-b.x,this.j.y-b.y);Qc(this)&&(a.Ua[1]=[this.j,this.K,this.bc,0],K(a,1));return{Xe:b,s:c}};n.wc=function(){if(this.Rd&&this.qb.length){var a=this.qb[0].j,b=new F(this.j.x-a.x,this.j.y-a.y),c=new F(0,0),a=b.x-c.x,b=b.y-c.y;this.z(this.Rd*Math.sqrt(a*a+b*b)/100);this.Ue=1}};
n.update=function(a,b){if(this.Y!=0){var c=Rc(this,b);b.b(c.Xe.x+c.s.x*a,c.Xe.y+c.s.y*a)}};n.Ja=function(a){Qc(this)&&(a.Ja(1),K(a,1))};function P(){S.call(this);this.ob(0,0);this.Yb="lime-scene";Gd(this)}w(P,S);P.prototype.yc=function(){return this};P.prototype.lc=function(){return M(this)};function ce(){P.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}w(ce,P);function de(a){this.Xb=a;this.identifier=0}de.prototype.P=function(a,b,c){for(var a=u(a)?a:[a],d=0;d<a.length;d++)this.Xb.P(this,a[d],b);c&&this.event.stopPropagation()};de.prototype.Ca=function(a){var b=s(a),c=u(a)?a:[a];if(a=this.Xb.Ta[this.identifier]){var d=this,a=bb(a,function(a){return!s(d.Ga)||a[0]==d.Ga&&(!b||$a(c,a[1])>=0)?(Lb(a[0],a[1],a[2]),!1):!0});a.length?this.Xb.Ta[this.identifier]=a:delete this.Xb.Ta[this.identifier]}};de.prototype.d=function(){var a=new de(this.Xb);Za(a,this);return a};function ee(a){this.bb=a;this.X={};this.Ta={}}ee.prototype.Ic=function(a,b){s(this.X[b])?$a(this.X[b],a)>=0||(this.X[b].push(a),this.X[b].sort(Jd)):(this.X[b]=[a],D(b.substring(0,5)=="touch"&&a!=this.bb?document:b.substring(0,3)=="key"?window:this.bb.a.parentNode,b,this,!1,this))};ee.prototype.Ca=function(a,b){s(this.X[b])&&(eb(this.X[b],a),this.X[b].length||(Lb(this.bb.a.parentNode,b,this,!1,this),delete this.X[b]))};function Rd(a,b){for(var c in a.X){var d=a.X[c];$a(d,b)>=0&&d.sort(Jd)}}
ee.prototype.P=function(a,b,c){var d=a.identifier;s(this.Ta[d])||(this.Ta[d]=[]);this.Ta[d].push([a.Ga,b,c]);D(a.Ga,b,r)};
ee.prototype.handleEvent=function(a){if(s(this.X[a.type])){for(var b=this.X[a.type].slice(),c=!1,d=0,e=0;!e;){var f=new de(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var h=a.Na.changedTouches[d];f.ua=new F(h.pageX,h.pageY);f.identifier=h.identifier;d++;d>=a.Na.changedTouches.length&&(e=1)}else f.ua=new F(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(s(this.Ta[f.identifier])){for(var h=
this.Ta[f.identifier],i=0;i<h.length;i++)if(h[i][1]==a.type||u(h[i][1])&&$a(h[i][1],a.type)>=0){var j=h[i][0];f.Ga=j;f.position=j.va(f.ua);h[i][2].call(j,f);c=!0}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup")delete f.Ga,f.Ca()}else for(i=0;i<b.length;i++)if(j=b[i],!((this.bb.l.length?this.bb.l[this.bb.l.length-1]:k)!=j.yc()&&j!=this.bb)&&!j.zc&&j.w)if(f.Ga=j,j.hb(f)||a.type.substring(0,3)=="key")if(f.Ga=j,j.dispatchEvent(f),c=!0,f.event.Ra)break}c&&a.preventDefault()}};function fe(a){this.tb=a||window;this.Cc=D(this.tb,"resize",this.Cf,!1,this);this.I=ec(this.tb||window);if(z&&Ca||Ha&&this.tb.self!=this.tb.top)this.Uc=window.setInterval(ka(this.ne,this),ge)}w(fe,Rb);var ge=500;n=fe.prototype;n.Cc=k;n.tb=k;n.I=k;n.Uc=k;n.f=function(){return this.I?this.I.d():k};n.ra=function(){fe.pb.ra.call(this);if(this.Cc)Mb(this.Cc),this.Cc=k;if(this.Uc)window.clearInterval(this.Uc),this.Uc=k;this.I=this.tb=k};n.Cf=function(){this.ne()};
n.ne=function(){var a=ec(this.tb||window);if(!(a==this.I||(!a||!this.I?0:a.width==this.I.width&&a.height==this.I.height)))this.I=a,this.dispatchEvent("resize")};function he(a,b,c){S.call(this);this.w=!0;this.ob(0,0);this.l=[];this.re=[];this.Yb="lime-director";Gd(this);a.appendChild(this.a);if(z&&Ia)this.qe=document.createElement("div"),Ub(this.qe,"lime-cover-below"),jc(this.qe,this.a),this.pe=document.createElement("div"),Ub(this.pe,"lime-cover-above"),kc(this.pe,this.a);a.style.position!="absolute"&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){Cc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(Ia&&!p.navigator.fg){var f=this;setTimeout(function(){window.scrollTo(0,0);f.hc()},100)}}var h,a=zc(a);this.c(new E(h=b||a.width||400,c||a.height*h/a.width||400));this.xc&&H(this.Ae);this.Gf=this.xc=!1;I.hf(this);if(this.Gf)this.Kd=new (this.Eg||
ce),ie(this,this.Kd);else if(this.Kd){if(this.l.length)Qd(this.l[this.l.length-1]),this.l[this.l.length-1].p=k,H(this.l[this.l.length-1].a),this.l.pop();delete this.Kd}b=new fe;D(b,"resize",this.hc,!1,this);D(p,"orientationchange",this.hc,!1,this);I.Jc(this.Mb,this);this.zb=new ee(this);D(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},!1,this);D(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1);this.hc()}w(he,S);n=he.prototype;n.T=function(){return this};
n.yc=function(){return k};n.Mb=function(a){if(this.xc&&(this.Be++,this.Yc+=a,this.Yc>100))this.zf=1E3*this.Be/this.Yc,mc(this.Ae,this.zf.toFixed(2)),this.Yc=this.Be=0;pc()};
function je(a,b){b.c(a.f().d());var c=k;a.l.length&&(c=a.l[a.l.length-1]);for(var d=[],e=a.l.length;--e>=0;)Qd(a.l[e]),d.push(a.l[e].a),a.l[e].p=k;a.l.length=0;a.l.push(b);b.a.style.display="none";a.a.appendChild(b.a);b.p=a;Pd(b);c=new $d(c,b);D(c,"end",function(){for(var a=d.length;--a>=0;)H(d[a])},!1,a);s(g)&&c.z(g);c.start()}n.sb=function(){this.C&=-65};function ie(a,b){b.c(a.f().d());a.l.push(b);a.a.appendChild(b.a);b.p=a;Pd(b)}
n.va=function(a){a=a.d();a.x-=this.Zb.x+this.j.x;a.y-=this.Zb.y+this.j.y;a.x/=this.D.x;a.y/=this.D.y;return a};n.Bb=function(a){a=a.d();a.x*=this.D.x;a.y*=this.D.y;a.x+=this.Zb.x+this.j.x;a.y+=this.Zb.y+this.j.y;return a};n.update=function(){S.prototype.update.call(this);for(var a=this.re.length;--a>=0;)this.re[a].update()};
n.hc=function(){var a=zc(this.a.parentNode);if(this.a.parentNode==document.body&&(window.scrollTo(0,0),ca(window.innerHeight)))a.height=window.innerHeight;var b=Wb(this.f().d(),a);this.A(b.width/this.f().width);a.width/a.height<b.width/b.height?this.b(0,(a.height-b.height)/2):this.b((a.width-b.width)/2,0);this.Zb=xc(this.a.parentNode);if(Ia&&this.a.parentNode==document.body){if(this.oc)b=this.oc,H(b.ownerNode||b.owningElement||b);this.oc=Cc("html{height:"+(a.height+120)+"px;overflow:hidden;}")}};
n.hb=function(a){if(a&&a.ua)a.position=this.va(a.ua);return!0};function ke(a,b,c){var d,e=zc(a);this.Ne=new E(d=b||e.width||400,c||e.height*d/e.width||400);he.call(this,a,b,c)}w(ke,he);
ke.prototype.hc=function(){var a=zc(this.a.parentNode);if(this.a.parentNode==document.body&&(window.scrollTo(0,0),ca(window.innerHeight)))a.height=window.innerHeight;var b;a.height>=a.width?(b=this.Ne.d(),b.width>=b.height&&le(b)):(b=this.Ne.d(),b.width<b.height&&le(b));this.c(b);var c=Wb(b.d(),a);this.A(c.width/this.f().width);a.width/a.height<c.width/c.height?this.b(0,(a.height-c.height)/2):this.b((a.width-c.width)/2,0);this.Zb=xc(this.a.parentNode);if(Ia&&this.a.parentNode==document.body){if(this.oc)c=
this.oc,H(c.ownerNode||c.owningElement||c);this.oc=Cc("html{height:"+(a.height+120)+"px;overflow:hidden;}")}a=this.l.length?this.l[this.l.length-1]:k;t(a)&&a.c(b)};function le(a){var b=a.width;a.width=a.height;a.height=b};new function(){this.Gg=ma()};function X(){S.call(this);this.Yb="lime-layer"}w(X,S);X.prototype.hb=function(a){for(var b=0,c;c=this.h[b];b++)if(c.hb(a))return a.position=this.va(a.ua),!0;return!1};O.Vc={};Q.Vc={};Q.Vc.i=function(a){var b=this.f();Q.r.i.call(this,a);Ad(a,b.width*0.5,b.height*0.5)};O.Vc.i=function(a){this.f();var b=this.na,c=M(this),d=(c.right-c.left)*0.5,c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,!1);a.closePath();a.restore();a.clip();O.r.i.call(this,a);this.F&&(a.lineWidth*=2,a.stroke());a.restore()};function me(a,b,c,d,e){this.vb=b;this.Wc=c;this.e=d;this.Xc=a;this.be=e||0}
me.prototype={Rb:!0,Oe:k,execute:function(a){var b;this.Rb&&this.vb&&(a=this.Oe?this.Oe.concat(a):a,b=this.vb.apply(this.e,a),this.Wc&&this.detach());return b},detach:function(){return this.Ee()?this.Xc.remove(this.vb):k},Ee:function(){return!!this.Xc&&!!this.vb},$d:function(){delete this.Xc;delete this.vb;delete this.e},toString:function(){return"[SignalBinding isOnce: "+this.Wc+", isBound: "+this.Ee()+", active: "+this.Rb+"]"}};function Y(){this.J=[]}
Y.prototype={ce:!0,Rb:!0,bf:function(a,b,c,d){var e=this.ae(a);if(e!==-1&&(e=this.J[e],e.e===c)){if(e.Wc!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");return e}e=new me(this,a,b,c,d);this.af(e);return e},af:function(a){var b=this.J.length;do--b;while(this.J[b]&&a.be<=this.J[b].be);this.J.splice(b+1,0,a)},ae:function(a){for(var b=this.J.length;b--;)if(this.J[b].vb===a)return b;return-1},add:function(a,b,
c){if(typeof a!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}","add"));return this.bf(a,!1,b,c)},remove:function(a){validateListener(a,"remove");var b=this.ae(a);b!==-1&&(this.J[b].$d(),this.J.splice(b,1));return a},Vf:function(){for(var a=this.J.length;a--;)this.J[a].$d();this.J.length=0},M:function(a){if(this.Rb){var b=Array.prototype.slice.call(arguments),c=this.J.slice(),d=this.J.length;this.ce=!0;do d--;while(c[d]&&this.ce&&c[d].execute(b)!==
!1)}},cb:function(){this.Vf();delete this.J},toString:function(){return"[Signal active: "+this.Rb+" numListeners: "+this.J.length+"]"}};function ne(a,b){W.call(this);this.Kc=a;this.Hb=b;this.c(100,100);var c=(new U).m("#c00").c(100,100);c.$c=63;this.Vb=K(c,7);this.appendChild(this.Vb);this.t=new X;S.prototype.appendChild.call(this,this.t);Dd(this.t,this.Vb);D(this,["mousedown","touchstart"],this.sf,!1,this);this.stop=0;this.V(Z);this.Hf=ma()}w(ne,W);var Z=0;n=ne.prototype;n.Pa=l("rf");n.V=function(a){this.rf=a;return this};n.ob=function(){this.Vb&&this.Vb.ob.apply(this.Vb,arguments);return S.prototype.ob.apply(this,arguments)};
n.appendChild=function(){return this.t?this.t.appendChild.apply(this.t,arguments):S.prototype.appendChild.apply(this,arguments)};n.removeChild=function(){return this.t?this.t.removeChild.apply(this.t,arguments):S.prototype.removeChild.apply(this,arguments)};
function oe(a){var b=a.t.lc();if(a.Pa()==Z){a.ac=a.t.j.y;var c=a.f().width;a.G=-b.left;a.B=Math.min(c-b.right,-b.left);b=b.right-b.left-c}else a.$b=a.t.j.x,c=a.f().height,a.G=-b.top,a.B=Math.min(c-b.bottom,-b.top),b=b.bottom-b.top-c;b>0&&(a.G-=b,a.B+=b);console.log("LOW=",a.G,"HIGH=",a.B)}
n.scrollTo=function(a,b){var c=this.t.j.d(),d=b||0;oe(this);a<0&&(a=0);if(this.Pa()==Z){c.x=this.B-a;if(c.x<this.G)c.x=this.G;c.x=pe(this,c.x)}else{c.y=this.B-a;if(c.y<this.G)c.y=this.G;c.y=pe(this,c.y)}(isNaN(c.x)||isNaN(c.y))&&console.log("pos NaN");t(this.Kc)&&this.Kc.M(this);d?(c=Pc(Uc((new be(c.x,c.y)).z(d)),Nc(0.19,0.6,0.35,0.97)),Td(this.t,c),D(c,"stop",function(){t(this.Hb)&&this.Hb.M(this.stop)},!1,this)):(this.t.b(c),t(this.Hb)&&this.Hb.M(this.stop))};
n.sf=function(a){if(!this.yd)t(this.Kc)&&this.Kc.M(this),a.position=!this.w?a.position:this.t.va(this.Bb(a.position)),this.$b=a.position.x,this.ac=a.position.y,this.Wa=0,this.yd=1,this.nc=this.Pa()==Z?this.Fc=this.t.j.x:this.Fc=this.t.j.y,isNaN(this.nc)&&console.log("old NaN"),oe(this),Sc.uc(this.t),I.Jc(this.me,this),a.P(["touchmove","mousemove"],this.Nf),a.P(["touchend","mouseup","touchcancel"],this.rg),this.event=a.d()};
n.me=function(){if(this.yd)this.Wa=(this.Fc-this.nc)*1.05,this.nc=this.Fc;this.Wa*=0.95;isNaN(this.Wa)&&console.log("bad v");this.Hf=ma()};n.Nf=function(a){var a=a.position.d(),b=this.Pa(),c;b==Z?(a.x-=this.$b,a.y=this.ac,c=a.x):(a.x=this.$b,a.y-=this.ac,c=a.y);c<this.G&&(c=this.G-c,c>250&&(c=250),c=this.G-c*0.4);c>this.B&&(c-=this.B,c>250&&(c=250),c=this.B+c*0.4);this.Fc=c;isNaN(c)&&console.log("pos NaN");b==Z?a.x=c:a.y=c;this.t.b(a)};
n.rg=function(a){var a=a.position.d(),b=this.Pa(),c;b==Z?(a.x-=this.$b,a.y=this.ac,c=a.x):(a.x=this.$b,a.y-=this.ac-this.f().height/2,c=a.y);I.Sc(this.me,this);var d,e;Math.abs(this.Wa>0.01)?(d=Math.log(0.5/Math.abs(this.Wa))/Math.log(0.95),e=d/30,d=Math.abs(this.Wa)*(Math.pow(0.95,d)-1)/(0.95-1)*(this.Wa>0?1:-1)):(d=0,e=1,d=0);c+=d;this.yd=0;if(this.Wa!=0){var f=d;if(c<this.G)f=this.G-(c-d),c=this.G;if(c>this.B)f=this.B-(c-d),c=this.B;e*=f/d}if(this.nc<this.G)c=this.G,e=0.3;if(this.nc>this.B)c=this.B,
e=0.3;isNaN(c)&&console.log("upHandler: activeval NaN");c=pe(this,c);b==Z?a.x=c:a.y=c;if(isNaN(e)||e>1)e=1;a=Pc(Uc((new be(a.x,a.y)).z(e)),Nc(0.19,0.6,0.35,0.97));D(a,"stop",function(){t(this.Hb)&&this.Hb.M(this.stop)},!1,this);Td(this.t,a)};function pe(a,b){var c=a.B,c=a.B-a.G;a.stop=0;t(a.xa)&&a.xa>=2?(c/=a.xa-1,a.stop=Math.round((a.B-b)/c),c=a.B-c*(a.stop+0.5)):c=0;(isNaN(a.stop)||!t(a.stop))&&console.log("BAD");return c}
function qe(a,b,c){oe(a);var d=a.B-a.G;t(a.xa)&&a.xa>=2&&(d/=a.xa-1);a.scrollTo(d*b,c)};var re,se,te,$=[{name:"Practice",Gd:"assets/Intro2.png",Ka:[{$:"#EE2200",ba:"#CC6644",start:new R(-7.9,-6.4)},{$:"#0044FF",ba:"#46C",start:new R(-7.9,-6.4)}],rd:20.3,origin:new R(0,0)},{name:"Game 1",Gd:"assets/Charlie.png",Ka:[{$:"#0044FF",ba:"#88AADD",start:new R(10.7,-1.7)},{$:"#EE2200",ba:"#CC6644",start:new R(11.7,-1.7)}],rd:20.3,origin:new R(0,0)},{name:"Game 2",Gd:"assets/ShowJumping.png",Ka:[{$:"#00DD00",ba:"#77BB22",start:new R(-10.1,3.1)},{$:"#0044FF",ba:"#4466CC",start:new R(-11.1,4.1)},
{$:"#EE2200",ba:"#CC6644",start:new R(-12.1,5.1)}],rd:20.5,origin:new R(0,0)}];function ue(){this.Wb=[];this.V(0,0,0,1)}w(ue,cd);n=ue.prototype;n.id="lineargradient";n.ud=function(a){(Ha||x)&&Ed(a,O)};n.V=function(a,b,c,d){this.H=[a,b,c,d];return this};n.addColorStop=function(a,b){var c=hb(arguments);c.shift();this.Wb.push([a,dd(c)]);return this};n.yf=function(a){return z?"color-stop("+a[0]+", "+a[1].ea+")":a[1].ea+" "+a[0]*100*this.Uf+"%"};
n.Jb=function(a,b){var c,d=M(b);c=d.right-d.left;var e=d.bottom-d.top;if(!z){var f=(this.H[2]-this.H[0])*c,h=(this.H[1]-this.H[3])*e,i=d.left+c*this.H[0],j=d.top+e*this.H[1],m=Math.atan2(h,f),q=-h/f;q==Infinity&&(q=Math.pow(10,10));d=m>0&&m<Math.PI/2?[d.right,d.top]:m>0?[d.left,d.top]:m>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/q*d[0]-j+q*i)/(q+1/q);q=q*d+j-i*q;d-=i;q-=j;this.Uf=Math.sqrt((f*f+h*h)/(d*d+q*q))}f=cb(this.Wb,this.yf,this);c=z?"-webkit-gradient(linear,"+this.H[0]*100+
"% "+this.H[1]*100+"%,"+this.H[2]*100+"% "+this.H[3]*100+"%,"+f.join(",")+")":"linear-gradient("+this.H[0]*100+"% "+this.H[1]*100+"% "+Math.atan2((this.H[1]-this.H[3])*e,(this.H[2]-this.H[0])*c)+"rad,"+f.join(",")+")";y&&(c="-moz-"+c);a.style.background=c};n.Ib=function(a,b){for(var c=this.H,d=M(b),e=d.right-d.left,f=d.bottom-d.top,c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]),d=0;d<this.Wb.length;d++)c.addColorStop(this.Wb[d][0],this.Wb[d][1].ea);a.fillStyle=c};function ve(a,b,c,d,e,f){var h;W.call(this);this.wg=a;this.Ag=b;this.zd=c;this.selectedIndex=0;this.fill=(new ue).V(0,1,1,1).addColorStop(0,"#444").addColorStop(0.3,"#EEE").addColorStop(0.5,"#FFF").addColorStop(0.7,"#EEE").addColorStop(1,"#444");c=new Y;c.add(function(a){this.selectedIndex=a;t(f)&&f.M(this.selectedIndex)},this);this.scroll=Yd((new ne(e,c)).Pc(2,"#000").m(this.fill),2).c(100,100);this.Aa=[];this.ca=new E(1,1);for(e=0;e<a.length;e++)c=b.te(),c.setData(a[e]),h=this.Aa[e]=c.getItem(),
c=h,this.ca.width=Math.ceil(Math.max(this.ca.width,c.f().width)),this.ca.height=Math.ceil(Math.max(this.ca.height,c.f().height)),this.scroll.appendChild(c);this.V(d);this.appendChild(this.scroll);this.kg=this.ca.width;if(d===1)this.kg=this.ca.height;this.Ha()}w(ve,W);n=ve.prototype;
n.Ha=function(){var a,b,c,d;if(this.scroll.Pa()==Z){b=this.ca.width*this.zd;c=this.ca.height;for(a=0;a<this.Aa.length;a++)d=this.Aa[a],d.b(a*this.ca.width,0)}else{b=this.ca.width;c=this.ca.height*this.zd;for(a=0;a<this.Aa.length;a++)d=this.Aa[a],d.b(0,a*this.ca.height)}this.scroll.c(b,c);qe(this.scroll,0)};n.Mc=function(a){this.zd=a;K(this,4);return this};n.Pa=function(){return this.scroll.Pa()};
n.V=function(a){this.scroll.V(a);a=a===Z?this.scroll.m(this.fill.V(0,0,1,0.01)):this.scroll.m(this.fill.V(1,0,1,1));a.xa=this.Aa.length;K(a,64);K(this,64);return this};n.qd=l("selectedIndex");n.Pd=function(a){a<0&&(a=0);a>this.Aa.length-1&&(a=this.Aa.length-1);if(a===this.selectedIndex)return this;this.selectedIndex=a;qe(this.scroll,a,0.5);return this};function we(a,b,c,d,e,f){S.call(this);this.id="ArrowSelector";this.rc=new ve(a,b,c,d,e,f);this.appendChild(this.rc);a=this.rc.scroll.f();console.log("w=",a.width,"h=",a.height);b=(new U).A(0.7).m("assets/leftUp.png");c=(new U).A(0.7).m("assets/leftDown.png");e=(new U).A(0.7).m("assets/leftUp.png");f=(new U).A(0.7).m("assets/leftDown.png");this.Tb=new xe(b,c);this.Tb.s=-1;this.Ub=new xe(e,f);this.Ub.s=1;this.appendChild(this.Tb);this.appendChild(this.Ub);b=13+a.width/2;d===Z?(Cd(this.Tb.b(-b,0),0),
Cd(this.Ub.b(b,0),180)):(b=13+a.height/2,Cd(this.Tb.b(0,-b),-90),Cd(this.Ub.b(0,b),90));D(this.Tb,["mousedown","touchstart"],this.je,!0,this);D(this.Ub,["mousedown","touchstart"],this.je,!0,this)}w(we,S);n=we.prototype;n.Mc=function(a){this.rc.Mc(a);return this};n.qd=function(){return this.rc.qd()};n.Pd=function(a){this.rc.Pd(a);return this};n.je=function(a){if(a.type=="mousedown"||a.type=="touchstart")console.log(this.id),a.P(["mouseup","touchend"],this.gf,!0)};
n.gf=function(a){var b=a.Ga.s,c=a.Ga.getParent(),d=c.qd();console.log("selectedndex=",d,"delta=",b);c.Pd(d+b);a.Ca()};function ye(){this.fd=k}ye.prototype.getData=l("fd");ye.prototype.setData=function(a){this.fd=a};ye.prototype.getItem=function(){var a=(new W).c(56,27),b=Yd((new W).m(this.fd).c(20,20),10);a.appendChild(b);return a};function ze(){}ze.prototype.te=function(){return new ye};function Ae(){this.v="undef"}Ae.prototype.getData=l("v");Ae.prototype.setData=function(a){this.v=a};Ae.prototype.getItem=function(){return(new V(this.v)).nb("center").Nc(10)};function Be(){}Be.prototype.te=function(){return new Ae};var Ce=0;function De(a){var b=new R(0,0);this.og=Ce++;this.Ff=a;this.wd=b;this.La=[];this.selected=k}function Ee(a){for(var b=[{position:a.Ff,Xa:a.wd}],c=a.La.length,d=0;d<c;d++)b[d+1]={position:new R(b[d].position.x+b[d].Xa.x,b[d].position.y+b[d].Xa.y),Xa:new R(b[d].Xa.x+a.La[d].x,b[d].Xa.y+a.La[d].y)};return b};function Fe(a){this.info=a;this.pa=0};function Ge(){this.Ze=new Y;this.$e=new Y;this.Rc=new Y;this.Vd=new Y;this.kf=new Y;this.ed=new Y;this.mb=new Y;this.Sa=new Y;this.nd=!0;this.k=this.Ba=0;this.yb=[];for(var a=$.length,b=0;b<a;b++)this.yb[b]=new Fe($[b])}Ge.prototype.Te=function(a){this.yb[this.k].pa=a};function He(a){W.call(this);this.e=a;this.m((new ue).V(0,0,1,1).addColorStop(0,"#CCC").addColorStop(0.2,"#EEE").addColorStop(0.4,"#EEE").addColorStop(0.6,"#CCC").addColorStop(0.7,"#BBB"));this.Pc(2,"#888");this.c(160,160);for(var b=[],c=0;c<$.length;c++)b[c]=$[c].name;this.mf=(new we(b,new Be,1,Z,a.Rc,a.Vd)).Mc(1).b(0,-12);this.appendChild(this.mf);this.appendChild((new V("Select game")).b(0,-50).O(12));a=(new Ie("Edit")).c(44,44).b(-50,50);this.appendChild(a);b=(new Ie("Race")).c(44,44).b(50,50);
this.appendChild(b);D(b,["mousedown","touchstart"],this.Tf,!0,this);D(a,["mousedown","touchstart"],this.vf,!0,this)}w(He,W);He.prototype.Tf=function(a){(a.type=="mousedown"||a.type=="touchstart")&&a.P(["mouseup","touchend"],la(this.jg,a,this),!0)};He.prototype.vf=function(a){(a.type=="mousedown"||a.type=="touchstart")&&a.P(["mouseup","touchend"],la(this.hg,a,this),!0)};He.prototype.jg=function(a,b){b.e.nd=!1;b.e.Ba=0;b.e.mb.M()};He.prototype.hg=function(a,b){b.e.nd=!0;b.e.Sa.M()};var Je={},Ke={};function Le(a){U.call(this);this.wa(a);this.Lc(Me);this.O(14);this.Ea("#000");this.nb("center");this.Nd("400");this.Nc(0);this.Od(1.15);this.m(255,255,255,0)}var Ne;w(Le,U);Le.prototype.id="label";var Me="Arial";Le.prototype.Fa=[pd(Q.r,Ke),pd(O.r,Je)];
(function(){var a;Le.prototype.measureText=function(){s(a)||(a=document.createElement("canvas").getContext("2d"));var b=this.gb();a.font=this.S+"px "+this.eb;var c=a.measureText(this.v),c=z?c.width:c.width+1;Fc&&(c+=1);var d=this.F?this.F.ma:0;return new E(this.g[1]+this.g[3]+c+d*2,this.g[0]+this.g[2]+b*this.S+d*2)}})();n=Le.prototype;n.f=function(){var a=S.prototype.f.call(this);return!a||!a.width&&!a.height?this.measureText():a};n.wa=function(a){this.v=a+"";K(this,4);delete this.ub;return this};
n.pd=l("md");n.Kb=function(a){(a=!s(a)||!!a)&&!this.md?D(this,["touchstart","mousedown"],this.Ve,!1,this):!a&&this.md&&Lb(this,["touchstart","moudedown"],this.Ve,!1,this);this.md=a;return this};n.Nd=function(a){this.fc=a;K(this,8);return this};n.Lc=function(a){this.eb=a;K(this,8);return this};n.O=function(a){this.S=a;K(this,8);return this};n.Ea=function(a){this.ec=a;K(this,8);return this};n.Nc=function(a,b,c,d){a=[a,a,a,a];s(b)&&(a[1]=a[3]=b);s(c)&&(a[2]=c);s(d)&&(a[3]=d);this.g=a;K(this,8);return this};
n.Od=function(a,b){this.Cd=b||!1;this.jc=a};n.gb=function(){return this.Cd?this.jc/this.S:this.jc};n.nb=function(a){this.Sb=a;K(this,8);return this};
n.Ve=function(a){var b=Oe();H(b);document.body.appendChild(b);b.Ad=this;var c=new F(25,25);tc(b,new F(a.ua.x-c.x,a.ua.y-c.y));a.Le=!0;var d=this;a.P(["mousemove","touchmove"],function(d){tc(b,new F(a.ua.x-c.x,a.ua.y-c.y));d.Le=!0});a.P(["mouseup","touchend","touchcancel"],function(a){setTimeout(function(){b.value=d.v;if(!Gc)b.style.left="-100px"},500);b.focus();a.Le=!0})};
function Oe(){if(!Ne){var a=document.createElement("input");a.style.position="absolute";Bc(a,0);a.style.width="50px";a.style.height="50px";Ne=a;D(a,"keyup",function(){this.Ad&&this.Ad.wa(this.value)},!1,a);D(a,"blur",function(){this.Ad=k;this.value="";H(this)},!1,a)}return Ne}
n.dd=function(){var a=[],b=this.v.length,c=this.v.match(y?/[\s\.]+/g:/[\s-\.]+/g),d=0;if(c)for(var e=0;e<c.length;e++){var f=c[e],f=this.v.indexOf(f,d)+f.length;a.push(this.v.substring(d,f));d=f}d!=b&&a.push(this.v.substring(d,b));return a};n.Xd=function(a,b){for(var c=[],d="",e=this.ub,f,h=0;h<e.length;h++)d==""?d=e[h]:(f=a.measureText(na(d+e[h])),f.width>b?(c.push(na(d)),d=e[h]):d+=e[h]);c.push(d);return c};n.update=function(){this.C&4&&delete this.ic;S.prototype.update.apply(this,arguments)};
Ke.i=function(a){Q.r.i.call(this,a);var b=a.style;this.C&4&&mc(a,this.v);if(this.C&8)b.lineHeight=this.gb(),b.padding=cb(this.g,function(a){return a*md(this)},this).join("px ")+"px",b.color=this.ec,b.fontFamily=this.eb,b.fontSize=this.S*md(this)+"px",b.fontWeight=this.fc,b.textAlign=this.Sb};
Je.i=function(a){O.r.i.call(this,a);var b=M(this),c=-b.left-this.g[3]+b.right-this.g[1],d=0;if(!this.ub)this.ub=this.dd(),d=1;var e=this.F?this.F.ma:0;a.save();var f=this.Sb;f=="left"?a.translate(b.left+this.g[3]+e,b.top+this.g[0]+e):f=="right"?a.translate(b.right-this.g[1]-e,b.top+this.g[0]+e):f=="center"&&a.translate((b.left+this.g[3]+b.right-this.g[1])*0.5,b.top+this.g[0]+e);b=this.gb();a.fillStyle=this.ec;a.font=this.fc+" "+this.S+"px/"+b+" "+this.eb;a.textAlign=f;a.textBaseline="top";if(d||c!=
this.ic)this.jb=this.Xd(a,c),this.ic=c;if(this.jb){c=b*this.S;c=z?Math.floor(c):Math.round(c);for(d=0;d<this.jb.length;d++)a.fillText(this.jb[d],0,c*d)}a.restore()};function Pe(a,b,c){U.call(this);this.x=a;this.y=b;this.rb=c;this.ba=Od((new W).m("#44CC00").c(57,80),0);this.appendChild(this.ba);this.If=(new V("(")).O(36).b(-23,-5).A(1,2);this.appendChild(this.If);this.Wf=(new V(")")).O(36).b(22,-5).A(1,2);this.appendChild(this.Wf);this.Ye=(new Le(a.toString())).nb("center").O(26).b(0,-17);this.appendChild(this.Ye);this.ie=(new Le(b.toString())).nb("center").O(26).b(0,23);this.appendChild(this.ie);this.c(57,80);this.lb=new X;var c=(new V("click")).O(18).Ea("#888").b(0,
-17),d=(new V("to")).O(18).Ea("#888").b(0,0),e=(new V("add")).O(18).Ea("#888").b(0,17);this.lb.appendChild(c);this.lb.appendChild(d);this.lb.appendChild(e);this.appendChild(this.lb);T(this.lb,a!==""&&b!=="");t(this.rb)&&D(this,["mousedown","touchstart"],this.ng,!1,this)}w(Pe,U);n=Pe.prototype;n.Kb=function(a){Od(this.ba,a?1:0);return this};n.pd=function(){return this.ba.L!==0};n.Ud=function(){this.Kb(!this.pd())};
n.ng=function(a){t(this.rb)&&(a.type=="mousedown"||a.type=="touchstart")&&a.P(["mouseup","touchend","touchcancel"],this.mg)};n.mg=function(a){a.Ca();this.rb.M(this)};function Qe(a,b){a.x=b;a.Ye.wa(b.toString());T(a.lb,b!=="")}function Re(a,b){a.y=b;a.ie.wa(b.toString());T(a.lb,b!=="")}n.setData=function(a){this.pf=a;return this};n.getData=l("pf");function xe(a,b){X.call(this);this.Yb="lime-button";if(s(a))this.W=a,this.appendChild(this.W),this.tc=-1,Se(this,Te);s(b)&&Ue(this,b);var c=this;D(this,["mousedown","touchstart","touchmove"],function(a){Se(c,Ve);a.P("mousemove",function(a){c.hb(a)?Se(c,Ve):Se(c,Te)});a.P("touchmove",function(a){c.hb(a)||(Se(c,Te),a.Ca())});a.P(["mouseup","touchend"],function(a){c.hb(a)&&c.dispatchEvent({type:We});Se(this,Te)})})}w(xe,X);var Te=0,Ve=1,We="click";
function Ue(a,b){a.za=b;a.appendChild(b);a.tc=-1;Se(a,Te)}function Se(a,b){if(b!=a.tc){a.tc==Te&&b==Ve&&a.dispatchEvent({type:"down"});a.tc==Ve&&b==Te&&a.dispatchEvent({type:"up"});var c=a.W;if(s(a.za))Ve==b?c=a.za:T(a.za,!0);c!=a.W&&T(a.W,!0);T(c,!1);a.tc=b}};function Ie(a){xe.call(this,Xe(a),Xe(a));this.borderWidth=2;this.wa(a);this.Da("#62be00")}w(Ie,xe);function Xe(a){var b=new W;b.Bc=new W;b.label=(new V(a)).nb("center").Lc('"Trebuchet MS"').Ea("#010101").O(17);b.appendChild(b.Bc);b.Bc.appendChild(b.label);return b}
Ie.prototype.Da=function(a){a=dd(a);ab([this.W,this.za],function(b){var c;b==this.za?(c=a.d(),c=hd(c,1,-0.2)):c=a;b.m(c);var d=(new ue).V(0,0,0,1);d.addColorStop(0,gd(c.d(),0.13));d.addColorStop(0.5,gd(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.Bc.m(d)},this);return this};Ie.prototype.wa=function(a){this.W.label.wa(a);this.za.label.wa(a);return this};
Ie.prototype.c=function(a,b){if(this.W){this.W.c.apply(this.W,arguments);var c=this.W.f();ab([this.W,this.za],function(a){a.c(c);var b=c.d();b.width-=this.borderWidth;b.height-=this.borderWidth;a.Bc.c(b)},this)}return this};Ie.prototype.f=function(){return this.W.f()};function Ye(a,b,c){X.call(this);this.e=a;this.k=b;this.pa=c;this.name="anEditor";var d=$[b].Ka[c];this.ka=0;this.$=d.$;this.qc=(new X).A(1,1).b(0,30);this.appendChild(this.qc);this.Q=new De(d.start);a.Ze.M(b,c,this.Q);a=(new ue).V(0,0,1,0.01).addColorStop(0,"#444").addColorStop(0.3,"#EEE").addColorStop(0.5,"#FFF").addColorStop(0.7,"#EEE").addColorStop(1,"#444");this.scroll=(new ne).Pc(2,"#000").ob(0,0.5).b(-45,0).c(90,44).m(a);this.qc.appendChild(this.scroll);this.Ob=[];this.rb=new Y;this.rb.add(this.Ud,
this);this.scroll.appendChild(Od((new Pe(0,0,k)).b(0,0),0.5).A(0.5,0.5));this.Ud(Ze(this,0,this.rb));a=this.scroll;a.xa=1;K(a,64);for(a=-1;a<=1;a+=2)for(b=-1;b<=1;b+=2)c=(new Ie(b>=0?"+":"-")).b(25*b,44*a).Da("#44CC00").c(44,44),c.W.label.O(36),c.za.label.O(36),c.Yf=a,c.s=a<0?new R(b,0):new R(0,b),this.qc.appendChild(c),D(c,["mousedown","touchstart"],this.jf,!1,this);a=(new U).A(0.9).m("assets/leftUp.png");b=(new U).A(0.9).m("assets/leftDown.png");a=(new xe(a,b)).b(-60,0);a.name="leftButton";this.qc.appendChild(a);
b=(new U).A(0.9).m("assets/rightUp.png");c=(new U).A(0.9).m("assets/rightDown.png");b=(new xe(b,c)).b(60,0);a.name="rightButton";this.qc.appendChild(b);this.scrollTo(1,2);D(a,["mousedown","touchstart"],this.scrollLeft,!0,this);D(b,["mousedown","touchstart"],this.ag,!0,this)}w(Ye,X);function Ze(a,b,c){console.log("append "+b);b=(new Pe("","",c)).b(30*(b+1),0).setData(b).A(0.5,0.5);b.ba.m(a.$);a.scroll.appendChild(b);c=a.scroll;c.xa=a.scroll.xa+1;K(c,64);a.Ob.push(b);return b}n=Ye.prototype;
n.Ud=function(a){if(a.pd())a.Kb(!1),this.cursor=this.Q.selected=k;else{t(this.cursor)&&this.cursor.Kb(!1);if(a.x===""||a.y===""){var b=a.getData(),c=this.Ob[b-1];b>0?(Qe(a,c.x),Re(a,c.y)):(Qe(a,this.Q.wd.x),Re(a,this.Q.wd.y));Ze(this,a.getData()+1,this.rb);var c=this.Q,d=new R(0,0);b<=c.La.length&&(c.La[b]=d);this.scrollTo(b,2)}this.select(a.getData());$e(this)}};
n.select=function(a){if(t(this.cursor))console.log("deselect "+this.cursor.getData()),this.cursor.Kb(!1),this.cursor=k,this.Q.selected=k;console.log("select "+a);this.cursor=this.Ob[a];this.cursor.Kb(!0);this.ka=a;this.Q.selected=a};
n.jf=function(a){if(t(this.cursor)){var b=this.cursor.getData(),c=new R(0,0);if(b>0){var d=this.Ob[b-1];c.x=d.x;c.y=d.y}if(a.target.Yf<0){a=this.cursor.x+a.target.s.x;if(Math.abs(a-c.x)>2)return;Qe(this.cursor,a)}else{a=this.cursor.y+a.target.s.y;if(Math.abs(a-c.y)>2)return;Re(this.cursor,a)}a=this.Q;d=new R(this.cursor.x,this.cursor.y);d.x-=c.x;d.y-=c.y;b<=a.La.length&&(a.La[b]=d);$e(this)}};
function $e(a){for(var b=Ee(a.Q),c=b.length,d=1;d<c;d++){var e=a.Ob[d-1],f=b[d];Qe(e,f.Xa.x);Re(e,f.Xa.y)}a.e.$e.M(a.e,a.Q)}n.scrollLeft=function(a){if(a.type=="mousedown"||a.type=="touchstart")a.event.stopPropagation(),a.P(["mouseup","touchend"],this.$f)};n.ag=function(a){if(a.type=="mousedown"||a.type=="touchstart")a.event.stopPropagation(),a.P(["mouseup","touchend"],this.bg)};
n.$f=function(a){a.event.stopPropagation();a.Ca();a=this.getParent().getParent();a.ka>0&&--a.ka;a.select(a.ka);a.scrollTo(a.ka,2);$e(a);console.log("scrollTo "+a.ka)};n.bg=function(a){a.event.stopPropagation();a.Ca();a=this.getParent().getParent();a.ka<a.Ob.length-2&&++a.ka;a.select(a.ka);a.scrollTo(a.ka,2);$e(a);console.log(a.name+" scrollTo "+(a.ka-1))};n.scrollTo=function(a,b){var c=b||0;console.log("scrolling to:",a);this.scroll.scrollTo(a*30,c)};function af(a,b){W.call(this);this.e=a;this.k=b;var c=$[b];if(t(c.Ka)){this.pa=a.yb[a.k].pa;this.ye=[];for(var d=0;d<c.Ka.length;d++){var e=(new Ye(this.e,b,d)).b(0,-10).A(0.9,0.9);this.ye[d]=e;if(d===this.pa)this.cc=e,this.appendChild(e)}for(var c=new Y,d=new Y,e=$[b],f=[],h=0;h<e.Ka.length;h++)f[h]=e.Ka[h].$;this.lf=(new we(f,new ze,1,Z,c,d)).Mc(1).b(0,-60);this.appendChild(this.lf);c.add(this.gg,this);d.add(this.wf,this)}}w(af,W);af.prototype.gg=function(){Td(this.cc,(new Zd(0)).z(1));this.e.kf.M()};
af.prototype.wf=function(a){anim=(new Zd(1)).z(0.3);var b=this.ye[a];Sc.uc(this.cc);this.cc===b?Od(b,1):(this.removeChild(this.cc),this.cc=b,Od(b,0),this.appendChild(b),Td(b,anim),this.e.Te(a),this.e.ed.M(this.e,a))};function bf(a){W.call(this);this.m((new ue).V(0,0,1,1).addColorStop(0,"#CCC").addColorStop(0.2,"#EEE").addColorStop(0.4,"#EEE").addColorStop(0.6,"#CCC").addColorStop(0.7,"#BBB"));this.Pc(2,"#888");this.e=a;this.$a=[];this.Z=new X;this.appendChild(this.Z);for(var b=0;b<$.length;b++)colourSelector=new af(a,b),this.$a[b]=colourSelector,b===a.k&&this.Z.appendChild(colourSelector);a.Rc.add(this.Sd,this);a.Vd.add(this.od,this);a.mb.add(this.mb,this);a.Sa.add(this.Sa,this)}w(bf,W);
bf.prototype.Sd=function(){this.Id=this.$a[this.e.k];this.name="A colourSelectorsView";Td(this.Id,(new Zd(0)).z(1))};bf.prototype.od=function(a){Sc.uc(this.Id);this.Z.removeChild(this.Id);this.e.k=a;this.e.ed.M(0);a=this.$a[a];t(a)||console.log("BAD COURSE INDEX");Od(a,0);this.Z.appendChild(a);Sc.uc(this.Z);anim=(new Zd(1)).z(0.3);Td(a,anim)};bf.prototype.mb=function(){this.removeChild(this.Z)};bf.prototype.Sa=function(){this.appendChild(this.Z)};O.Yd={};function cf(){U.call(this)}w(cf,U);cf.prototype.id="canvas";cf.prototype.Fa=[pd(O.r,O.Yd)];cf.prototype.i=r;O.Yd.i=function(a){O.r.i.call(this,a);this.i(a)};function df(a,b,c){U.call(this);this.k=a;this.pa=b;this.Q=c;this.Ba=k}w(df,cf);df.prototype.Te=function(a){this.pa=a;K(this,4)};df.prototype.Ha=function(a){this.Ba=a;K(this,4)};
df.prototype.i=function(a){if(this.Q!==k){var b=$[this.k],c=b.Ka[this.pa],b=b.rd,d=-b,e=Ee(this.Q),f=this.Q.selected;a.clearRect(0,0,320,320);a.strokeStyle=c.$;a.lineCap="round";a.lineJoin="round";a.lineWidth=4;a.beginPath();var h=e.length;t(this.Ba)&&(h=Math.min(h,this.Ba));for(var i=0;i<h;i++){var j=e[i],m=j.position,q=j.Xa,j=m.x*b,o=j+q.x*b,m=m.y*d,q=m+q.y*d;i===f+1?(a.stroke(),a.lineWidth=4,a.strokeStyle=c.ba,a.beginPath(),a.moveTo(j,m),a.lineTo(o,q),a.rect(o-4,q-4,8,8),a.stroke(),a.strokeStyle=
c.$,a.lineWidth=2,a.beginPath()):(a.moveTo(j,m),a.lineTo(o,q),a.rect(o-4,q-4,8,8))}a.stroke()}};function ef(a,b){W.call(this);this.k=b||a.k;this.e=a;this.nf=$[this.k];this.m(this.nf.Gd);a.Ze.add(this.of,this);a.$e.add(this.Ha,this);this.ga=[];a.ed.add(this.Ha,this);a.mb.add(this.mb,this);a.Sa.add(this.Sa,this)}w(ef,W);n=ef.prototype;n.of=function(a,b,c){this.k==a&&(console.log("createTrackView: ",a,b,c.og),b<this.ga.length&&t(this.ga[b])||(a=(new df(a,b,c)).c(640,640),this.ga[b]=a,this.appendChild(a)))};
n.Ha=function(a){if(a.k==this.k){console.log("redraw course: ",this.k);var b,c;if(a.nd){c=this.ga.length;for(b=0;b<c;b++)T(this.ga[b],b!=a.yb[a.k].pa);a=a.yb[a.k].pa;b=k;a<this.ga.length&&(b=this.ga[a]);t(b)&&b.Ha(k)}else{c=this.ga.length;for(b=0;b<c;b++){var d=this.ga[b];t(d)&&d.Ha(a.Ba)}}}};n.mb=function(){this.Gc=0;I.Se(this.Ba,this,500)};n.Sa=function(){this.e.k==this.k&&console.log("raceEnded")};
n.Ba=function(){if(this.e.k==this.k){for(var a=!0,b=this.ga.length,c=0;c<b;c++){var d=this.ga[c];T(d,!1);this.Gc<=d.Q.La.length+1&&(a=!1,console.log("racing course:",this.k,"colour:",c,"step:",this.Gc),d=this.ga[c],t(d)&&d.Ha(this.Gc))}this.Gc++;a&&(I.Sc(ef.prototype.Ba,this),this.e.Sa.M())}};function ff(a){W.call(this);this.e=a;this.oe=[];this.Z=new X;this.appendChild(this.Z);for(var b=0;b<$.length;b++)view=(new ef(a,b)).A(0.5).b(b*320,0),this.oe[b]=view,this.Z.appendChild(view);a.Rc.add(this.Sd,this);a.Vd.add(this.od,this)}w(ff,W);ff.prototype.Sd=function(){anim=new Wd(Pc((new be(-this.e.yb.length*320/2,0)).z(2),Oc),Pc((new ae(0.5,0.5)).z(2),Oc));Td(this.Z,anim)};
ff.prototype.od=function(a){this.e.k=a;var b=this.oe[a];t(b)||console.log("BAD COURSE INDEX");b.Ha(this.e);Sc.uc(this.Z);anim=new Vd((new Ud).z(0.1),new Wd((new be(-a*320,0)).z(0.3),Pc((new ae(1,1)).z(0.3),Oc)));Td(this.Z,anim)};function gf(){P.call(this);this.e=new Ge;var a=new X;this.appendChild(a);this.Fd=Yd((new ff(this.e)).c(320,320),5);a.appendChild(this.Fd);this.Qd=Yd((new He(this.e)).c(160,160),5);a.appendChild(this.Qd);this.$a=Yd((new bf(this.e)).c(160,160),5);a.appendChild(this.$a)}w(gf,P);
gf.prototype.c=function(a,b){this.f();var c;c=arguments.length==2?new E(arguments[0],arguments[1]):a;gf.pb.c.call(this,c);t(this.Fd)&&(this.Fd.b(160,160),c.height>=c.width?(this.Qd.b(80,400),this.$a.b(240,400)):(this.Qd.b(400,80),this.$a.b(400,240)));return this};gf.prototype.Rc=function(){console.log("track change started ")};function hf(){this.name="Startup";P.call(this)}w(hf,P);hf.prototype.Bf=function(){je(re,new gf)};function jf(){}
function kf(){var a=re=new ke(document.body,480,320);a.xc&&H(a.Ae);a.xc=!1;se=new Y;se.add(jf);te=new hf;I.cg();var a=re,b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=!1;s(localStorage)&&(b=localStorage.getItem("_lime_visited"));/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&
!window.navigator.fg&&!b&&a.a.parentNode==document.body&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),s(localStorage)&&localStorage.setItem("_lime_visited",!0));je(re,te);a=new X;te.T().f();b=(new ue).V(0,0,1,1).addColorStop(0,"#CCC").addColorStop(0.2,"#EEE").addColorStop(0.4,"#EEE").addColorStop(0.6,"#CCC").addColorStop(0.7,"#BBB");b=(new U).m(b).b(160,240).c(480,480);a.appendChild(b);b=(new V("Racer")).O(24).b(160,100);a.appendChild(b);b=(new Ie("Start")).c(200,
50).b(160,160).Da("#88AA00");b.W.label.Ea("#FFF");b.za.label.Ea("#FFF");a.appendChild(b);te.appendChild(a);D(b,["click","touchstart"],te.Bf)}var lf="racer.start".split("."),mf=p;!(lf[0]in mf)&&mf.execScript&&mf.execScript("var "+lf[0]);for(var nf;lf.length&&(nf=lf.shift());)!lf.length&&s(kf)?mf[nf]=kf:mf=mf[nf]?mf[nf]:mf[nf]={};
